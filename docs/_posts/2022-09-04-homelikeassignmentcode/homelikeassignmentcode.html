<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Product analysis: A/B testing and KPI analysis of products for a start-up</title>

  <meta property="description" itemprop="description" content="This post discusses identifying and analyzing KPIs for products as well as undertaking A/B testing to make recommendations to the products team. The post is an end-to-end project that demonstrates how to support product development with statistical analysis."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-09-04"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-09-04"/>
  <meta name="article:author" content="Linus Agbleze"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Product analysis: A/B testing and KPI analysis of products for a start-up"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="This post discusses identifying and analyzing KPIs for products as well as undertaking A/B testing to make recommendations to the products team. The post is an end-to-end project that demonstrates how to support product development with statistical analysis."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Product analysis: A/B testing and KPI analysis of products for a start-up"/>
  <meta property="twitter:description" content="This post discusses identifying and analyzing KPIs for products as well as undertaking A/B testing to make recommendations to the products team. The post is an end-to-end project that demonstrates how to support product development with statistical analysis."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","draft","categories"]}},"value":[{"type":"character","attributes":{},"value":["Product analysis: A/B testing and KPI analysis of products for a start-up"]},{"type":"character","attributes":{},"value":["This post discusses identifying and analyzing KPIs for products as well as undertaking A/B testing to make recommendations to the products team. The post is an end-to-end project that demonstrates how to support product development with statistical analysis.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Linus Agbleze"]},{"type":"character","attributes":{},"value":["https://agbleze.github.io/Portfolio/"]}]}]},{"type":"character","attributes":{},"value":["2022-09-04"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article","html_document","html_notebook","word_document","pdf_document"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["highlight","fig_width","fig_height","fig_caption","keep_md","df_print","theme"]}},"value":[{"type":"character","attributes":{},"value":["espresso"]},{"type":"integer","attributes":{},"value":[8]},{"type":"integer","attributes":{},"value":[6]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["default"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["color-contrast-warnings","bg","fg","primary","secondary","base_font","heading_font"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["#202123"]},{"type":"character","attributes":{},"value":["#B8BCC2"]},{"type":"character","attributes":{},"value":["#EA80FC"]},{"type":"character","attributes":{},"value":["#00DAC6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["google"]}},"value":[{"type":"character","attributes":{},"value":["Prompt"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["google"]}},"value":[{"type":"character","attributes":{},"value":["Proza Libre"]}]}]}]},{"type":"character","attributes":{},"value":["default"]},{"type":"character","attributes":{},"value":["default"]},{"type":"character","attributes":{},"value":["default"]}]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["product analysis","R","A/B testing","Hypothesis testing","Product KPI analysis"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["bq-results-20210714.csv","bq-results-20210715.csv","bq-results-20210716.csv","bq-results-20210717.csv","bq-results-20210718.csv","funnel_user_journey.png","homelikeassignmentcode_files/anchor-4.2.2/anchor.min.js","homelikeassignmentcode_files/bowser-1.9.3/bowser.min.js","homelikeassignmentcode_files/crosstalk-1.1.1/css/crosstalk.css","homelikeassignmentcode_files/crosstalk-1.1.1/js/crosstalk.js","homelikeassignmentcode_files/crosstalk-1.1.1/js/crosstalk.js.map","homelikeassignmentcode_files/crosstalk-1.1.1/js/crosstalk.min.js","homelikeassignmentcode_files/crosstalk-1.1.1/js/crosstalk.min.js.map","homelikeassignmentcode_files/datatables-binding-0.18/datatables.js","homelikeassignmentcode_files/datatables-css-0.0.0/datatables-crosstalk.css","homelikeassignmentcode_files/distill-2.2.21/template.v2.js","homelikeassignmentcode_files/dt-core-1.10.20/css/jquery.dataTables.extra.css","homelikeassignmentcode_files/dt-core-1.10.20/css/jquery.dataTables.min.css","homelikeassignmentcode_files/dt-core-1.10.20/js/jquery.dataTables.min.js","homelikeassignmentcode_files/figure-html5/unnamed-chunk-13-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-14-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-15-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-16-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-17-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-18-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-19-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-2-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-20-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-21-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-22-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-27-1.png","homelikeassignmentcode_files/figure-html5/unnamed-chunk-31-1.png","homelikeassignmentcode_files/header-attrs-2.14/header-attrs.js","homelikeassignmentcode_files/highchart-binding-0.8.2/highchart.js","homelikeassignmentcode_files/highcharts-8.1.2/css/htmlwdgtgrid.css","homelikeassignmentcode_files/highcharts-8.1.2/css/motion.css","homelikeassignmentcode_files/highcharts-8.1.2/custom/appear.js","homelikeassignmentcode_files/highcharts-8.1.2/custom/reset.js","homelikeassignmentcode_files/highcharts-8.1.2/custom/symbols-extra.js","homelikeassignmentcode_files/highcharts-8.1.2/custom/text-symbols.js","homelikeassignmentcode_files/highcharts-8.1.2/highcharts-3d.js","homelikeassignmentcode_files/highcharts-8.1.2/highcharts-more.js","homelikeassignmentcode_files/highcharts-8.1.2/highcharts.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/accessibility.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/annotations-advanced.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/annotations.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/arrow-symbols.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/boost-canvas.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/boost.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/broken-axis.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/bullet.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/coloraxis.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/current-date-indicator.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/cylinder.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/data.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/datagrouping.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/debugger.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/dependency-wheel.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/dotplot.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/drag-panes.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/draggable-points.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/drilldown.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/dumbbell.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/export-data.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/exporting.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/full-screen.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/funnel.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/funnel3d.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/gantt.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/grid-axis.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/heatmap.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/histogram-bellcurve.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/item-series.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/lollipop.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/map.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/marker-clusters.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/networkgraph.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/no-data-to-display.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/offline-exporting.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/oldie-polyfills.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/oldie.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/organization.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/overlapping-datalabels.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/parallel-coordinates.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/pareto.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/pathfinder.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/pattern-fill.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/price-indicator.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/pyramid3d.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/sankey.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/series-label.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/solid-gauge.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/sonification.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/static-scale.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/stock-tools.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/stock.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/streamgraph.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/sunburst.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/tilemap.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/timeline.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/treegrid.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/treemap.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/variable-pie.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/variwide.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/vector.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/venn.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/windbarb.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/wordcloud.js","homelikeassignmentcode_files/highcharts-8.1.2/modules/xrange.js","homelikeassignmentcode_files/highcharts-8.1.2/plugins/draggable-legend.js","homelikeassignmentcode_files/highcharts-8.1.2/plugins/grouped-categories.js","homelikeassignmentcode_files/highcharts-8.1.2/plugins/highcharts-regression.js","homelikeassignmentcode_files/highcharts-8.1.2/plugins/motion.js","homelikeassignmentcode_files/highcharts-8.1.2/plugins/multicolor_series.js","homelikeassignmentcode_files/highcharts-8.1.2/plugins/pattern-fill-v2.js","homelikeassignmentcode_files/highcharts-8.1.2/plugins/tooltip-delay.js","homelikeassignmentcode_files/htmlwidgets-1.5.3/htmlwidgets.js","homelikeassignmentcode_files/jquery-3.6.0/jquery-3.6.0.js","homelikeassignmentcode_files/jquery-3.6.0/jquery-3.6.0.min.js","homelikeassignmentcode_files/jquery-3.6.0/jquery-3.6.0.min.map","homelikeassignmentcode_files/plotly-binding-4.9.4.1/plotly.js","homelikeassignmentcode_files/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css","homelikeassignmentcode_files/plotly-main-1.57.1/plotly-latest.min.js","homelikeassignmentcode_files/popper-2.6.0/popper.min.js","homelikeassignmentcode_files/proj4js-2.3.15/proj4.js","homelikeassignmentcode_files/tippy-6.2.7/tippy-bundle.umd.min.js","homelikeassignmentcode_files/tippy-6.2.7/tippy-light-border.css","homelikeassignmentcode_files/tippy-6.2.7/tippy.css","homelikeassignmentcode_files/tippy-6.2.7/tippy.umd.min.js","homelikeassignmentcode_files/typedarray-0.1/typedarray.min.js","homelikeassignmentcode_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        if ($(this).children()[0].nodeName == "D-FOOTNOTE") {
          var fn = $(this).children()[0]
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="homelikeassignmentcode_files/header-attrs-2.14/header-attrs.js"></script>
  <script src="homelikeassignmentcode_files/htmlwidgets-1.5.3/htmlwidgets.js"></script>
  <script src="homelikeassignmentcode_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="homelikeassignmentcode_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
  <script src="homelikeassignmentcode_files/datatables-binding-0.18/datatables.js"></script>
  <link href="homelikeassignmentcode_files/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
  <link href="homelikeassignmentcode_files/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
  <script src="homelikeassignmentcode_files/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
  <link href="homelikeassignmentcode_files/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
  <script src="homelikeassignmentcode_files/crosstalk-1.1.1/js/crosstalk.min.js"></script>
  <script src="homelikeassignmentcode_files/plotly-binding-4.9.4.1/plotly.js"></script>
  <script src="homelikeassignmentcode_files/typedarray-0.1/typedarray.min.js"></script>
  <link href="homelikeassignmentcode_files/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
  <script src="homelikeassignmentcode_files/plotly-main-1.57.1/plotly-latest.min.js"></script>
  <script src="homelikeassignmentcode_files/proj4js-2.3.15/proj4.js"></script>
  <link href="homelikeassignmentcode_files/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/highcharts.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/highcharts-3d.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/highcharts-more.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/stock.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/map.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/annotations.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/data.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/drilldown.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/item-series.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/offline-exporting.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/exporting.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/export-data.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/funnel.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/heatmap.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/treemap.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/sankey.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/dependency-wheel.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/organization.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/solid-gauge.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/streamgraph.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/sunburst.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/vector.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/wordcloud.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/xrange.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/tilemap.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/venn.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/gantt.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/timeline.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/bullet.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/coloraxis.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/dumbbell.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/lollipop.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/series-label.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/plugins/motion.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/custom/reset.js"></script>
  <script src="homelikeassignmentcode_files/highcharts-8.1.2/modules/boost.js"></script>
  <script src="homelikeassignmentcode_files/highchart-binding-0.8.2/highchart.js"></script>
  <script src="homelikeassignmentcode_files/popper-2.6.0/popper.min.js"></script>
  <link href="homelikeassignmentcode_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="homelikeassignmentcode_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="homelikeassignmentcode_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="homelikeassignmentcode_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="homelikeassignmentcode_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="homelikeassignmentcode_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="homelikeassignmentcode_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Product analysis: A/B testing and KPI analysis of products for a start-up","description":"This post discusses identifying and analyzing KPIs for products as well as undertaking A/B testing to make recommendations to the products team. The post is an end-to-end project that demonstrates how to support product development with statistical analysis.","authors":[{"author":"Linus Agbleze","authorURL":"https://agbleze.github.io/Portfolio/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-09-04T00:00:00.000+02:00","citationText":"Agbleze, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Product analysis: A/B testing and KPI analysis of products for a start-up</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">product analysis</div>
<div class="dt-tag">R</div>
<div class="dt-tag">A/B testing</div>
<div class="dt-tag">Hypothesis testing</div>
<div class="dt-tag">Product KPI analysis</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>This post discusses identifying and analyzing KPIs for products as well as undertaking A/B testing to make recommendations to the products team. The post is an end-to-end project that demonstrates how to support product development with statistical analysis.</p></p>
</div>

<div class="d-byline">
  Linus Agbleze <a href="https://agbleze.github.io/Portfolio/" class="uri">https://agbleze.github.io/Portfolio/</a> 
  
<br/>2022-09-04
</div>

<div class="d-article">
<div class="layout-chunk" data-layout="l-body">
<p><img src="homelikeassignmentcode_files/figure-html5/unnamed-chunk-2-1.png" width="444" data-distill-preview=1 /></p>
</div>
<h2 id="background">Background</h2>
<p>Almost all businesses exist to solve problems and their solutions are regarded as products offered to clients and customers. The success of a business at least financially is thus dependent on the product. That does not necessarily mean that are businesses failed because their product was not great. A great product can fail to deliver for a firm because it was not monitored and better positioned to be received in the market or it has not been innovated overtime to response to market and user dynamics. This is where product performance monitoring and analytics come to play. The pending failure of a product can only be predicted if proper records exists and the right indicators are set to measure its performance.</p>
<p>Key Performance Indicators (KPIs) are design to monitor business goals and objectives and in this case product goals. By this, there is the need to first set business goals or objectives that need to be achieved and based on that, various KPIs are designed to comprehensively achieve them. The type of KPI that a business uses depends on the industry and the product it is offering to end-users. Thus, selection of a good KPI is informed by a clear undertstanding of the product to be analyzed.</p>
<p>For this case study, the analysis is for an online accommodation booking firm. The product is an online booking platform where users can search for accommodation, select a number of features such as location, number of booking days among others. A number of KPI can be proposed for the product team to be monitored for analysis. These are as follows;</p>
<p><em>I. Conversion rate:</em><br />
This should be defined to be purchase oriented. That is, a conversion is defined to have occurred when a visitor successfully book an apartment on Homelike webpage. The conversion rate will be the total bookings successfully requested divided by total number of sessions and then multiply the result by 100%. The rational behind recommending this KPI is to enable the product team assess the monetary value contribution of their product to the company as this is likely the primary means of achieving financial viability of Homelike. More importantly, conversion rate is likely to have a positive relationship with sales hence this KPI will enable the monitoring of our first business goal.</p>
<p><em>II. Customer acquisition:</em><br />
Customer acquisition is one of the key indicators for measuring market outreach which is related to sales. For Homelike, customers can be conceptualized to be online visitors who register on the platform in hopes of using the platform to book an apartment. Therefore, customer acquisition can be monitored using the number of people who register on the platform.</p>
<p><em>III. Total number of unique visitors:</em> The number of visitors who access Homelike page will provide clues to its web traffic which has the potential of translating into sales. This KPI is also a measure for monitoring marketing efforts and popularity of the products</p>
<p><em>IV. Average session per User:</em> Average sessions per user helps monitor web traffic flow and a high average session per user indicates that several visitors are requesting multiple sessions hence continue to use our product overtime.</p>
<p><em>V. Bounce rate:</em> Bounce rate indicates single page view without further interaction with the product and this KPI should be monitored to keep it to the minimum possible. Bounce rate is likely to be negatively correlated with revenue and indicative of the user experience of the products.</p>
<h4 id="estimating-conversion-rate">Estimating conversion rate</h4>
<h5 id="data-analysis">Data analysis</h5>
<p>The analysis of the data was undertaken using R programming and Rstudio and several other packages.</p>
<h5 id="method">Method</h5>
<p>In order to estimate conversion rate, there is the need to define what is regarded as conversion for our products. After studying the dataset and trying to make meaning of the variables, I concluded that conversion is said to have occured when ‘page_type == request/success’. This means that a visitor’s request for booking an apartment has been successful hence shown the request/success webpage.</p>
<p>The day chosen for the analysis is 2021-07-18 hence the corresponding dataset bq-results-20210718.csv. The code for the analysis is provided below. First all packages are load and the data is clean and transformed for the analysis.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readr.tidyverse.org'>readr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span> <span class='co'># data manipulation and visualization</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggobi.github.io/ggally/'>GGally</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://indrajeetpatil.github.io/ggstatsplot/'>ggstatsplot</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://plotly-r.com'>plotly</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://jkunst.com/highcharter'>highcharter</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://svn.r-project.org/R-packages/trunk/cluster/'>cluster</a></span><span class='op'>)</span>  <span class='co'>### working with clusters</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://www.sthda.com/english/rpkgs/factoextra'>factoextra</a></span><span class='op'>)</span> <span class='co'>## cal and visualizing clusters</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>gridExtra</span><span class='op'>)</span> <span class='co'>## plotting multiple graphs</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/rstudio/DT'>DT</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://stringi.gagolewski.com/'>stringi</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://modelr.tidyverse.org'>modelr</a></span><span class='op'>)</span>     <span class='co'># provides easy pipeline modeling functions</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://broom.tidymodels.org/'>broom</a></span><span class='op'>)</span>      <span class='co'># helps to tidy up model outputs</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-forge.r-project.org/projects/car/'>car</a></span><span class='op'>)</span>  <span class='co'>## for regression</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://haven.tidyverse.org'>haven</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/topepo/caret/'>caret</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/h2oai/h2o-3'>h2o</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rsample.tidymodels.org'>rsample</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Now the datasets are loaded. I achieved this using the code below;</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>bq_results_20210718</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"bq-results-20210718.csv"</span><span class='op'>)</span></span>
<span><span class='va'>bq_results_20210717</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"bq-results-20210717.csv"</span><span class='op'>)</span></span>
<span><span class='va'>bq_results_20210716</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"bq-results-20210716.csv"</span><span class='op'>)</span></span>
<span><span class='va'>bq_results_20210715</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"bq-results-20210715.csv"</span><span class='op'>)</span></span>
<span><span class='va'>bq_results_20210714</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"bq-results-20210714.csv"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>data14</span> <span class='op'>&lt;-</span> <span class='va'>bq_results_20210714</span></span>
<span><span class='va'>data15</span> <span class='op'>&lt;-</span> <span class='va'>bq_results_20210715</span></span>
<span><span class='va'>data16</span> <span class='op'>&lt;-</span> <span class='va'>bq_results_20210716</span></span>
<span><span class='va'>data17</span> <span class='op'>&lt;-</span> <span class='va'>bq_results_20210717</span></span>
<span><span class='va'>data18</span> <span class='op'>&lt;-</span> <span class='va'>bq_results_20210718</span></span></code></pre>
</div>
</div>
<p>I will first view the first 100 rows for the data using the code below</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span><span class='va'>data18</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>100</span>, <span class='op'>]</span><span class='op'>)</span> <span class='co'>## view the data </span></span></code></pre>
</div>
<div id="htmlwidget-6c2030f0a9b4b74cd366" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-6c2030f0a9b4b74cd366">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["2021-07-18 00:00:01.365 UTC","2021-07-18 00:00:01.452999 UTC","2021-07-18 00:00:01.465999 UTC","2021-07-18 00:00:01.892 UTC","2021-07-18 00:00:03.931 UTC","2021-07-18 00:00:04.309 UTC","2021-07-18 00:00:04.537 UTC","2021-07-18 00:00:04.837999 UTC","2021-07-18 00:00:05.408 UTC","2021-07-18 00:00:05.576 UTC","2021-07-18 00:00:05.664 UTC","2021-07-18 00:00:06.085 UTC","2021-07-18 00:00:06.214 UTC","2021-07-18 00:00:06.656999 UTC","2021-07-18 00:00:08.531999 UTC","2021-07-18 00:00:08.733 UTC","2021-07-18 00:00:09.616 UTC","2021-07-18 00:00:10.339 UTC","2021-07-18 00:00:10.655 UTC","2021-07-18 00:00:10.655 UTC","2021-07-18 00:00:10.655 UTC","2021-07-18 00:00:10.671 UTC","2021-07-18 00:00:11.208 UTC","2021-07-18 00:00:11.287 UTC","2021-07-18 00:00:11.642 UTC","2021-07-18 00:00:11.995999 UTC","2021-07-18 00:00:12.641 UTC","2021-07-18 00:00:12.641 UTC","2021-07-18 00:00:12.642 UTC","2021-07-18 00:00:13.248999 UTC","2021-07-18 00:00:14.108 UTC","2021-07-18 00:00:14.166 UTC","2021-07-18 00:00:14.169 UTC","2021-07-18 00:00:14.169 UTC","2021-07-18 00:00:15.01 UTC","2021-07-18 00:00:15.478999 UTC","2021-07-18 00:00:17.1 UTC","2021-07-18 00:00:17.152 UTC","2021-07-18 00:00:17.629 UTC","2021-07-18 00:00:18.128 UTC","2021-07-18 00:00:18.129 UTC","2021-07-18 00:00:18.129 UTC","2021-07-18 00:00:18.904 UTC","2021-07-18 00:00:18.914 UTC","2021-07-18 00:00:19.52 UTC","2021-07-18 00:00:19.523 UTC","2021-07-18 00:00:21.037999 UTC","2021-07-18 00:00:23.832 UTC","2021-07-18 00:00:25.368 UTC","2021-07-18 00:00:25.368 UTC","2021-07-18 00:00:25.368 UTC","2021-07-18 00:00:26.988999 UTC","2021-07-18 00:00:27.467 UTC","2021-07-18 00:00:29.478 UTC","2021-07-18 00:00:29.556 UTC","2021-07-18 00:00:30.391 UTC","2021-07-18 00:00:30.983 UTC","2021-07-18 00:00:31.863999 UTC","2021-07-18 00:00:31.981 UTC","2021-07-18 00:00:32.847999 UTC","2021-07-18 00:00:32.847999 UTC","2021-07-18 00:00:32.849 UTC","2021-07-18 00:00:34.258 UTC","2021-07-18 00:00:34.291999 UTC","2021-07-18 00:00:34.961 UTC","2021-07-18 00:00:35.643 UTC","2021-07-18 00:00:35.643999 UTC","2021-07-18 00:00:35.643999 UTC","2021-07-18 00:00:36.09 UTC","2021-07-18 00:00:36.672999 UTC","2021-07-18 00:00:36.994 UTC","2021-07-18 00:00:37.809 UTC","2021-07-18 00:00:37.81 UTC","2021-07-18 00:00:37.81 UTC","2021-07-18 00:00:37.958999 UTC","2021-07-18 00:00:39.738999 UTC","2021-07-18 00:00:40.845 UTC","2021-07-18 00:00:40.845 UTC","2021-07-18 00:00:40.845 UTC","2021-07-18 00:00:42.161 UTC","2021-07-18 00:00:43.199 UTC","2021-07-18 00:00:43.199999 UTC","2021-07-18 00:00:43.201 UTC","2021-07-18 00:00:44.678 UTC","2021-07-18 00:00:44.679 UTC","2021-07-18 00:00:45.129 UTC","2021-07-18 00:00:46.52 UTC","2021-07-18 00:00:46.53 UTC","2021-07-18 00:00:48.319 UTC","2021-07-18 00:00:48.329 UTC","2021-07-18 00:00:48.671 UTC","2021-07-18 00:00:49.416 UTC","2021-07-18 00:00:49.416 UTC","2021-07-18 00:00:50.005 UTC","2021-07-18 00:00:50.008999 UTC","2021-07-18 00:00:51.399999 UTC","2021-07-18 00:00:51.399999 UTC","2021-07-18 00:00:51.557 UTC","2021-07-18 00:00:51.659 UTC","2021-07-18 00:00:52.041999 UTC"],["search_list_cached","page_view","search_list_cached","page_view","search_next-page","search_map_cached","search_list_cached","search_apartment_opened","page_view","page_view","search_map_cached","search_list_cached","apartment_section_location_selected","search_apartment_opened","apartment_section_location_showmap","page_view","page_view","page_view","cookieconsent_statistics","cookieconsent_marketing","cookieconsent_preferences","search_next-page","search_apartment_opened","search_map_cached","search_list_cached","page_view","cookieconsent_statistics","cookieconsent_preferences","cookieconsent_marketing","page_view","apartment_open-request-box","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","search_next-page","movein_date_open","page_view","search_list_cached","page_view","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","search_filter_close","search_filter_selected","search_list_cached","search_alternative_apartment_displayed","search_map_cached","page_view","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","search_alternative_apartment_opened","apartment_section_location_selected","page_view","search_list_cached","apartment_gallery_opened","page_view","apartment_section_description_show-more","page_view","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","page_view","search_apartment_opened","page_view","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","search_map_cached","page_view","search_apartment_opened","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","page_view","page_view","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","page_view","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","search_filter_close","search_filter_selected","search_map_cached","search_list_cached","search_alternative_apartment_displayed","page_view","search_list_cached","apartment_section_location_selected","search_list_cached","page_view","page_view","search_list_cached","search_list_cached","page_view","page_view","search_list_cached","search_open_filters"],["{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}"],["d164553e2f7063944e3307b6fb653ec3273a8abe","1bb73142f69aa0c961cc735b994f4d3d284f9b96","1bb73142f69aa0c961cc735b994f4d3d284f9b96","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","b3b98559600632f7043d108acd213a63489e7a70","b3b98559600632f7043d108acd213a63489e7a70","b3b98559600632f7043d108acd213a63489e7a70","878c8f8ab11f162795564f2f759e18c52059180c","878c8f8ab11f162795564f2f759e18c52059180c","cb24609386ec2f2c98317968216467ac7788e7f8","1bb73142f69aa0c961cc735b994f4d3d284f9b96","cb24609386ec2f2c98317968216467ac7788e7f8","f7b01414120ff56f0d018ef2d24da4631d0afbba","d164553e2f7063944e3307b6fb653ec3273a8abe","f7b01414120ff56f0d018ef2d24da4631d0afbba","9cfffe27ee469c5226721f15155cfd42497f7f10","08563ca1f21866a88ed274865dfda2e33de96349","d164553e2f7063944e3307b6fb653ec3273a8abe","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","b3b98559600632f7043d108acd213a63489e7a70","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","b3b98559600632f7043d108acd213a63489e7a70","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","878c8f8ab11f162795564f2f759e18c52059180c","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","8b273441e1ae06db4101c5616473d8faa53cc86c","878c8f8ab11f162795564f2f759e18c52059180c","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","8b273441e1ae06db4101c5616473d8faa53cc86c","f7b01414120ff56f0d018ef2d24da4631d0afbba","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","fbffe094dd7cc25070d45f3e2333f1407a284b2b","f7b01414120ff56f0d018ef2d24da4631d0afbba","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","fbffe094dd7cc25070d45f3e2333f1407a284b2b","d164553e2f7063944e3307b6fb653ec3273a8abe","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","9cfffe27ee469c5226721f15155cfd42497f7f10","0f575fb9a3a934e87d64778b22ce404b5ea42dbb","0f575fb9a3a934e87d64778b22ce404b5ea42dbb","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","f7b01414120ff56f0d018ef2d24da4631d0afbba","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","0f6425427140db8bbc358f4bb98cff0a4282493d","0f6425427140db8bbc358f4bb98cff0a4282493d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","fba39c0ac236abdf2f5108a8556d8d41a903aaf8"],["7781ee1780a2d8e9a91c8d2728f2f5537a6da449","1bb73142f69aa0c961cc735b994f4d3d284f9b96","1bb73142f69aa0c961cc735b994f4d3d284f9b96","21f7a046759994e2755a0e6e24bd302dc4ac28bb","45492fa6c89750fb2a692c15d5ab977addd0886d","45492fa6c89750fb2a692c15d5ab977addd0886d","45492fa6c89750fb2a692c15d5ab977addd0886d","5bb646461a80a912338f3035ca47370dff926fcd","5bb646461a80a912338f3035ca47370dff926fcd","363c814d50a28731b76429d66497f121589c7e81","1bb73142f69aa0c961cc735b994f4d3d284f9b96","363c814d50a28731b76429d66497f121589c7e81","f7b01414120ff56f0d018ef2d24da4631d0afbba","7781ee1780a2d8e9a91c8d2728f2f5537a6da449","f7b01414120ff56f0d018ef2d24da4631d0afbba","9cfffe27ee469c5226721f15155cfd42497f7f10","08563ca1f21866a88ed274865dfda2e33de96349","7781ee1780a2d8e9a91c8d2728f2f5537a6da449","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","45492fa6c89750fb2a692c15d5ab977addd0886d","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","45492fa6c89750fb2a692c15d5ab977addd0886d","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","5bb646461a80a912338f3035ca47370dff926fcd","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","8b273441e1ae06db4101c5616473d8faa53cc86c","5bb646461a80a912338f3035ca47370dff926fcd","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","8b273441e1ae06db4101c5616473d8faa53cc86c","f7b01414120ff56f0d018ef2d24da4631d0afbba","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","fbffe094dd7cc25070d45f3e2333f1407a284b2b","f7b01414120ff56f0d018ef2d24da4631d0afbba","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","21f7a046759994e2755a0e6e24bd302dc4ac28bb","fbffe094dd7cc25070d45f3e2333f1407a284b2b","7781ee1780a2d8e9a91c8d2728f2f5537a6da449","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","9cfffe27ee469c5226721f15155cfd42497f7f10","f7a81db5cb219c3672591f5dffc14ae40cbe7557","f7a81db5cb219c3672591f5dffc14ae40cbe7557","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","ce84f93c683d9dd857af830c2760ae8511bc5138","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","21f7a046759994e2755a0e6e24bd302dc4ac28bb","21f7a046759994e2755a0e6e24bd302dc4ac28bb","f7b01414120ff56f0d018ef2d24da4631d0afbba","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","0f6425427140db8bbc358f4bb98cff0a4282493d","0f6425427140db8bbc358f4bb98cff0a4282493d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","fba39c0ac236abdf2f5108a8556d8d41a903aaf8"],["PE","MX","MX","EG","SV","SV","SV","TH","TH","BE","MX","BE","DE","PE","DE","IE","IE","PE","IE","IE","IE","DE","SV","DE","DE","SV","IE","IE","IE","IE","TH","IE","IE","IE","DE","TH","IE","DE","DE","IE","IE","IE","DE","DE","DE","DE","DE","IE","IE","IE","IE","AR","DE","ES","ES","EG","AR","PE","IE","IE","IE","IE","IE","SA","SA","IE","IE","IE","ES","IE","FR","IE","IE","IE","FR","IE","IE","IE","IE","IE","IE","IE","IE","ES","ES","ES","ES","ES","EG","EG","DE","CH","CH","PE","PE","US","US","US","US","CH"],["Lima","Querétaro City","Querétaro City","Cairo","San Salvador","San Salvador","San Salvador","Bangkok","Bangkok","Brussels","Querétaro City","Brussels","Langenfeld","Lima","Langenfeld","Dublin","Dublin","Lima","Dublin","Dublin","Dublin","Sylt-Ost","San Salvador","Sylt-Ost","Sylt-Ost","San Salvador","Dublin","Dublin","Dublin","Dublin","Bangkok","Dublin","Dublin","Dublin","Berlin","Bangkok","Dublin","Berlin","Langenfeld","Dublin","Dublin","Dublin","Sylt-Ost","Sylt-Ost","Sylt-Ost","Sylt-Ost","Sylt-Ost","Dublin","Dublin","Dublin","Dublin","Buenos Aires","Langenfeld","Barcelona","Barcelona","Cairo","Buenos Aires","Lima","Dublin","Dublin","Dublin","Dublin","Dublin","Jeddah","Jeddah","Dublin","Dublin","Dublin","Barcelona","Dublin","Paris","Dublin","Dublin","Dublin","Paris","Dublin","Dublin","Dublin","Dublin","Dublin","Dublin","Dublin","Dublin","Barcelona","Barcelona","Barcelona","Barcelona","Barcelona","Cairo","Cairo","Langenfeld","Zurich","Zurich","Lima","Lima","Sacramento","Sacramento","Sacramento","Sacramento","Zurich"],["phone","desktop","desktop","phone","desktop","desktop","desktop","phone","phone","bot","desktop","bot","phone","phone","phone","desktop","desktop","phone","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","phone","desktop","desktop","desktop","phone","phone","desktop","phone","phone","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","phone","phone","desktop","desktop","phone","phone","phone","desktop","desktop","desktop","desktop","desktop","phone","phone","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","phone","phone","phone","phone","phone","phone","phone","desktop","desktop","desktop","desktop","phone"],["iPhone","Other","Other","Generic Smartphone","Other","Other","Other","iPhone","iPhone","Spider","Other","Spider","iPhone","iPhone","iPhone","Other","Other","iPhone","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","iPhone","Other","Other","Other","iPhone","iPhone","Other","iPhone","iPhone","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","LG-M700","iPhone","Other","Other","Generic Smartphone","LG-M700","iPhone","Other","Other","Other","Other","Other","iPhone","iPhone","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Generic Smartphone","Generic Smartphone","iPhone","Generic Smartphone","Generic Smartphone","iPhone","iPhone","Other","Other","Other","Other","Generic Smartphone"],["Mobile Safari","Chrome","Chrome","Chrome Mobile","Chrome","Chrome","Chrome","Mobile Safari","Mobile Safari","Googlebot","Chrome","Googlebot","Mobile Safari","Mobile Safari","Mobile Safari","Chrome","Chrome","Mobile Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Mobile Safari","Chrome","Chrome","Chrome","Chrome Mobile iOS","Mobile Safari","Chrome","Chrome Mobile iOS","Mobile Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome Mobile","Mobile Safari","Chrome","Chrome","Chrome Mobile","Chrome Mobile","Mobile Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome Mobile iOS","Chrome Mobile iOS","Chrome","Chrome","Chrome","Chrome","Chrome","Safari","Chrome","Chrome","Chrome","Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome Mobile","Chrome Mobile","Mobile Safari","Chrome Mobile","Chrome Mobile","Mobile Safari","Mobile Safari","Safari","Safari","Safari","Safari","Chrome Mobile"],["search_page","search_page","search_page","apartment_view","search_page","search_page","search_page","search_page","apartment_view","search_page","search_page","search_page","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","search_page","search_page","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","search_page","search_page","search_page","search_page","search_page","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","search_page","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","search_page","search_page","search_page","search_page","search_page","search_page","apartment_view","search_page","search_page","search_page","search_page","search_page","search_page","search_page","search_page","search_page"],[null,"ES","ES","DE",null,null,null,null,"GB","DE",null,"DE",null,null,null,"DE","DE","ES",null,null,null,null,null,null,null,"ES",null,null,null,"DE",null,null,null,null,null,null,"DE",null,"DE",null,null,null,null,null,null,null,null,"DE",null,null,null,null,null,"ES","ES",null,"ES",null,"DE",null,null,null,"DE",null,"ES",null,null,null,null,"DE",null,null,null,null,"DE","DE",null,null,null,"DE",null,null,null,null,null,null,null,null,null,null,null,"ES","ES","ES","ES","DE","DE","DE","DE","ES"],[null,"Madrid","Madrid","Berlin",null,null,null,null,"Cambridge","Mannheim",null,"Mannheim",null,null,null,"Nuremberg","Nuremberg","Barcelona",null,null,null,null,null,null,null,"Madrid",null,null,null,"Feucht",null,null,null,null,null,null,"Nuremberg",null,"Cologne",null,null,null,null,null,null,null,null,"Nuremberg",null,null,null,null,null,"Barcelona","Barcelona",null,"Barcelona",null,"Nuremberg",null,null,null,"Nuremberg",null,"Madrid",null,null,null,null,"Nuremberg",null,null,null,null,"Munich","Nuremberg",null,null,null,"Nuremberg",null,null,null,null,null,null,null,null,null,null,null,"Madrid","Madrid","Madrid","Madrid","Berlin","Berlin","Berlin","Berlin","Madrid"],[null,null,null,"bb09b1c9f1d3a9cc8847",null,null,null,null,"001bf35c6330327d7067",null,null,null,null,null,null,"be4f267223c28e1e5049","GHbca9eborTneyKSD","dce53e8c286f2bb6c947",null,null,null,null,null,null,null,"5716e0be79409b3d5a11",null,null,null,"569a6076a70c8b5339f9",null,null,null,null,null,null,"7rqjn7tDNow4b26b7",null,"59b67fab95bb32f2a502",null,null,null,null,null,null,null,null,"FCS7sKJZk66LN7nyf",null,null,null,null,null,null,null,null,"2304411697a6aa25bfe3",null,"xuaTPmEDfsXhu5NkJ",null,null,null,"ccda761f4df39a465daa",null,"769b2a4dc3a2ae04db4e",null,null,null,null,"w7Lj7kx8X2XicdHiN",null,null,null,null,"SnLY5Tx5BnjvzBCq9","TMFhNT72RS6Bc63vp",null,null,null,"dfe4e8ab2a578c6e5fef",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"3\",\"east\":\"-3.618217003589308\",\"gclid\":\"Cj0KCQjwub-HBhCyARIsAPctr7xfy7KhtULzGgGgNLKcC2O89StKEoiY_6mDUg1ydXtCnxDWTJAIKU0aAq_pEALw_wcB\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113165\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-334789846268\",\"page\":\"1\",\"searchcity\":\"Madrid\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"-3.789363396412\",\"zoom\":\"12\"},\"cnt_apartments\":162,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"3ebc048e0a26af723337\",\"cb684e4448f1bfab86cf\",\"489e907246be4eb9c225\",\"6523546d13a30bc712d2\",\"1e37bc007379aee2e3f1\",\"44096419665ba658fa89\",\"870316a18a40a1b6d352\",\"3488aaa1c645424a6422\",\"5b39ff2ea57259592651\",\"86a37fd707d38f302193\",\"619f4a8c15d98be8b50a\",\"3e17380d9ed047ac154a\",\"22893684132b85908157\",\"2cc8e4975dded7fb2196\",\"a0036e8018800f486388\",\"a0188922e94b1482be32\",\"5656759d7e45985a8f36\",\"613aae1a0c7f15e26ebe\",\"9019354be4bcf31de84e\",\"5dcd64e8ae64a62bd76b\",\"a75846c7df300fa83d99\",\"aeeb3f71a9de6f8911f5\",\"09cc0388df6d079d1cc0\"],\"width\":1280,\"height\":552,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"3\",\"east\":\"-3.618217003589308\",\"gclid\":\"Cj0KCQjwub-HBhCyARIsAPctr7xfy7KhtULzGgGgNLKcC2O89StKEoiY_6mDUg1ydXtCnxDWTJAIKU0aAq_pEALw_wcB\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113165\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-334789846268\",\"page\":\"1\",\"searchcity\":\"Madrid\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"-3.789363396412\",\"zoom\":\"12\"},\"cnt_apartments\":162,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"3ebc048e0a26af723337\",\"cb684e4448f1bfab86cf\",\"489e907246be4eb9c225\",\"6523546d13a30bc712d2\",\"1e37bc007379aee2e3f1\",\"44096419665ba658fa89\",\"870316a18a40a1b6d352\",\"3488aaa1c645424a6422\",\"5b39ff2ea57259592651\",\"86a37fd707d38f302193\",\"619f4a8c15d98be8b50a\",\"3e17380d9ed047ac154a\",\"22893684132b85908157\",\"2cc8e4975dded7fb2196\",\"a0036e8018800f486388\",\"a0188922e94b1482be32\",\"5656759d7e45985a8f36\",\"613aae1a0c7f15e26ebe\",\"9019354be4bcf31de84e\",\"5dcd64e8ae64a62bd76b\",\"a75846c7df300fa83d99\",\"aeeb3f71a9de6f8911f5\",\"09cc0388df6d079d1cc0\"],\"width\":1280,\"height\":552,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"title\":\"First occupancy furnished Studio with balcony in Tempelhof-Schöneberg\",\"apartment_id\":\"bb09b1c9f1d3a9cc8847\",\"city\":\"Berlin\",\"country\":\"DE\",\"price\":999,\"size\":26,\"lat\":52.41864,\"lon\":13.360110099999929,\"currency\":\"EUR\",\"availability\":\"2021-08-01T00:00:00.000Z\",\"last_updated\":\"2021-07-14T10:40:00.231Z\",\"width\":424,\"height\":820,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"page_nr\":2,\"ga\":{\"category\":\"Next_page\",\"action\":2,\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"001bf35c6330327d7067\",\"apartment_city\":\"\",\"apartment_country\":\"GB\",\"price\":2680,\"currency\":\"GBP\",\"size\":\"300 ft²\",\"lat\":0.131062,\"lon\":52.20296219999999,\"availability\":\"2021-08-31T17:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern, new central - flat\",\"apartment_id\":\"001bf35c6330327d7067\",\"city\":\"Cambridge\",\"country\":\"GB\",\"price\":2680,\"size\":27.8709,\"lat\":52.20296219999999,\"lon\":0.131062,\"currency\":\"GBP\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-07-15T05:50:10.982Z\",\"width\":414,\"height\":714,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"city\":\"Mannheim\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"8.597188791991414\",\"lang\":\"en\",\"lat\":\"49.48361\",\"lng\":\"8.46306\",\"locality\":\"Mannheim\",\"north\":\"49.61193087599821\",\"page\":\"1\",\"placeType\":\"place\",\"postalCode\":\"false\",\"searchcity\":\"Mannheim\",\"south\":\"49.3626702514633\",\"west\":\"8.33489020800755\",\"zoom\":\"10.87378228379746\"},\"cnt_apartments\":44,\"apartment_ids\":[\"10647d5291d22312e5d7\",\"Tbvpzp3XLsFkqfMsP\",\"549971c187ab791d4229\",\"88f369e059e3efa4503f\",\"352dc6c26249ee80f8b6\",\"31ecd3e068a8da954628\",\"ZTcSrrmujRKaXSTCJ\",\"5313c83b01311db5e0c6\",\"30fff7d10f45c2d3e789\",\"3969c5fbc36f08e825ec\",\"vQnYubvZDggrif2Rk\",\"NbryoJgCHwRPzWZQC\",\"1740ab152bfd4b910fbb\",\"2668a591341fef72bd6d\",\"79bcd8e9a5eddd5d9ea5\",\"jMqYmquvqjTGDPd3k\",\"84f8e277c1299725e3cf\",\"407838620fb19d05130c\",\"3c8cbac810920b063713\",\"hpLp69zCfTutFq4zt\",\"57ea72ab4560f0128c33\",\"0a0c23576de2bb654afe\",\"005a6a4d247648e507e8\",\"c971e756fe21e4d29e25\"],\"width\":768,\"height\":1024,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"initial_map\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Mannheim\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"8.597188791991414\",\"lang\":\"en\",\"lat\":\"49.48361\",\"lng\":\"8.46306\",\"locality\":\"Mannheim\",\"north\":\"49.61193087599821\",\"page\":\"1\",\"placeType\":\"place\",\"postalCode\":\"false\",\"searchcity\":\"Mannheim\",\"south\":\"49.3626702514633\",\"west\":\"8.33489020800755\",\"zoom\":\"10.87378228379746\"},\"cnt_apartments\":44,\"apartment_ids\":[\"10647d5291d22312e5d7\",\"Tbvpzp3XLsFkqfMsP\",\"549971c187ab791d4229\",\"88f369e059e3efa4503f\",\"352dc6c26249ee80f8b6\",\"31ecd3e068a8da954628\",\"ZTcSrrmujRKaXSTCJ\",\"5313c83b01311db5e0c6\",\"30fff7d10f45c2d3e789\",\"3969c5fbc36f08e825ec\",\"vQnYubvZDggrif2Rk\",\"NbryoJgCHwRPzWZQC\",\"1740ab152bfd4b910fbb\",\"2668a591341fef72bd6d\",\"79bcd8e9a5eddd5d9ea5\",\"jMqYmquvqjTGDPd3k\",\"84f8e277c1299725e3cf\",\"407838620fb19d05130c\",\"3c8cbac810920b063713\",\"hpLp69zCfTutFq4zt\",\"57ea72ab4560f0128c33\",\"0a0c23576de2bb654afe\",\"005a6a4d247648e507e8\",\"c971e756fe21e4d29e25\"],\"width\":768,\"height\":1024,\"page_type\":\"search_page\"}}","{\"event_content\":{\"ga\":{\"category\":\"AptSection\",\"action\":\"Location\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"dce53e8c286f2bb6c947\",\"apartment_city\":\"\",\"apartment_country\":\"ES\",\"price\":1210,\"currency\":\"EUR\",\"size\":\"36 m²\",\"lat\":2.1559902,\"lon\":41.37388139999999,\"availability\":\"2021-08-07T05:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"King-size with garden, parking space &amp; Netflix\",\"apartment_id\":\"be4f267223c28e1e5049\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1250,\"size\":65,\"lat\":49.46416550000001,\"lon\":11.1592974,\"currency\":\"EUR\",\"availability\":\"2022-09-01T00:00:00.000Z\",\"last_updated\":\"2021-06-26T13:08:01.265Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern quiet 1-room apartment near the Meistersingerhalle\",\"apartment_id\":\"GHbca9eborTneyKSD\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":715,\"size\":35,\"lat\":49.4380657,\"lon\":11.0987277,\"currency\":\"EUR\",\"availability\":\"2021-11-01T00:00:00.000Z\",\"last_updated\":\"2021-06-25T14:35:39.086Z\",\"active_long_stay_discount\":\"\",\"highest_long_stay_discount\":\"5%\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"title\":\"Apartamento con encanto junto a Plaza España\",\"apartment_id\":\"dce53e8c286f2bb6c947\",\"city\":\"Barcelona\",\"country\":\"ES\",\"price\":1100,\"size\":36,\"lat\":41.37388139999999,\"lon\":2.1559902,\"currency\":\"EUR\",\"availability\":\"2021-08-07T00:00:00.000Z\",\"last_updated\":\"2021-06-16T17:17:28.610Z\",\"width\":375,\"height\":635,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":201,\"eventLabel\":\"1626566409505-7941208171632\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":201,\"eventLabel\":\"1626566409505-7941208171632\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":201,\"eventLabel\":\"1626566409505-7941208171632\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"page_nr\":2,\"ga\":{\"category\":\"Next_page\",\"action\":2,\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"5716e0be79409b3d5a11\",\"apartment_city\":\"\",\"apartment_country\":\"ES\",\"price\":2488.5,\"currency\":\"EUR\",\"size\":\"105 m²\",\"lat\":-3.6820361,\"lon\":40.4331379,\"availability\":\"2021-09-04T06:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Increíble apartamento de 2 dormitorios en Nuñez de Balboa\",\"apartment_id\":\"5716e0be79409b3d5a11\",\"city\":\"Madrid\",\"country\":\"ES\",\"price\":2048,\"size\":105,\"lat\":40.4331379,\"lon\":-3.6820361,\"currency\":\"EUR\",\"availability\":\"2021-09-04T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:08:44.461Z\",\"width\":1440,\"height\":720,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":188,\"eventLabel\":\"1626566408672-9996597719052\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":188,\"eventLabel\":\"1626566408672-9996597719052\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":188,\"eventLabel\":\"1626566408672-9996597719052\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Beautiful Town House with 165qm, spacious, modern in the center\",\"apartment_id\":\"569a6076a70c8b5339f9\",\"city\":\"Feucht\",\"country\":\"DE\",\"price\":2200,\"size\":165,\"lat\":49.3833729,\"lon\":11.214056000000028,\"currency\":\"EUR\",\"availability\":\"2022-08-01T00:00:00.000Z\",\"last_updated\":\"2021-03-06T02:37:25.788Z\",\"active_long_stay_discount\":\"\",\"highest_long_stay_discount\":\"10%\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"ga\":{\"category\":\"Request_to_book\",\"action\":\"Open_request\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":173,\"eventLabel\":\"1626566413206-6431765158989\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":173,\"eventLabel\":\"1626566413206-6431765158989\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":173,\"eventLabel\":\"1626566413206-6431765158989\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"page_nr\":2,\"ga\":{\"category\":\"Next_page\",\"action\":2,\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"ga\":{\"category\":\"Date Picker\",\"action\":\"Click move-in date\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"1 room feel-good apartment\",\"apartment_id\":\"7rqjn7tDNow4b26b7\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":980,\"size\":54,\"lat\":49.44857,\"lon\":11.057279999999992,\"currency\":\"EUR\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-07-13T16:09:52.610Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Schöne Wohnung in der Altstadt\",\"apartment_id\":\"59b67fab95bb32f2a502\",\"city\":\"Cologne\",\"country\":\"DE\",\"price\":1850,\"size\":55,\"lat\":50.9381442,\"lon\":6.961403300000029,\"currency\":\"EUR\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-05-21T07:31:50.082Z\",\"width\":414,\"height\":715,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":223,\"eventLabel\":\"1626566417053-8313920106453\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":223,\"eventLabel\":\"1626566417053-8313920106453\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":223,\"eventLabel\":\"1626566417053-8313920106453\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"type\":\"price\",\"value\":{\"min\":1790,\"max\":2000},\"ga\":{\"category\":\"Filter_apply\",\"action\":\"Price\",\"label\":\"Search\",\"value\":{\"min\":1790,\"max\":2000}}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Wonderful Serviced Apartment with kitchen\",\"apartment_id\":\"FCS7sKJZk66LN7nyf\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":2100,\"size\":58,\"lat\":49.44872040000001,\"lon\":11.065615600000001,\"currency\":\"EUR\",\"availability\":\"2021-08-13T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:55:02.882Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":1208,\"eventLabel\":\"1626566423788-1401638788821\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":1208,\"eventLabel\":\"1626566423788-1401638788821\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":1208,\"eventLabel\":\"1626566423788-1401638788821\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"2304411697a6aa25bfe3\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"ga\":{\"category\":\"AptSection\",\"action\":\"Location\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"city\":\"Barcelona\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"2.258976696411196\",\"lang\":\"es\",\"lat\":\"41.3850639\",\"lng\":\"2.1734035\",\"locality\":\"Barcelona\",\"north\":\"41.42446313014568\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"9330655561\",\"om_grp\":\"93977128723\",\"om_trg\":\"aud-875201522777:kwd-363997417888\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgphZiH_IIwWyqvYMBG9MEt3FSSAVOesHsteNNhLS9ElK3WPfOJVkbUcaAmIgEALw_wcB\"},\"cnt_apartments\":1401,\"apartment_ids\":[\"01b08eda99b99349486c\",\"15e8d5b73e68510bb529\",\"53fd764f69e4fbbd8c8d\",\"1972f2a43d7a8fc5dd9f\",\"d022198a58d258398aea\",\"b647c4cb5fa663a2050e\",\"085b1bebddc4fa892fb0\",\"3c6ae314af96bdd02161\",\"01043f25aa251aff4862\",\"4c78dc9f8c504c117253\",\"90ee1f4a53463a975452\",\"8df11c4390e2fc855400\",\"dfb045609e8fbf649c39\",\"2717d89476cd12f367f7\",\"73aedb5c1863258786c5\",\"c0ba430ba39b37f63354\",\"28d6b7decb802fac0045\",\"590e4b31085da7e51e5e\",\"cc7029190cdf0ee0e349\",\"59695815ceccf1e2a96b\",\"1c4c3a8f07f51fcfb70e\",\"2fb4573d0f30db528584\",\"0cd8bb4635dcea571bce\",\"9f0ec64d69c2c755e56d\"],\"width\":1280,\"height\":577,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Barcelona\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"2.258976696411196\",\"lang\":\"es\",\"lat\":\"41.3850639\",\"lng\":\"2.1734035\",\"locality\":\"Barcelona\",\"north\":\"41.42446313014568\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"9330655561\",\"om_grp\":\"93977128723\",\"om_trg\":\"aud-875201522777:kwd-363997417888\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgphZiH_IIwWyqvYMBG9MEt3FSSAVOesHsteNNhLS9ElK3WPfOJVkbUcaAmIgEALw_wcB\"},\"cnt_apartments\":1401,\"apartment_ids\":[\"01b08eda99b99349486c\",\"15e8d5b73e68510bb529\",\"53fd764f69e4fbbd8c8d\",\"1972f2a43d7a8fc5dd9f\",\"d022198a58d258398aea\",\"b647c4cb5fa663a2050e\",\"085b1bebddc4fa892fb0\",\"3c6ae314af96bdd02161\",\"01043f25aa251aff4862\",\"4c78dc9f8c504c117253\",\"90ee1f4a53463a975452\",\"8df11c4390e2fc855400\",\"dfb045609e8fbf649c39\",\"2717d89476cd12f367f7\",\"73aedb5c1863258786c5\",\"c0ba430ba39b37f63354\",\"28d6b7decb802fac0045\",\"590e4b31085da7e51e5e\",\"cc7029190cdf0ee0e349\",\"59695815ceccf1e2a96b\",\"1c4c3a8f07f51fcfb70e\",\"2fb4573d0f30db528584\",\"0cd8bb4635dcea571bce\",\"9f0ec64d69c2c755e56d\"],\"width\":1280,\"height\":577,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Apartamento totalmente equipado en Barcelona\",\"apartment_id\":\"2304411697a6aa25bfe3\",\"city\":\"Barcelona\",\"country\":\"ES\",\"price\":1188,\"size\":65,\"lat\":41.4118802,\"lon\":2.1715389,\"currency\":\"EUR\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:42:52.087Z\",\"width\":360,\"height\":588,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Appartment near to centre\",\"apartment_id\":\"xuaTPmEDfsXhu5NkJ\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1750,\"size\":50,\"lat\":49.4525,\"lon\":11.04943000000003,\"currency\":\"EUR\",\"availability\":\"2021-07-18T00:00:00.000Z\",\"last_updated\":\"2021-03-11T07:03:14.533Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":226,\"eventLabel\":\"1626566431876-4069088972328\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":226,\"eventLabel\":\"1626566431876-4069088972328\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":226,\"eventLabel\":\"1626566431876-4069088972328\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"cozy apartment\",\"apartment_id\":\"ccda761f4df39a465daa\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1750,\"size\":95,\"lat\":49.4573461,\"lon\":11.0390437,\"currency\":\"EUR\",\"availability\":\"2021-08-01T00:00:00.000Z\",\"last_updated\":\"2021-05-27T13:57:43.281Z\",\"active_long_stay_discount\":\"\",\"highest_long_stay_discount\":\"8%\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"apartment_id\":\"769b2a4dc3a2ae04db4e\",\"apartment_city\":\"\",\"apartment_country\":\"ES\",\"price\":950,\"currency\":\"EUR\",\"size\":\"45 m²\",\"lat\":-3.71187,\"lon\":40.4093,\"availability\":\"2021-08-21T21:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Cozy Studio in La Latina \",\"apartment_id\":\"769b2a4dc3a2ae04db4e\",\"city\":\"Madrid\",\"country\":\"ES\",\"price\":950,\"size\":45,\"lat\":40.4093,\"lon\":-3.71187,\"currency\":\"EUR\",\"availability\":\"2021-08-22T00:00:00.000Z\",\"last_updated\":\"2021-07-17T02:01:27.775Z\",\"width\":428,\"height\":751,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":76,\"eventLabel\":\"1626566434080-2899923303017\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":76,\"eventLabel\":\"1626566434080-2899923303017\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":76,\"eventLabel\":\"1626566434080-2899923303017\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"initial_map\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern Serviced Apartment with kitchen\",\"apartment_id\":\"w7Lj7kx8X2XicdHiN\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1300,\"size\":23,\"lat\":49.44872040000001,\"lon\":11.065615600000001,\"currency\":\"EUR\",\"availability\":\"2021-07-21T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:55:05.247Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"apartment_id\":\"SnLY5Tx5BnjvzBCq9\",\"apartment_city\":\"\",\"apartment_country\":\"DE\",\"price\":1470,\"currency\":\"EUR\",\"size\":\"20 m²\",\"lat\":11.523976700000048,\"lon\":48.135515,\"availability\":\"2021-07-19T22:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":258,\"eventLabel\":\"1626566436617-9806658785929\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":258,\"eventLabel\":\"1626566436617-9806658785929\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":258,\"eventLabel\":\"1626566436617-9806658785929\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Cosy Apartments - studio entièrement équipé avec cuisine\",\"apartment_id\":\"SnLY5Tx5BnjvzBCq9\",\"city\":\"Munich\",\"country\":\"DE\",\"size\":20,\"lat\":48.135515,\"lon\":11.523976700000048,\"currency\":\"EUR\",\"availability\":\"2021-07-21T00:00:00.000Z\",\"last_updated\":\"2021-06-29T07:33:07.499Z\",\"width\":768,\"height\":893,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern and central Apartment with kitchen\",\"apartment_id\":\"TMFhNT72RS6Bc63vp\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1800,\"size\":31,\"lat\":49.44872040000001,\"lon\":11.065615600000001,\"currency\":\"EUR\",\"availability\":\"2021-07-21T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:55:05.362Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":232,\"eventLabel\":\"1626566439694-8461782339630\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":232,\"eventLabel\":\"1626566439694-8461782339630\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":232,\"eventLabel\":\"1626566439694-8461782339630\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Spacious bright 3-room roof apartment\",\"apartment_id\":\"dfe4e8ab2a578c6e5fef\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":2250,\"size\":100,\"lat\":49.43595879999999,\"lon\":11.0978584,\"currency\":\"EUR\",\"availability\":\"2021-08-13T00:00:00.000Z\",\"last_updated\":\"2021-07-13T12:03:39.608Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":25,\"eventLabel\":\"1626566442117-3189646832513\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":25,\"eventLabel\":\"1626566442117-3189646832513\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":25,\"eventLabel\":\"1626566442117-3189646832513\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"type\":\"price\",\"value\":{\"min\":580,\"max\":654},\"ga\":{\"category\":\"Filter_apply\",\"action\":\"Price\",\"label\":\"Search\",\"value\":{\"min\":580,\"max\":654}}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"city\":\"Berlin\",\"filter_combination\":{},\"cnt_apartments\":1147,\"apartment_ids\":[\"a45b349c06eda17f8d8f\",\"65cd9ec1c7b0de70bb9e\",\"952854140f91e292574d\",\"oRWjzrgDB8yhxRvcX\",\"628e03fcb0a99c5965ba\",\"8c32a13fe929816e2346\",\"bb09b1c9f1d3a9cc8847\",\"cd165733f5567f39b5b1\",\"c9326ec3c3501e8aab13\",\"Sq6K6n8LkaKWzm8Zf\",\"b9397c1ea3876a460817\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"d4c35eaf631c5329f271\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\"],\"width\":424,\"height\":820,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Berlin\",\"filter_combination\":{},\"cnt_apartments\":1147,\"apartment_ids\":[\"a45b349c06eda17f8d8f\",\"65cd9ec1c7b0de70bb9e\",\"952854140f91e292574d\",\"oRWjzrgDB8yhxRvcX\",\"628e03fcb0a99c5965ba\",\"8c32a13fe929816e2346\",\"bb09b1c9f1d3a9cc8847\",\"cd165733f5567f39b5b1\",\"c9326ec3c3501e8aab13\",\"Sq6K6n8LkaKWzm8Zf\",\"b9397c1ea3876a460817\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"d4c35eaf631c5329f271\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\"],\"width\":424,\"height\":820,\"page_type\":\"search_page\"}}","{\"event_content\":{\"ga\":{\"category\":\"AptSection\",\"action\":\"Location\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556112685\",\"om_trg\":\"kwd-3282287321\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"},\"cnt_apartments\":1178,\"apartment_ids\":[\"a2bfac6aa316c2c656ec\",\"7b50264126fcbbd49547\",\"7c64090fbaabe2bf8\",\"8b420c926dfabd604c6b\",\"e68cf31992e6a599e396\",\"cce9ea8ebedfd6ba37d7\",\"7f1463ffacd5d61c2b56\",\"e331f4d94fd27111c\",\"be92c5f01e25c214bc00\",\"a6a4c78d45de7e4b4bab\",\"d6825f669e29c533747b\",\"1f55275215aecec46f58\",\"66b2a362807c7fe2e7f8\",\"27daba898eba2b00e\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"699fd8d83d3e0ca82129\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"355c2326e5f5dabe676d\",\"dfcb3aea3be7076bf3ed\",\"6f331ecfc20bb66da6ff\",\"3ebc048e0a26af723337\"],\"width\":360,\"height\":660,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556112685\",\"om_trg\":\"kwd-3282287321\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"},\"cnt_apartments\":1178,\"apartment_ids\":[\"a2bfac6aa316c2c656ec\",\"7b50264126fcbbd49547\",\"7c64090fbaabe2bf8\",\"8b420c926dfabd604c6b\",\"e68cf31992e6a599e396\",\"cce9ea8ebedfd6ba37d7\",\"7f1463ffacd5d61c2b56\",\"e331f4d94fd27111c\",\"be92c5f01e25c214bc00\",\"a6a4c78d45de7e4b4bab\",\"d6825f669e29c533747b\",\"1f55275215aecec46f58\",\"66b2a362807c7fe2e7f8\",\"27daba898eba2b00e\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"699fd8d83d3e0ca82129\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"355c2326e5f5dabe676d\",\"dfcb3aea3be7076bf3ed\",\"6f331ecfc20bb66da6ff\",\"3ebc048e0a26af723337\"],\"width\":360,\"height\":660,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"2\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113205\",\"om_trg\":\"kwd-297427216240\",\"gclid\":\"EAIaIQobChMIgtCck6jr8QIVigyRCh3SqAMjEAAYASABEgL6PvD_BwE\"},\"cnt_apartments\":553,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"e68cf31992e6a599e396\",\"7f1463ffacd5d61c2b56\",\"d6825f669e29c533747b\",\"66b2a362807c7fe2e7f8\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"3ebc048e0a26af723337\",\"3aaae367655aae2735a0\",\"428cf20152f73336a4bc\",\"30591145503752f5296e\",\"eff52bb0df4157eb3065\",\"b654b43543b72548b09b\",\"2ba279607e06037c9b7e\",\"b6214419c8c02fe016d7\",\"62a321737f77a963823c\",\"7715231fe48373f0bb9b\",\"8d6be5070163714484e7\",\"2693c025cc92beef38f2\",\"76c3bab65bdc4287140f\",\"898a6bb90e949a2baeea\"],\"width\":375,\"height\":628,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":true},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"2\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113205\",\"om_trg\":\"kwd-297427216240\",\"gclid\":\"EAIaIQobChMIgtCck6jr8QIVigyRCh3SqAMjEAAYASABEgL6PvD_BwE\"},\"cnt_apartments\":553,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"e68cf31992e6a599e396\",\"7f1463ffacd5d61c2b56\",\"d6825f669e29c533747b\",\"66b2a362807c7fe2e7f8\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"3ebc048e0a26af723337\",\"3aaae367655aae2735a0\",\"428cf20152f73336a4bc\",\"30591145503752f5296e\",\"eff52bb0df4157eb3065\",\"b654b43543b72548b09b\",\"2ba279607e06037c9b7e\",\"b6214419c8c02fe016d7\",\"62a321737f77a963823c\",\"7715231fe48373f0bb9b\",\"8d6be5070163714484e7\",\"2693c025cc92beef38f2\",\"76c3bab65bdc4287140f\",\"898a6bb90e949a2baeea\"],\"width\":375,\"height\":628,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"south\":\"52.45603468485788\",\"west\":\"13.233807607176459\",\"zoom\":\"11\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_trg\":\"kwd-280776876\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"south\":\"52.45603468485788\",\"west\":\"13.233807607176459\",\"zoom\":\"11\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_trg\":\"kwd-280776876\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-280776876\",\"page\":\"1\",\"searchcity\":\"Berlin\",\"south\":\"52.45603468485788\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"13.233807607176459\",\"zoom\":\"11\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-280776876\",\"page\":\"1\",\"searchcity\":\"Berlin\",\"south\":\"52.45603468485788\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"13.233807607176459\",\"zoom\":\"11\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556112685\",\"om_trg\":\"kwd-3282287321\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"},\"cnt_apartments\":1178,\"apartment_ids\":[\"a2bfac6aa316c2c656ec\",\"7b50264126fcbbd49547\",\"7c64090fbaabe2bf8\",\"8b420c926dfabd604c6b\",\"e68cf31992e6a599e396\",\"cce9ea8ebedfd6ba37d7\",\"7f1463ffacd5d61c2b56\",\"e331f4d94fd27111c\",\"be92c5f01e25c214bc00\",\"a6a4c78d45de7e4b4bab\",\"d6825f669e29c533747b\",\"1f55275215aecec46f58\",\"66b2a362807c7fe2e7f8\",\"27daba898eba2b00e\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"699fd8d83d3e0ca82129\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"355c2326e5f5dabe676d\",\"dfcb3aea3be7076bf3ed\",\"6f331ecfc20bb66da6ff\",\"3ebc048e0a26af723337\"],\"width\":360,\"height\":660,\"page_type\":\"search_page\",\"target_group\":\"For_Business\",\"page_url\":\"https://www.thehomelike.com/search/ES/Madrid?country=ES&amp;east=-3.618217003589308&amp;lang=es&amp;lat=40.4167754&amp;lng=-3.7037902&amp;locality=Madrid&amp;north=40.45675591854811&amp;page=1&amp;sort=p-asc&amp;south=40.3767711101178&amp;west=-3.789363396412&amp;zoom=12&amp;utm_source=google&amp;utm_medium=cpc&amp;om_src=adwords&amp;om_medium=cpc&amp;om_cmpgn=12410094176&amp;om_grp=116556112685&amp;om_trg=kwd-3282287321&amp;gclid=Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"}}"],["production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production"],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>datetime<\/th>\n      <th>event_type<\/th>\n      <th>test_groups<\/th>\n      <th>session_id<\/th>\n      <th>visitor_id<\/th>\n      <th>user_location_country<\/th>\n      <th>user_location_city<\/th>\n      <th>device_class<\/th>\n      <th>device_family<\/th>\n      <th>device_browser<\/th>\n      <th>page_type<\/th>\n      <th>page_country<\/th>\n      <th>page_city<\/th>\n      <th>apartment_id<\/th>\n      <th>params<\/th>\n      <th>environemnt<\/th>\n      <th>is_internal_ip<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
</div>
I undertook data cleaning and omitted missing vales for the selected variables. Then, I analyzed the total number of unique visitors and sessions using the code below
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#### Total number of unique visitors</span></span>
<span><span class='va'>unique_visitors_count</span><span class='op'>&lt;-</span> <span class='va'>data18</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>### Total number of unique sessions</span></span>
<span><span class='va'>unique_session_count</span> <span class='op'>&lt;-</span> <span class='va'>data18</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>The total number of unique visitors is 17,453 and total number of unique sessions is 18,872.<br />
The total number of unique sessions is required to calculate the conversion rate which is estimated with the code below;</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#############################################  Task 1:  #######################################################</span></span>
<span><span class='co'>########### What KPIs / Metrics do you recommend for the product team to use?</span></span>
<span><span class='co'>## Conversion rate</span></span>
<span><span class='co'>## Conversion occurs when page_type == request/success</span></span>
<span><span class='co'># find number of conversions made</span></span>
<span><span class='va'>request_success_data</span> <span class='op'>&lt;-</span> <span class='va'>data18</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>page_type</span> <span class='op'>==</span> <span class='st'>"request/success"</span><span class='op'>)</span></span>
<span><span class='co'>## conversion rate</span></span>
<span><span class='va'>conversion_rate</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>request_success_data</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>unique_session_count</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>100</span></span>
<span><span class='va'>conversion_rate</span><span class='op'>$</span><span class='va'>n</span>  <span class='co'>## conversion rate is 0.159 %</span></span></code></pre>
</div>
<pre><code>[1] 0.1589657</code></pre>
</div>
<h5 id="therefore-the-overall-conversion-rate-for-2021-07-18-is-0.159">Therefore, the overall conversion rate for 2021-07-18 is 0.159%</h5>
<p>Before, proceeding with the next question, I will demonstrate how to estimate some of KPIs I have recommended in my first question using the code below;</p>
<h4 id="bounce_rate-om-2021-07-18">Bounce_rate om 2021-07-18</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>## Bounce_rate</span></span>
<span><span class='va'>bounce</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>session_id</span>, <span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>tally</a></span><span class='op'>(</span>wt <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>num_pages <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>bounce_status <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>num_pages</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"bounce"</span>,</span>
<span>                                   <span class='va'>num_pages</span> <span class='op'>&gt;</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"not_bounce"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>bounce_group</span> <span class='op'>&lt;-</span> <span class='va'>bounce</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>bounce_status</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>bounce_status</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## bounce rate</span></span>
<span><span class='va'>bounce_rate</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>bounce_group</span><span class='op'>[</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>bounce_group</span><span class='op'>$</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>100</span></span>
<span><span class='va'>bounce_rate</span><span class='op'>$</span><span class='va'>n</span>  <span class='co'>## 13.54% bounce rate</span></span></code></pre>
</div>
<pre><code>[1] 13.53858</code></pre>
</div>
<p>From the above analysis, it is concluded that bounce rate is 13.54% on 2021-07-18</p>
<h5 id="customer-acquisition-as-kpi">Customer acquisition as KPI</h5>
<p>For the customer acquisition KPI that I recommended, the code below can be used to estimate it.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>## Customer acquisition as KPI </span></span>
<span><span class='va'>customer_acquisition</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>event_type</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>event_type</span> <span class='op'>==</span> <span class='st'>"user_register_success"</span><span class='op'>)</span></span>
<span><span class='va'>customer_acquisition_count</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>customer_acquisition</span><span class='op'>)</span>   <span class='co'>## 76 new users register for our services</span></span>
<span><span class='va'>customer_acquisition_count</span><span class='op'>$</span><span class='va'>n</span></span></code></pre>
</div>
<pre><code>[1] 76</code></pre>
</div>
<p>It is estimated that 76 new users register for our services on 2021-07-18. This represents our customer acquisition.</p>
<h4 id="what-is-the-conversion-rate-for-users-searching-in-berlin.">●What is the conversion rate for users searching in Berlin.</h4>
<p>In order to estimate conversion rate for users searching in Berlin, we need to filter the dataset to focus on Berlin users, then estimate the number of sessions and conversion using the code below. This is done for 2021-07-18.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>########## ●What is the conversion rate for users searching in Berlin.</span></span>
<span><span class='co'>## select users searching in Berlin</span></span>
<span><span class='va'>berlin_users</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>user_location_city</span> <span class='op'>==</span> <span class='st'>"Berlin"</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>session_id</span>, <span class='va'>page_type</span><span class='op'>)</span> </span>
<span>  </span>
<span>  </span>
<span><span class='va'>berlin_conversion</span> <span class='op'>&lt;-</span> <span class='va'>berlin_users</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>page_type</span> <span class='op'>==</span> <span class='st'>"request/success"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>berlin_session</span> <span class='op'>&lt;-</span> <span class='va'>berlin_users</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span><span class='co'>#  unique(berlin_users$session_id)%&gt;%</span></span>
<span>    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>berlin_session_count</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>berlin_session</span><span class='op'>)</span> </span>
<span><span class='va'>berlin_session_count</span><span class='op'>$</span><span class='va'>n</span> <span class='co'>## Total number of sessions from Berlin is 804</span></span></code></pre>
</div>
<pre><code>[1] 804</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>berlin_conversion_rate</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>berlin_conversion</span><span class='op'>)</span> <span class='op'>/</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>berlin_session</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>berlin_conversion_rate</span><span class='op'>$</span><span class='va'>n</span> <span class='co'>### conversion rate in Berlin is 0%</span></span></code></pre>
</div>
<pre><code>[1] 0</code></pre>
</div>
<h5 id="from-the-analysis-above-it-is-clear-that-there-were-no-conversions-on-2021-01-18-for-users-searching-in-berlin-despite-804-sessions-were-made.">From the analysis above, it is clear that there were no conversions on 2021-01-18 for users searching in Berlin despite 804 sessions were made.</h5>
<h3 id="analysis-of-rcsp-ab-test">Analysis of “rcsp’ A/B test</h3>
<h5 id="background-1">Background</h5>
<p>In order to provide a baseline for the A/B testing, I defined goals for the product. It is assumed that we are striving to assess which of our product user groups will help as achieve our goals better. I translated these goals into KPIs to be measured for the A/B testing.</p>
<p><strong>KPI compared for the various groups</strong></p>
<p><strong>I. Conversion rate</strong><br />
<strong>II.User journey</strong></p>
<h4 id="data-analysis-1">Data analysis</h4>
<h4 id="splitting-of-data-into-test-and-control-group">Splitting of data into test and control group</h4>
<p>From the “test_groups” column, I identified “rcsp=ref” as the control group and “rcsp=show” as the test group. The KPI identified for the analysis was used as a benchmark to analyze the test group and control group. The code below was used to analyze the data.</p>
<h4 id="conversion-rate-based-on-ab-testing">Conversion rate based on A/B testing</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>################################     Task 2: Analyse  ################################################</span></span>
<span><span class='co'>########## ●Analyse results of our “rcsp’ A/B test and present results to the product team. </span></span>
<span><span class='co'>####   ○The “rcsp=show” test users of page_type=search_page experience a faster loading time of the page. </span></span>
<span></span>
<span><span class='co'>## divide data into test group and control group</span></span>
<span><span class='co'># subset test group</span></span>
<span><span class='va'>rcsp_show</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data18</span>, <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>'"rcsp":"show"'</span>, <span class='va'>test_groups</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='co'># subset control group</span></span>
<span><span class='va'>rcsp_ref</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>data18</span>, <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span>pattern <span class='op'>=</span> <span class='st'>'"rcsp":"ref"'</span>, <span class='va'>test_groups</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>######## conversion rate for control</span></span>
<span><span class='va'>rcsp_ref_conversion</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_ref</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>page_type</span> <span class='op'>==</span> <span class='st'>"request/success"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='va'>rcsp_ref_conversion_count</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_ref_conversion</span><span class='op'>)</span> </span>
<span><span class='va'>rcsp_ref_conversion_count</span><span class='op'>$</span><span class='va'>n</span>   <span class='co'>## Conversions for control group is 19</span></span></code></pre>
</div>
<pre><code>[1] 19</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>## number of sessions made by rcsp_ref</span></span>
<span><span class='va'>rcsp_ref_session</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_ref</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>rcsp_ref_session_count</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_ref_session</span><span class='op'>)</span> </span>
<span><span class='va'>rcsp_ref_session_count</span><span class='op'>$</span><span class='va'>n</span> <span class='co'># # 9467 sessions for rcsp_ref </span></span></code></pre>
</div>
<pre><code>[1] 9467</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>rcsp_ref_conversion_rate</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_ref_conversion</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_ref_session</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>100</span></span>
<span><span class='va'>rcsp_ref_conversion_rate</span><span class='op'>$</span><span class='va'>n</span> <span class='co'>## 0.2% conversion rate for rcsp_ref</span></span></code></pre>
</div>
<pre><code>[1] 0.2006972</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>######### conversion rate for test group rcsp:show</span></span>
<span><span class='va'>rcsp_show_conversion</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_show</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>page_type</span>, <span class='va'>session_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>page_type</span> <span class='op'>==</span> <span class='st'>"request/success"</span><span class='op'>)</span></span>
<span><span class='va'>rcsp_show_conversion_count</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_show_conversion</span><span class='op'>)</span>  </span>
<span><span class='va'>rcsp_show_conversion_count</span><span class='op'>$</span><span class='va'>n</span>  <span class='co'>## conversion for test group is 11</span></span></code></pre>
</div>
<pre><code>[1] 11</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>## number of sessions for rcsp_show</span></span>
<span><span class='va'>rcsp_show_session</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_show</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>session_id</span>, <span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span></span>
<span><span class='va'>rcsp_show_session_count</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_show_session</span><span class='op'>)</span> </span>
<span><span class='va'>rcsp_show_session_count</span><span class='op'>$</span><span class='va'>n</span>  <span class='co'>## 9,463 sessions were made by  rcsp_show test group</span></span></code></pre>
</div>
<pre><code>[1] 9462</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>## conversion rate rcsp_show</span></span>
<span><span class='va'>rcsp_show_conversion_rate</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_show_conversion</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>rcsp_show_session</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>100</span></span>
<span><span class='va'>rcsp_show_conversion_rate</span><span class='op'>$</span><span class='va'>n</span> <span class='co'>## 0.116 % conversion rate for rcsp_show</span></span></code></pre>
</div>
<pre><code>[1] 0.1162545</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>###### Thus the test group ( test_groups == rcsp:show) achieved a lower conversion rate compared to the</span></span>
<span><span class='co'>## control group (test_groups == rcsp:ref )</span></span></code></pre>
</div>
</div>
<p>From the above analysis of A/B testing, it was estimated that the control group (rcsp:ref) had 19 conversions and 9467 user sessions which translates into a conversion rate of 0.2%.</p>
<p>For the test user group (rcsp:show), there were 11 conversions and 9,462 user sessions hence a conversion rate of 0.116%</p>
<p>Thus, it is concluded that based on conversion rate the test user group had a lower conversion rate (0.116%) compared to the control group (0.2%). Therefore, if we are to solely base our decision on conversion, the new feature which is shown to the test group is not recommended.</p>
<h4 id="bounce-rate-ab-testing">Bounce rate (A/B testing)</h4>
<p>A key concern for the product team will be to ensure that they do not roll out a feature that has detrimental effect on user engagement and experience hence bounce rate. Thus, the A/B testing could also be undertaken based on bounce rate.</p>
<p>Assessing bounce rate, it was estimated that the control user group (rcsp:ref) had a bounce rate of 13.62% while the test user group (rcsp:show) had 13.59 % bounce rate. Thus, in terms of bounce rate, the test group had a slightly lower bounce rate compared to the control group. The result is however not conclusive of which feature is better as there is the need to conduct further analysis to determine whether the difference is statistically significant.</p>
<p>The code for this analysis is provided below</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#### bounce rate for A/B testing</span></span>
<span><span class='co'>## Bounce_rate for rcsp_ref</span></span>
<span><span class='va'>bounce_rcsp_ref</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_ref</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>session_id</span>, <span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>tally</a></span><span class='op'>(</span>wt <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>num_pages <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>bounce_status <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>num_pages</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"bounce"</span>,</span>
<span>                                   <span class='va'>num_pages</span> <span class='op'>&gt;</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"not_bounce"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>bounce_group_rcsp_ref</span> <span class='op'>&lt;-</span> <span class='va'>bounce_rcsp_ref</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>bounce_status</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>bounce_status</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## bounce rate for rcsp_ref</span></span>
<span><span class='va'>bounce_rate_rcsp_ref</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>bounce_group_rcsp_ref</span><span class='op'>[</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>bounce_group_rcsp_ref</span><span class='op'>$</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>100</span></span>
<span><span class='va'>bounce_rate_rcsp_ref</span><span class='op'>$</span><span class='va'>n</span>  <span class='co'>## 13.61572% bounce rate</span></span></code></pre>
</div>
<pre><code>[1] 13.61572</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#####  Bounce_rate for A/B testing (test group)</span></span>
<span><span class='co'>## Bounce rate rcsp_show</span></span>
<span><span class='va'>bounce_rcsp_show</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_show</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>session_id</span>, <span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>tally</a></span><span class='op'>(</span>wt <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>num_pages <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>bounce_status <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>num_pages</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"bounce"</span>,</span>
<span>                                   <span class='va'>num_pages</span> <span class='op'>&gt;</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"not_bounce"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>bounce_group_rcsp_show</span> <span class='op'>&lt;-</span> <span class='va'>bounce_rcsp_show</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>bounce_status</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>bounce_status</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## bounce rate for rcsp_show</span></span>
<span><span class='va'>bounce_rate_rcsp_show</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>bounce_group_rcsp_show</span><span class='op'>[</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>]</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>bounce_group_rcsp_show</span><span class='op'>$</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>100</span></span>
<span><span class='va'>bounce_rate_rcsp_show</span><span class='op'>$</span><span class='va'>n</span>  <span class='co'>## 13.59 % bounce rate for rcsp_show</span></span></code></pre>
</div>
<pre><code>[1] 13.59121</code></pre>
</div>
<h4 id="user-journey-for-ab-testing">User journey for A/B testing</h4>
<p>Given that the difference in bounce rate between the two groups is a very small margin, further inquiry will be to analyze the user journey and display the result using a funnel chart. This will enable visualizing pages where users leave Homelike website and get a sense of which group makes is closer to final conversion.</p>
<p>The code for user journey for A/B testing is provided below.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>####### User journey for A/B testing</span></span>
<span><span class='co'>##### user journey for user_ref</span></span>
<span><span class='va'>rcsp_ref_user_jour</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_ref</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## user journey rcsp_show </span></span>
<span><span class='va'>rcsp_show_user_jour</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_show</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>rcsp_ref_user_jour.desc</span><span class='op'>&lt;-</span> <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>rcsp_ref_user_jour</span>, <span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span> <span class='op'>)</span></span>
<span><span class='va'>rcsp_show_user_jour.desc</span> <span class='op'>&lt;-</span> <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>rcsp_show_user_jour</span>, <span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>rcsp_funl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/plotly/man/plot_ly.html'>plot_ly</a></span><span class='op'>(</span></span>
<span>  type <span class='op'>=</span> <span class='st'>"funnel"</span>,</span>
<span>  name <span class='op'>=</span> <span class='st'>'rcsp:ref (control group)'</span>,</span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/vector.html'>as.vector</a></span><span class='op'>(</span><span class='va'>rcsp_ref_user_jour.desc</span><span class='op'>$</span><span class='va'>page_type</span><span class='op'>)</span>,</span>
<span>  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/vector.html'>as.vector</a></span><span class='op'>(</span><span class='va'>rcsp_ref_user_jour.desc</span><span class='op'>$</span><span class='va'>n</span><span class='op'>)</span>,</span>
<span>  textinfo <span class='op'>=</span> <span class='st'>"value+percent initial"</span><span class='op'>)</span> </span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>rcsp_funl</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_funl</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/plotly/man/add_trace.html'>add_trace</a></span><span class='op'>(</span></span>
<span>    type <span class='op'>=</span> <span class='st'>"funnel"</span>,</span>
<span>    name <span class='op'>=</span> <span class='st'>'rcsp:show (test group)'</span>,</span>
<span>    orientation <span class='op'>=</span> <span class='st'>"h"</span>,</span>
<span>    y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/vector.html'>as.vector</a></span><span class='op'>(</span><span class='va'>rcsp_show_user_jour.desc</span><span class='op'>$</span><span class='va'>page_type</span><span class='op'>)</span>,</span>
<span>    x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/vector.html'>as.vector</a></span><span class='op'>(</span><span class='va'>rcsp_show_user_jour.desc</span><span class='op'>$</span><span class='va'>n</span><span class='op'>)</span>,</span>
<span>    textposition <span class='op'>=</span> <span class='st'>"inside"</span>,</span>
<span>    textinfo <span class='op'>=</span> <span class='st'>"value+percent initial"</span><span class='op'>)</span> </span>
<span><span class='va'>rcsp_funl</span> <span class='op'>&lt;-</span> <span class='va'>rcsp_funl</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>layout</span><span class='op'>(</span>yaxis <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>categoryarray <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/vector.html'>as.vector</a></span><span class='op'>(</span><span class='va'>rcsp_show_user_jour.desc</span><span class='op'>$</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>layout</span><span class='op'>(</span>hovermode <span class='op'>=</span> <span class='st'>'compare'</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>rcsp_funl</span></span></code></pre>
</div>
<div id="htmlwidget-2fe657ac29927b1c44d9" style="width:624px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2fe657ac29927b1c44d9">{"x":{"visdat":{"c71979eb118":["function () ","plotlyVisDat"]},"cur_data":"c71979eb118","attrs":{"c71979eb118":{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[107504,43129,1198,73,19,7],"textinfo":"value+percent initial","name":"rcsp:ref (control group)","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"funnel"},"c71979eb118.1":{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[109197,41958,1323,83,11,6],"textinfo":"value+percent initial","name":"rcsp:show (test group)","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"funnel","orientation":"h","textposition":"inside","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"categoryarray":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"title":[],"type":"category","categoryorder":"array"},"hovermode":"compare","xaxis":{"domain":[0,1],"automargin":true,"title":[]},"showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[107504,43129,1198,73,19,7],"textinfo":"value+percent initial","name":"rcsp:ref (control group)","type":"funnel","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"xaxis":"x","yaxis":"y","frame":null},{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[109197,41958,1323,83,11,6],"textinfo":"value+percent initial","name":"rcsp:show (test group)","type":"funnel","orientation":"h","textposition":["inside","inside","inside","inside","inside","inside"],"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<h3 id="clustering-clients-in-logical-groups">Clustering clients in logical groups</h3>
<p>There are a number of ways to segment our users into groups. The first approach will be to simply group users based on features that they have in common and second approach will be to use a clustering algorithm such as k-means clustering to segment them into groups of similarity.</p>
<p>I will first visualize the simple groupings using the code below. This funnel chart for user journey is based on dataset of 2021-07-18 and not just the A/B testing groups as above. Hover of the funnel chart to display number of users for each page.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>##########   ●Cluster our users in logical groups based on the data you have in hand. </span></span>
<span></span>
<span><span class='co'>## funnel charts for user journey</span></span>
<span><span class='va'>page_type_count</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>user_jour_funnel</span> <span class='op'>&lt;-</span> <span class='va'>page_type_count</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://jkunst.com/highcharter/reference/hchart.html'>hchart</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"funnel"</span>, <span class='fu'><a href='https://jkunst.com/highcharter/reference/hcaes.html'>hcaes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>page_type</span>, y <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span>,</span>
<span>    name <span class='op'>=</span> <span class='st'>"user_journey"</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='va'>user_jour_funnel</span></span></code></pre>
</div>
<div id="htmlwidget-9918e01c72be5d70f87d" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-9918e01c72be5d70f87d">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":null},"yAxis":{"title":{"text":"n"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"page_type":"search_page","n":216701,"y":216701,"name":"search_page"},{"page_type":"apartment_view","n":85093,"y":85093,"name":"apartment_view"},{"page_type":"request/initial","n":2521,"y":2521,"name":"request/initial"},{"page_type":"request/checkout","n":156,"y":156,"name":"request/checkout"},{"page_type":"request/success","n":30,"y":30,"name":"request/success"},{"page_type":"request/rental-agreement","n":13,"y":13,"name":"request/rental-agreement"}],"type":"funnel","name":"user_journey"}],"xAxis":{"type":"category","title":{"text":"page_type"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<h4 id="grouping-users-based-on-device-type">Grouping users based on device type</h4>
<p>For this, I analyzed the number of visitors based on device used to access Homelike website using the code below.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>### clusters users into groups based on device type</span></span>
<span><span class='va'>users_device_class</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>visitor_id</span>, <span class='va'>device_class</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>device_class</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>tally</a></span><span class='op'>(</span>wt <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span><span class='st'>"Number of users"</span> <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>users_device_class</span>, mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>device_class</span>, <span class='op'>-</span><span class='va'>`Number of users`</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='va'>`Number of users`</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"Number of users based on devices used"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Device class"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="homelikeassignmentcode_files/figure-html5/unnamed-chunk-16-1.png" width="624" /></p>
</div>
<h4 id="clustering-customers-into-groups-based-country">Clustering customers into groups based country</h4>
<p>Based on the country users access Homelike page from, the total number of users is analyzed and the top twenty (20) countries with highest number of visitors are visualized.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>### clusters users into groups based on user country </span></span>
<span><span class='va'>users_country</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>visitor_id</span>, <span class='va'>user_location_country</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>user_location_country</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>tally</a></span><span class='op'>(</span>wt <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span><span class='st'>"Number of users"</span> <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>top20_users_country</span> <span class='op'>&lt;-</span> <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/top_n.html'>top_n</a></span><span class='op'>(</span><span class='va'>users_country</span>, n <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>top20_users_country</span>, mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>user_location_country</span>, <span class='op'>-</span><span class='va'>`Number of users`</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='va'>`Number of users`</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span><span class='st'>"Top 20 countries with highest number of visitors"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Countries of users"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="homelikeassignmentcode_files/figure-html5/unnamed-chunk-17-1.png" width="624" /></p>
</div>
<h4 id="clustering-customers-into-groups-based-on-device-brower-used">Clustering customers into groups based on device brower used</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>### clusters users into groups based on device brower used</span></span>
<span><span class='va'>users_browser</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>visitor_id</span>, <span class='va'>device_browser</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>device_browser</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>tally</a></span><span class='op'>(</span>wt <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span><span class='st'>"Number of users"</span> <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/top_n.html'>top_n</a></span><span class='op'>(</span><span class='va'>users_browser</span>, n <span class='op'>=</span><span class='fl'>5</span><span class='op'>)</span>, mapping<span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>device_browser</span>, <span class='op'>-</span><span class='va'>`Number of users`</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='va'>`Number of users`</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span><span class='st'>"Number of users based on browser used"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Type of brower used"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="homelikeassignmentcode_files/figure-html5/unnamed-chunk-18-1.png" width="624" /></p>
</div>
<h3 id="k-means-clustering-to-cluster-users-into-groups-of-similarity">K-means clustering to cluster users into groups of similarity</h3>
<p>A more robust way to segment users into groups of similarity involves using K-means clustering analysis. This method have been employed here to segment our users to groups. The number of groups to segment users into can vary. In order to choose the optimal number of groups for the clustering, I used average silhouettes method to determine the optimal group number.</p>
<p>The analysis was undertaken by first assessing the number of page views per user and sessions per users; and using these as the criteria to cluster users into groups of similarity.</p>
<p><strong>It was assessed that optimal group to clusters into groups of similarity was 2 as deduced from average silhouette method.</strong></p>
<p>The code below was used for the analysis. First, the number of pageview and sessions per user is analyzed.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>####################### cluster analysis</span></span>
<span><span class='co'>## pageviews per visitor</span></span>
<span><span class='va'>user_pageviews</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>visitor_id</span>,<span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>page_type</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>tally</a></span><span class='op'>(</span>wt <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>num_pages <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## number of sessions per visitor</span></span>
<span><span class='va'>user_sess</span> <span class='op'>&lt;-</span> <span class='va'>data18</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>visitor_id</span>, <span class='va'>session_id</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>session_id</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>user_sess_num</span> <span class='op'>&lt;-</span> <span class='va'>user_sess</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>visitor_id</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>num_sessions <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>### merge num_pages and num_sessions for visitors</span></span>
<span><span class='va'>users_all</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/merge.html'>merge</a></span><span class='op'>(</span><span class='va'>user_pageviews</span>, <span class='va'>user_sess_num</span><span class='op'>)</span></span>
<span><span class='va'>visitor_pageviews_sessions_num</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/merge.html'>merge</a></span><span class='op'>(</span><span class='va'>user_pageviews</span>, <span class='va'>user_sess_num</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>After preparing the variables, they are scaled, their distance measure estimated and clustering analysis undertaken. For this analysis, outliers were not remove and may influence the result even though scaling and standardization was undertaken.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>## k-mean clustering</span></span>
<span><span class='va'>visitor_pageviews_sessions_num</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span><span class='op'>)</span></span>
<span><span class='co'>## scale data</span></span>
<span><span class='va'>visitor_pageviews_sessions_num</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/scale.html'>scale</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>##### K means clustering</span></span>
<span><span class='va'>k2_visitor</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/kmeans.html'>kmeans</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span>, centers <span class='op'>=</span> <span class='fl'>2</span>, nstart <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>k3_visitor</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/kmeans.html'>kmeans</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span>, centers <span class='op'>=</span> <span class='fl'>3</span>, nstart <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span> <span class='co'>## kmeans with 3 clusters</span></span>
<span><span class='va'>k4_visitor</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/kmeans.html'>kmeans</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span>, centers <span class='op'>=</span> <span class='fl'>4</span>, nstart <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span> <span class='co'>## kmeans with 4 clusters</span></span>
<span><span class='va'>k5_visitor</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/kmeans.html'>kmeans</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span>, centers <span class='op'>=</span> <span class='fl'>5</span>, nstart <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span> <span class='co'>## kmeans with 5 clusters</span></span>
<span></span>
<span><span class='co'># plots to compare</span></span>
<span><span class='va'>p1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/factoextra/man/fviz_cluster.html'>fviz_cluster</a></span><span class='op'>(</span><span class='va'>k2_visitor</span>, geom <span class='op'>=</span> <span class='st'>"point"</span>, data <span class='op'>=</span> <span class='va'>visitor_pageviews_sessions_num</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span><span class='st'>"k = 2"</span><span class='op'>)</span></span>
<span><span class='va'>p2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/factoextra/man/fviz_cluster.html'>fviz_cluster</a></span><span class='op'>(</span><span class='va'>k3_visitor</span>, geom <span class='op'>=</span> <span class='st'>"point"</span>, data <span class='op'>=</span> <span class='va'>visitor_pageviews_sessions_num</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span><span class='st'>"k = 3"</span><span class='op'>)</span></span>
<span><span class='va'>p3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/factoextra/man/fviz_cluster.html'>fviz_cluster</a></span><span class='op'>(</span><span class='va'>k4_visitor</span>, geom <span class='op'>=</span> <span class='st'>"point"</span>, data <span class='op'>=</span> <span class='va'>visitor_pageviews_sessions_num</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span><span class='st'>"k = 4"</span><span class='op'>)</span></span>
<span><span class='va'>p4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/factoextra/man/fviz_cluster.html'>fviz_cluster</a></span><span class='op'>(</span><span class='va'>k5_visitor</span>, geom <span class='op'>=</span> <span class='st'>"point"</span>, data <span class='op'>=</span> <span class='va'>visitor_pageviews_sessions_num</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ggtitle</a></span><span class='op'>(</span><span class='st'>"k = 5"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>############# plot all graphs together  #######</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html'>grid.arrange</a></span><span class='op'>(</span><span class='va'>p1</span>, <span class='va'>p2</span>, <span class='va'>p3</span>, <span class='va'>p4</span>, nrow <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="homelikeassignmentcode_files/figure-html5/unnamed-chunk-20-1.png" width="624" /></p>
</div>
<h4 id="determining-the-optimal-number-of-clusters-for-grouping-users">Determining the optimal number of clusters for grouping users</h4>
<p>The code below was used for the analysis. Inferred from the average silhouette method, the optimal number of clusters for grouping users is 2.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>##Determing optimal number of clusters using average silhouettes method </span></span>
<span><span class='va'>silh_visitors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/factoextra/man/fviz_nbclust.html'>fviz_nbclust</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span>, <span class='va'>kmeans</span>, method <span class='op'>=</span> <span class='st'>"silhouette"</span><span class='op'>)</span></span>
<span><span class='va'>silh_visitors</span></span></code></pre>
</div>
<p><img src="homelikeassignmentcode_files/figure-html5/unnamed-chunk-21-1.png" width="624" /></p>
</div>
<h4 id="clustering-users-into-2-groups-as-the-optimal-number-of-cluster-groups-is-shown-below">Clustering users into 2 groups as the optimal number of cluster groups is shown below</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#####  compute k-means clustering with k = 2  // the optimal clusters according to silhoutte</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span></span>
<span><span class='va'>optimal_clusters_visitors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/kmeans.html'>kmeans</a></span><span class='op'>(</span><span class='va'>visitor_pageviews_sessions_num</span>, <span class='fl'>2</span>, nstart <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>optimal_clust_viz</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/factoextra/man/fviz_cluster.html'>fviz_cluster</a></span><span class='op'>(</span><span class='va'>optimal_clusters_visitors</span>, data <span class='op'>=</span> <span class='va'>visitor_pageviews_sessions_num</span><span class='op'>)</span></span>
<span><span class='va'>optimal_clust_viz</span></span></code></pre>
</div>
<p><img src="homelikeassignmentcode_files/figure-html5/unnamed-chunk-22-1.png" width="624" /></p>
</div>
<p>The cluster group for each user is identified by adding the clustering result to the data. The first 50 users are shown below.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>###extracting clustering and adding to data</span></span>
<span><span class='va'>user_cluster_groups</span> <span class='op'>&lt;-</span> <span class='va'>users_all</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>Cluster_group <span class='op'>=</span> <span class='va'>optimal_clusters_visitors</span><span class='op'>$</span><span class='va'>cluster</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Cluster_group</span><span class='op'>)</span> <span class='co'>#%&gt;%</span></span>
<span><span class='co'>#  summarise_all("mean")</span></span>
<span><span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span><span class='va'>user_cluster_groups</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>50</span>,<span class='op'>]</span><span class='op'>)</span></span></code></pre>
</div>
<div id="htmlwidget-802c75ffc616e49f5137" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-802c75ffc616e49f5137">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["000a5ade65304b7c35d73f02fcc502b8d1aac025","000aebd0e48d2f09af16a354fdb8c016de1f1ff5","000fc763fa36f9b6ac994afdab2b5f40f630e463","0014e5c4c60b4a3cea46b76609ad1690fc4c758c","001891d29fb6df46d0c7687266234361c2e67b6b","001b33507a4c3c28f6204d685d69eca40db62e24","001ffcc466abf553650aa72a278f3902cd0b835b","002a8d606a200c797224b2e1ec5523164427c181","002e6ab1a2b236a099580ed2a097d8937d0efdfb","002eec466deb25aefaf4418cb2b8dd30bd5bb391","00328ada30110e6e25978369425e972653a27bb5","00379f08f03309e6092b5e7fa2e5ba74dde6eaad","0038b3e739c8eff30b40eeca5c5cf70c9e58ad74","003fe37685dc5e5e9a916a750f2c2758db287fe4","00459bd2ca95a616624c6c165a7f94865d244378","0045f29e39270ba5b555089ede22fa1b2768d9c1","004b053667fd7a2638ce4917952bb3c111691c12","004f98e7d6fea4260f693e59d0cddf62d2900469","0050553913dccf54a1638e98cdbc3aa38472ebb3","00532a84148804a7c385e7e71280dff932e1720a","00587af77e1ac862ee2fe79e631eecd0c7aa4e86","005decd938772a83e57c45ab637747e1494ead6d","005e7ab6e44580a98e0feae2933669c56050995d","005f9128a6e4dcb83eb29105b916dd389e48dc49","006696640f3db0da837b4646562068977986d1cd","007b203ad27c1a3226065b0b8e7258f5d20a4b88","00825dc6c8ab4b5d206e20f8f52dd287eafb3018","008290c141e73ea02c481dcff07cb9a9c99b04be","00850aca96fca7f842541bb2effd7fe832e5b928","0088fc848a5e77b5d555841027eca54576e06125","008f280db7dc0c77be37ceb02393912d6c9b5a5d","0093a77059d58d8a5c875b171307c1f7a3fb4731","00942c3ab1eaaecabe075b7b77956e6851498248","009b4e472b228394e0345cdd7bc51b96f63b722f","009f35e632237d5591be15ed1e8b15dbab2e3b0e","00a04176deac3b00a39f9123ce9fb4368304ecf8","00a329de77ba1f5002d13ff986683ac4c5315e72","00a34e34b9467c192d64724dd51f8a0380b14d2b","00a3a2ebe5f47aebd3174fb3a11107124e783f42","00a68c1e5be0e00485fe587ab501db31f0c3f2e7","00b029b494701466787065419f15f6dfe98cff8e","00c1c1735cfe6dee3c33fd6b4372500bb693a7c0","00c5a28b04e04ae633bb202200e24d76a320f692","00d130b5a5ad4a11b01b07ca76211c546de203f8","00d72e135ec2473d8ae4e55582929d44dacd595f","00db1affdd0afc70d4261d4df7840014d2cfb888","00dd0ab02ad038223dcf88cb1fd07f6e70ed94ce","00dff447c2af3a36f1db223bbce50b67ae6d4028","00e31c589e9356a227aee9d793ac23cf84a5f17c","00e330458f586864ea19da93b0099d0e2a9f03d4"],[2,7,4,3,22,1,33,21,5,88,1,9,6,14,4,4,10,3,4,20,2,2,13,22,10,11,2,13,10,1,79,40,24,7,2,1,3,2,3,1,9,3,6,4,2,12,1,15,4,4],[1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>visitor_id<\/th>\n      <th>num_pages<\/th>\n      <th>num_sessions<\/th>\n      <th>Cluster_group<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<h5 id="note-from-the-data-it-is-deduced-that-most-of-the-first-50-users-are-in-cluster-group-2-and-indeed-only-a-few-users-are-in-cluster-group-one-as-a-whole.-this-is-likely-the-influence-of-outliers-since-outliers-were-not-removed-and-some-users-had-an-extermely-high-number-of-pageviews-and-sessions.-this-could-be-an-error-in-the-data-collection-process.">NOTE: From the data, it is deduced that most of the first 50 users are in cluster group 2 and indeed only a few users are in cluster group one as a whole. This is likely the influence of outliers since outliers were not removed and some users had an extermely high number of pageviews and sessions. This could be an error in the data collection process.</h5>
<div class="sourceCode" id="cb14"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
