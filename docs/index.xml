<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:distill="https://distill.pub/journal/" version="2.0">
  <channel>
    <title>Data science tutorials</title>
    <link>https://addurl/</link>
    <atom:link href="https://addurl/index.xml" rel="self" type="application/rss+xml"/>
    <description>This blog aims demonstrating various data analysis techniques in a 
practical way.
</description>
    <generator>Distill</generator>
    <lastBuildDate>Sun, 04 Sep 2022 00:00:00 +0000</lastBuildDate>
    <item>
      <title>Logistics regression: Assessing factors that inlfuence client conversion</title>
      <dc:creator>Linus Agbleze</dc:creator>
      <link>https://addurl/posts/2022-09-04-logistics-regression</link>
      <description>


&lt;h2 id="objective-4-assessing-factors-that-influence-the-likelihood-of-a-client-to-convert"&gt;Objective 4: Assessing factors that influence the likelihood of a client to convert&lt;/h2&gt;
&lt;p&gt;The fourth objective of the product analysis is to move a step further and assess our data with focus on predicting how various factors influence the probability of a client signing up for our product. In order to achieve the goal of higher amount of conversion, as assessment is undertaken to model whether or not a client will sign-up. Knowing how these factors influence client’s decision to purchase our service will enable us better target clients by managing such predictors well. For this, a review of the various variables available has been undertaken to identify potential predictors.&lt;/p&gt;
&lt;p&gt;The business problem at hand can be translated into an analytical one that requires a classification solution. In this case, the aim is to classify clients into two groups of convert and non-convert. This is the outcome we seek to predict hence the response or dependent variable. The response variable has two categories or classes as indicated, conversion and non-conversion, hence a regression analysis that caters for such characteristics is chosen.&lt;/p&gt;
&lt;h3 id="method-logistic-regression"&gt;Method: Logistic regression&lt;/h3&gt;
&lt;p&gt;Logistic regression will be used for assessing how various factors influence the probability of a client deciding to convert.&lt;/p&gt;
&lt;p&gt;Based on the available limited data guided with domain knowledge of the business operations, the potential predictors identified for the analysis are the following&lt;/p&gt;
&lt;ol style="list-style-type: decimal"&gt;
&lt;li&gt;Type of sales script&lt;/li&gt;
&lt;li&gt;Company type&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="description-of-predictors-and-rational-for-their-selection"&gt;Description of predictors and rational for their selection&lt;/h3&gt;
&lt;ol style="list-style-type: decimal"&gt;
&lt;li&gt;&lt;p&gt;The relationship between the type of sales script and conversion has been our main focus for earilier analysis and yet it is still important to understand how they influence the actual decision to convert and not the total number of conversion this time round. It can be presume, as it is the case to hypothesize, that there is a logical understanding of type of sales script being a potential influential determinant.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Company type as a potential predictor is based on the assumption that the characteristics of the company will determine its decision to finally purchase our product. Given that, these features are not adequately disclosed, the difference in labelling of company type is taken to be directly related to difference in company characteristics.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="data-treatment-preprocessing"&gt;Data treatment / preprocessing&lt;/h3&gt;
&lt;p&gt;Some predictors have receive a special focus different from earlier, in order to prepare the variables into an acceptable format for modeling. It is worthing highlight such instances for transparency and reproducability of the analysis.&lt;/p&gt;
&lt;p&gt;First of all, the company type variable had two categories being 0 and 1, and several missing data in the original dataset. In this case, it is possible that the missiing data was just an instance of unavailable data that was not provided due to some privacy concerns. Moreover, as much as 4,916 missing data is identified in the original dataset which constitutes a sizeable part of the dataset to eliminte from the analysis and very likely to reduce the possibility of capturing as much variations as the reality is on the ground. Supported by this, is the fact that, such a large amount of missing data is enough to constitute a category in its own right for analysis and insight. Based on these available information and context, the decision was made to replace all instances of missing data for company type with ‘Others’ as another company type. This led to reclassification of company type into company group A, B and Others corresponding to 0, 1 and missing data respectively;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
    convert not_convert 
       3001        2999 &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;
    convert not_convert 
       2017        1983 &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] &amp;quot;Others&amp;quot;    &amp;quot;company_A&amp;quot; &amp;quot;company_B&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;
Call:
glm(formula = is_signed ~ company_group + sales_script_type, 
    family = &amp;quot;binomial&amp;quot;, data = train_data)

Deviance Residuals: 
   Min      1Q  Median      3Q     Max  
-1.316  -1.166   1.045   1.189   1.210  

Coefficients:
                          Estimate Std. Error z value Pr(&amp;gt;|z|)  
(Intercept)               -0.02699    0.04103  -0.658   0.5107  
company_groupcompany_A     0.04523    0.06780   0.667   0.5047  
company_groupcompany_B     0.10317    0.05969   1.728   0.0839 .
sales_script_typescript_B -0.04903    0.05534  -0.886   0.3756  
sales_script_typescript_C  0.24365    0.23812   1.023   0.3062  
---
Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 8317.8  on 5999  degrees of freedom
Residual deviance: 8312.9  on 5995  degrees of freedom
AIC: 8322.9

Number of Fisher Scoring iterations: 3&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id="insights-from-multiple-logistic-regression"&gt;Insights from multiple logistic regression&lt;/h3&gt;
&lt;p&gt;The logistic regression for predicting the probability that a client will sign-up produced a non-significant p-value for all cases. Script A was used as reference point for script B and C. Thus, with a co-efficient of -0.049 for script B, it is suggested that using script B results in a decrease in the log odds of signing a client by 0.049 in comparison to script A. This is however statistically insignificant. Script C has a co-efficient of 0.24 which suggests that when a sales manager uses script C, the log odds of signing a client increases by 0.24 compared to script A which is statistically insignificant.&lt;/p&gt;
&lt;p&gt;With regards to prioritizing companies to reach out to in order to increase conversion, when sales managers take a session with company A or company B, the log odds of landing a conversion increases compared to when they target companies categorized as ‘Others’ in this analysis. The result is however statistically insignificant.&lt;/p&gt;
&lt;h3 id="recommendation-for-objective-4"&gt;Recommendation for objective 4&lt;/h3&gt;
&lt;p&gt;From the analysis undertaken, it is recommended that the sales team consider not prioritizing demo sessions with company type ‘Others’. This should however not be treated as a de facto discrimination favouring company A and B to increase conversion given that the results are statistically insignificant.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fitting null model for pseudo-r2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[[1]]
[1] 0.5012221&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d2a7a0ff3_files/figure-html/unnamed-chunk-6-1.png" width="672" /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;integer(0)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>640cb3d1125f0e3f4cdd361c65ff821c</distill:md5>
      <category>logistic regression</category>
      <guid>https://addurl/posts/2022-09-04-logistics-regression</guid>
      <pubDate>Sun, 04 Sep 2022 00:00:00 +0000</pubDate>
      <media:content url="https://addurl/posts/2022-09-04-logistics-regression/logistics-regression_files/figure-html5/unnamed-chunk-6-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Product analysis</title>
      <dc:creator>Linus Agbleze</dc:creator>
      <link>https://addurl/posts/2022-09-04-homelikeassignmentcode</link>
      <description>


&lt;h3 id="task-1-what-kpis-metrics-do-you-recommend-for-the-product-team-to-use"&gt;Task 1: What KPIs / Metrics do you recommend for the product team to use?&lt;/h3&gt;
&lt;p&gt;Key Performance Indicators (KPIs) are design to monitor business goals and objectives and in this case product goals. By this, there is the need to first set business goals or objectives that need to be achieved. As a candidate for this position, I will proceed to set the following hypothetical goals. I am aware the business situation at Homelike may be different.&lt;/p&gt;
&lt;p&gt;The main business goals considered in recommending the KPIs are as follows&lt;br /&gt;
(i) To achieve an increase of 10% in monthly product sales&lt;br /&gt;
(ii) To increase the number of new customers acquired by 5% every month&lt;br /&gt;
(iii) To accelerate web traffic and customer outreach by 3% on monthly basis&lt;/p&gt;
&lt;p&gt;The KPI recommended for the product team to monitor the achievement of the aforementioned hypothetical goals are as follows&lt;/p&gt;
&lt;p&gt;&lt;em&gt;I. Conversion rate:&lt;/em&gt;&lt;br /&gt;
This should be defined to be purchase oriented. That is, a conversion is defined to have occurred when a visitor successfully book an apartment on Homelike webpage. The conversion rate will be the total bookings successfully requested divided by total number of sessions and then multiply the result by 100%. The rational behind recommending this KPI is to enable the product team assess the monetary value contribution of their product to the company as this is likely the primary means of achieving financial viability of Homelike. More importantly, conversion rate is likely to have a positive relationship with sales hence this KPI will enable the monitoring of our first business goal.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;II. Customer acquisition:&lt;/em&gt;&lt;br /&gt;
Customer acquisition is one of the key indicators for measuring market outreach which is related to sales. For Homelike, customers can be conceptualized to be online visitors who register on the platform in hopes of using the platform to book an apartment. Therefore, customer acquisition can be monitored using the number of people who register on the platform.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;III. Total number of unique visitors:&lt;/em&gt; The number of visitors who access Homelike page will provide clues to its web traffic which has the potential of translating into sales. This KPI is also a measure for monitoring marketing efforts and popularity of the products&lt;/p&gt;
&lt;p&gt;&lt;em&gt;IV. Average session per User:&lt;/em&gt; Average sessions per user helps monitor web traffic flow and a high average session per user indicates that several visitors are requesting multiple sessions hence continue to use our product overtime.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;V. Bounce rate:&lt;/em&gt; Bounce rate indicates single page view without further interaction with the product and this KPI should be monitored to keep it to the minimum possible. Bounce rate is likely to be negatively correlated with revenue and indicative of the user experience of the products.&lt;/p&gt;
&lt;h4 id="what-is-the-overall-conversion-rate-on-a-given-day-for-all-users-that-visited-our-platform."&gt;●What is the overall conversion rate on a given day for all users that visited our platform.&lt;/h4&gt;
&lt;h5 id="data-analysis"&gt;Data analysis&lt;/h5&gt;
&lt;p&gt;The analysis of the data was undertaken using R programming and Rstudio and several other packages.&lt;/p&gt;
&lt;h5 id="method"&gt;Method&lt;/h5&gt;
&lt;p&gt;In order to estimate conversion rate, there is the need to define what is regarded as conversion for our products. After studying the dataset and trying to make meaning of the variables, I concluded that conversion is said to have occured when ‘page_type == request/success’. This means that a visitor’s request for booking an apartment has been successful hence shown the request/success webpage.&lt;/p&gt;
&lt;p&gt;The day chosen for the analysis is 2021-07-18 hence the corresponding dataset bq-results-20210718.csv. The code for the analysis is provided below. First all packages are load and the data is clean and transformed for the analysis.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(readr)
library(tidyverse) # data manipulation and visualization
library(ggplot2)
library(GGally)
library(ggstatsplot)
library(plotly)
library(highcharter)
library(cluster)  ### working with clusters
library(factoextra) ## cal and visualizing clusters
library(gridExtra) ## plotting multiple graphs
library(DT)
library(stringr)
library(stringi)
library(modelr)     # provides easy pipeline modeling functions
library(broom)      # helps to tidy up model outputs
library(car)  ## for regression
library(haven)
library(caret)
library(h2o)
library(rsample)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now the datasets are loaded. I achieved this using the code below;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;bq_results_20210718 &amp;lt;- read_csv(&amp;quot;bq-results-20210718.csv&amp;quot;)
bq_results_20210717 &amp;lt;- read_csv(&amp;quot;bq-results-20210717.csv&amp;quot;)
bq_results_20210716 &amp;lt;- read_csv(&amp;quot;bq-results-20210716.csv&amp;quot;)
bq_results_20210715 &amp;lt;- read_csv(&amp;quot;bq-results-20210715.csv&amp;quot;)
bq_results_20210714 &amp;lt;- read_csv(&amp;quot;bq-results-20210714.csv&amp;quot;)

data14 &amp;lt;- bq_results_20210714
data15 &amp;lt;- bq_results_20210715
data16 &amp;lt;- bq_results_20210716
data17 &amp;lt;- bq_results_20210717
data18 &amp;lt;- bq_results_20210718&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I will first view the first 100 rows for the data using the code below&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;datatable(data18[1:100, ]) ## view the data &lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-ce969965edfe9f869aa9" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-ce969965edfe9f869aa9"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],["2021-07-18 00:00:01.365 UTC","2021-07-18 00:00:01.452999 UTC","2021-07-18 00:00:01.465999 UTC","2021-07-18 00:00:01.892 UTC","2021-07-18 00:00:03.931 UTC","2021-07-18 00:00:04.309 UTC","2021-07-18 00:00:04.537 UTC","2021-07-18 00:00:04.837999 UTC","2021-07-18 00:00:05.408 UTC","2021-07-18 00:00:05.576 UTC","2021-07-18 00:00:05.664 UTC","2021-07-18 00:00:06.085 UTC","2021-07-18 00:00:06.214 UTC","2021-07-18 00:00:06.656999 UTC","2021-07-18 00:00:08.531999 UTC","2021-07-18 00:00:08.733 UTC","2021-07-18 00:00:09.616 UTC","2021-07-18 00:00:10.339 UTC","2021-07-18 00:00:10.655 UTC","2021-07-18 00:00:10.655 UTC","2021-07-18 00:00:10.655 UTC","2021-07-18 00:00:10.671 UTC","2021-07-18 00:00:11.208 UTC","2021-07-18 00:00:11.287 UTC","2021-07-18 00:00:11.642 UTC","2021-07-18 00:00:11.995999 UTC","2021-07-18 00:00:12.641 UTC","2021-07-18 00:00:12.641 UTC","2021-07-18 00:00:12.642 UTC","2021-07-18 00:00:13.248999 UTC","2021-07-18 00:00:14.108 UTC","2021-07-18 00:00:14.166 UTC","2021-07-18 00:00:14.169 UTC","2021-07-18 00:00:14.169 UTC","2021-07-18 00:00:15.01 UTC","2021-07-18 00:00:15.478999 UTC","2021-07-18 00:00:17.1 UTC","2021-07-18 00:00:17.152 UTC","2021-07-18 00:00:17.629 UTC","2021-07-18 00:00:18.128 UTC","2021-07-18 00:00:18.129 UTC","2021-07-18 00:00:18.129 UTC","2021-07-18 00:00:18.904 UTC","2021-07-18 00:00:18.914 UTC","2021-07-18 00:00:19.52 UTC","2021-07-18 00:00:19.523 UTC","2021-07-18 00:00:21.037999 UTC","2021-07-18 00:00:23.832 UTC","2021-07-18 00:00:25.368 UTC","2021-07-18 00:00:25.368 UTC","2021-07-18 00:00:25.368 UTC","2021-07-18 00:00:26.988999 UTC","2021-07-18 00:00:27.467 UTC","2021-07-18 00:00:29.478 UTC","2021-07-18 00:00:29.556 UTC","2021-07-18 00:00:30.391 UTC","2021-07-18 00:00:30.983 UTC","2021-07-18 00:00:31.863999 UTC","2021-07-18 00:00:31.981 UTC","2021-07-18 00:00:32.847999 UTC","2021-07-18 00:00:32.847999 UTC","2021-07-18 00:00:32.849 UTC","2021-07-18 00:00:34.258 UTC","2021-07-18 00:00:34.291999 UTC","2021-07-18 00:00:34.961 UTC","2021-07-18 00:00:35.643 UTC","2021-07-18 00:00:35.643999 UTC","2021-07-18 00:00:35.643999 UTC","2021-07-18 00:00:36.09 UTC","2021-07-18 00:00:36.672999 UTC","2021-07-18 00:00:36.994 UTC","2021-07-18 00:00:37.809 UTC","2021-07-18 00:00:37.81 UTC","2021-07-18 00:00:37.81 UTC","2021-07-18 00:00:37.958999 UTC","2021-07-18 00:00:39.738999 UTC","2021-07-18 00:00:40.845 UTC","2021-07-18 00:00:40.845 UTC","2021-07-18 00:00:40.845 UTC","2021-07-18 00:00:42.161 UTC","2021-07-18 00:00:43.199 UTC","2021-07-18 00:00:43.199999 UTC","2021-07-18 00:00:43.201 UTC","2021-07-18 00:00:44.678 UTC","2021-07-18 00:00:44.679 UTC","2021-07-18 00:00:45.129 UTC","2021-07-18 00:00:46.52 UTC","2021-07-18 00:00:46.53 UTC","2021-07-18 00:00:48.319 UTC","2021-07-18 00:00:48.329 UTC","2021-07-18 00:00:48.671 UTC","2021-07-18 00:00:49.416 UTC","2021-07-18 00:00:49.416 UTC","2021-07-18 00:00:50.005 UTC","2021-07-18 00:00:50.008999 UTC","2021-07-18 00:00:51.399999 UTC","2021-07-18 00:00:51.399999 UTC","2021-07-18 00:00:51.557 UTC","2021-07-18 00:00:51.659 UTC","2021-07-18 00:00:52.041999 UTC"],["search_list_cached","page_view","search_list_cached","page_view","search_next-page","search_map_cached","search_list_cached","search_apartment_opened","page_view","page_view","search_map_cached","search_list_cached","apartment_section_location_selected","search_apartment_opened","apartment_section_location_showmap","page_view","page_view","page_view","cookieconsent_statistics","cookieconsent_marketing","cookieconsent_preferences","search_next-page","search_apartment_opened","search_map_cached","search_list_cached","page_view","cookieconsent_statistics","cookieconsent_preferences","cookieconsent_marketing","page_view","apartment_open-request-box","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","search_next-page","movein_date_open","page_view","search_list_cached","page_view","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","search_filter_close","search_filter_selected","search_list_cached","search_alternative_apartment_displayed","search_map_cached","page_view","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","search_alternative_apartment_opened","apartment_section_location_selected","page_view","search_list_cached","apartment_gallery_opened","page_view","apartment_section_description_show-more","page_view","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","page_view","search_apartment_opened","page_view","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","search_map_cached","page_view","search_apartment_opened","cookieconsent_preferences","cookieconsent_statistics","cookieconsent_marketing","page_view","page_view","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","page_view","cookieconsent_preferences","cookieconsent_marketing","cookieconsent_statistics","search_filter_close","search_filter_selected","search_map_cached","search_list_cached","search_alternative_apartment_displayed","page_view","search_list_cached","apartment_section_location_selected","search_list_cached","page_view","page_view","search_list_cached","search_list_cached","page_view","page_view","search_list_cached","search_open_filters"],["{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"show\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"show\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"ref\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}","{\"lofi\":\"ref\",\"rarsp\":\"ref\",\"fdspi\":\"show\",\"rcsp\":\"ref\",\"cbnw\":\"ref\"}"],["d164553e2f7063944e3307b6fb653ec3273a8abe","1bb73142f69aa0c961cc735b994f4d3d284f9b96","1bb73142f69aa0c961cc735b994f4d3d284f9b96","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","b3b98559600632f7043d108acd213a63489e7a70","b3b98559600632f7043d108acd213a63489e7a70","b3b98559600632f7043d108acd213a63489e7a70","878c8f8ab11f162795564f2f759e18c52059180c","878c8f8ab11f162795564f2f759e18c52059180c","cb24609386ec2f2c98317968216467ac7788e7f8","1bb73142f69aa0c961cc735b994f4d3d284f9b96","cb24609386ec2f2c98317968216467ac7788e7f8","f7b01414120ff56f0d018ef2d24da4631d0afbba","d164553e2f7063944e3307b6fb653ec3273a8abe","f7b01414120ff56f0d018ef2d24da4631d0afbba","9cfffe27ee469c5226721f15155cfd42497f7f10","08563ca1f21866a88ed274865dfda2e33de96349","d164553e2f7063944e3307b6fb653ec3273a8abe","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","b3b98559600632f7043d108acd213a63489e7a70","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","b3b98559600632f7043d108acd213a63489e7a70","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","878c8f8ab11f162795564f2f759e18c52059180c","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","8b273441e1ae06db4101c5616473d8faa53cc86c","878c8f8ab11f162795564f2f759e18c52059180c","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","8b273441e1ae06db4101c5616473d8faa53cc86c","f7b01414120ff56f0d018ef2d24da4631d0afbba","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","fbffe094dd7cc25070d45f3e2333f1407a284b2b","f7b01414120ff56f0d018ef2d24da4631d0afbba","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","fbffe094dd7cc25070d45f3e2333f1407a284b2b","d164553e2f7063944e3307b6fb653ec3273a8abe","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","9cfffe27ee469c5226721f15155cfd42497f7f10","0f575fb9a3a934e87d64778b22ce404b5ea42dbb","0f575fb9a3a934e87d64778b22ce404b5ea42dbb","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","8968369be94aebc2b5f3b6eb5be20ada68fcf8b0","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","dcfa46019b0bdd2680478a3a69ef29f19ca5d4ee","f7b01414120ff56f0d018ef2d24da4631d0afbba","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","0f6425427140db8bbc358f4bb98cff0a4282493d","0f6425427140db8bbc358f4bb98cff0a4282493d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","fba39c0ac236abdf2f5108a8556d8d41a903aaf8"],["7781ee1780a2d8e9a91c8d2728f2f5537a6da449","1bb73142f69aa0c961cc735b994f4d3d284f9b96","1bb73142f69aa0c961cc735b994f4d3d284f9b96","21f7a046759994e2755a0e6e24bd302dc4ac28bb","45492fa6c89750fb2a692c15d5ab977addd0886d","45492fa6c89750fb2a692c15d5ab977addd0886d","45492fa6c89750fb2a692c15d5ab977addd0886d","5bb646461a80a912338f3035ca47370dff926fcd","5bb646461a80a912338f3035ca47370dff926fcd","363c814d50a28731b76429d66497f121589c7e81","1bb73142f69aa0c961cc735b994f4d3d284f9b96","363c814d50a28731b76429d66497f121589c7e81","f7b01414120ff56f0d018ef2d24da4631d0afbba","7781ee1780a2d8e9a91c8d2728f2f5537a6da449","f7b01414120ff56f0d018ef2d24da4631d0afbba","9cfffe27ee469c5226721f15155cfd42497f7f10","08563ca1f21866a88ed274865dfda2e33de96349","7781ee1780a2d8e9a91c8d2728f2f5537a6da449","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","45492fa6c89750fb2a692c15d5ab977addd0886d","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","45492fa6c89750fb2a692c15d5ab977addd0886d","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","5bb646461a80a912338f3035ca47370dff926fcd","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","8b273441e1ae06db4101c5616473d8faa53cc86c","5bb646461a80a912338f3035ca47370dff926fcd","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","8b273441e1ae06db4101c5616473d8faa53cc86c","f7b01414120ff56f0d018ef2d24da4631d0afbba","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","2f8aabbdbaa5e5a6e43ff762421b075b341b40ec","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","fbffe094dd7cc25070d45f3e2333f1407a284b2b","f7b01414120ff56f0d018ef2d24da4631d0afbba","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","21f7a046759994e2755a0e6e24bd302dc4ac28bb","fbffe094dd7cc25070d45f3e2333f1407a284b2b","7781ee1780a2d8e9a91c8d2728f2f5537a6da449","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","08563ca1f21866a88ed274865dfda2e33de96349","9cfffe27ee469c5226721f15155cfd42497f7f10","f7a81db5cb219c3672591f5dffc14ae40cbe7557","f7a81db5cb219c3672591f5dffc14ae40cbe7557","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","9cfffe27ee469c5226721f15155cfd42497f7f10","ce84f93c683d9dd857af830c2760ae8511bc5138","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251","2931d931f73c2d22d3b66e50ffb2bcf6c5c91251",null,"37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","37e0f293c8e5bf9e9632af5aa58cb1f5fcb737fb","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","6a2d4e8a0c7667fbae8c2d9c50508bdece041bb7","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","ce84f93c683d9dd857af830c2760ae8511bc5138","21f7a046759994e2755a0e6e24bd302dc4ac28bb","21f7a046759994e2755a0e6e24bd302dc4ac28bb","f7b01414120ff56f0d018ef2d24da4631d0afbba","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","fba39c0ac236abdf2f5108a8556d8d41a903aaf8","0f6425427140db8bbc358f4bb98cff0a4282493d","0f6425427140db8bbc358f4bb98cff0a4282493d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","4c7df0ece088260f7ffc2066e2a909a9c006951d","fba39c0ac236abdf2f5108a8556d8d41a903aaf8"],["PE","MX","MX","EG","SV","SV","SV","TH","TH","BE","MX","BE","DE","PE","DE","IE","IE","PE","IE","IE","IE","DE","SV","DE","DE","SV","IE","IE","IE","IE","TH","IE","IE","IE","DE","TH","IE","DE","DE","IE","IE","IE","DE","DE","DE","DE","DE","IE","IE","IE","IE","AR","DE","ES","ES","EG","AR","PE","IE","IE","IE","IE","IE","SA","SA","IE","IE","IE","ES","IE","FR","IE","IE","IE","FR","IE","IE","IE","IE","IE","IE","IE","IE","ES","ES","ES","ES","ES","EG","EG","DE","CH","CH","PE","PE","US","US","US","US","CH"],["Lima","Querétaro City","Querétaro City","Cairo","San Salvador","San Salvador","San Salvador","Bangkok","Bangkok","Brussels","Querétaro City","Brussels","Langenfeld","Lima","Langenfeld","Dublin","Dublin","Lima","Dublin","Dublin","Dublin","Sylt-Ost","San Salvador","Sylt-Ost","Sylt-Ost","San Salvador","Dublin","Dublin","Dublin","Dublin","Bangkok","Dublin","Dublin","Dublin","Berlin","Bangkok","Dublin","Berlin","Langenfeld","Dublin","Dublin","Dublin","Sylt-Ost","Sylt-Ost","Sylt-Ost","Sylt-Ost","Sylt-Ost","Dublin","Dublin","Dublin","Dublin","Buenos Aires","Langenfeld","Barcelona","Barcelona","Cairo","Buenos Aires","Lima","Dublin","Dublin","Dublin","Dublin","Dublin","Jeddah","Jeddah","Dublin","Dublin","Dublin","Barcelona","Dublin","Paris","Dublin","Dublin","Dublin","Paris","Dublin","Dublin","Dublin","Dublin","Dublin","Dublin","Dublin","Dublin","Barcelona","Barcelona","Barcelona","Barcelona","Barcelona","Cairo","Cairo","Langenfeld","Zurich","Zurich","Lima","Lima","Sacramento","Sacramento","Sacramento","Sacramento","Zurich"],["phone","desktop","desktop","phone","desktop","desktop","desktop","phone","phone","bot","desktop","bot","phone","phone","phone","desktop","desktop","phone","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","phone","desktop","desktop","desktop","phone","phone","desktop","phone","phone","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","phone","phone","desktop","desktop","phone","phone","phone","desktop","desktop","desktop","desktop","desktop","phone","phone","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","desktop","phone","phone","phone","phone","phone","phone","phone","desktop","desktop","desktop","desktop","phone"],["iPhone","Other","Other","Generic Smartphone","Other","Other","Other","iPhone","iPhone","Spider","Other","Spider","iPhone","iPhone","iPhone","Other","Other","iPhone","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","iPhone","Other","Other","Other","iPhone","iPhone","Other","iPhone","iPhone","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","LG-M700","iPhone","Other","Other","Generic Smartphone","LG-M700","iPhone","Other","Other","Other","Other","Other","iPhone","iPhone","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Other","Generic Smartphone","Generic Smartphone","iPhone","Generic Smartphone","Generic Smartphone","iPhone","iPhone","Other","Other","Other","Other","Generic Smartphone"],["Mobile Safari","Chrome","Chrome","Chrome Mobile","Chrome","Chrome","Chrome","Mobile Safari","Mobile Safari","Googlebot","Chrome","Googlebot","Mobile Safari","Mobile Safari","Mobile Safari","Chrome","Chrome","Mobile Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Mobile Safari","Chrome","Chrome","Chrome","Chrome Mobile iOS","Mobile Safari","Chrome","Chrome Mobile iOS","Mobile Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome Mobile","Mobile Safari","Chrome","Chrome","Chrome Mobile","Chrome Mobile","Mobile Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome Mobile iOS","Chrome Mobile iOS","Chrome","Chrome","Chrome","Chrome","Chrome","Safari","Chrome","Chrome","Chrome","Safari","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome","Chrome Mobile","Chrome Mobile","Mobile Safari","Chrome Mobile","Chrome Mobile","Mobile Safari","Mobile Safari","Safari","Safari","Safari","Safari","Chrome Mobile"],["search_page","search_page","search_page","apartment_view","search_page","search_page","search_page","search_page","apartment_view","search_page","search_page","search_page","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","search_page","search_page","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","search_page","search_page","search_page","search_page","search_page","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","search_page","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","search_page","apartment_view","search_page","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","apartment_view","search_page","search_page","search_page","search_page","search_page","search_page","search_page","apartment_view","search_page","search_page","search_page","search_page","search_page","search_page","search_page","search_page","search_page"],[null,"ES","ES","DE",null,null,null,null,"GB","DE",null,"DE",null,null,null,"DE","DE","ES",null,null,null,null,null,null,null,"ES",null,null,null,"DE",null,null,null,null,null,null,"DE",null,"DE",null,null,null,null,null,null,null,null,"DE",null,null,null,null,null,"ES","ES",null,"ES",null,"DE",null,null,null,"DE",null,"ES",null,null,null,null,"DE",null,null,null,null,"DE","DE",null,null,null,"DE",null,null,null,null,null,null,null,null,null,null,null,"ES","ES","ES","ES","DE","DE","DE","DE","ES"],[null,"Madrid","Madrid","Berlin",null,null,null,null,"Cambridge","Mannheim",null,"Mannheim",null,null,null,"Nuremberg","Nuremberg","Barcelona",null,null,null,null,null,null,null,"Madrid",null,null,null,"Feucht",null,null,null,null,null,null,"Nuremberg",null,"Cologne",null,null,null,null,null,null,null,null,"Nuremberg",null,null,null,null,null,"Barcelona","Barcelona",null,"Barcelona",null,"Nuremberg",null,null,null,"Nuremberg",null,"Madrid",null,null,null,null,"Nuremberg",null,null,null,null,"Munich","Nuremberg",null,null,null,"Nuremberg",null,null,null,null,null,null,null,null,null,null,null,"Madrid","Madrid","Madrid","Madrid","Berlin","Berlin","Berlin","Berlin","Madrid"],[null,null,null,"bb09b1c9f1d3a9cc8847",null,null,null,null,"001bf35c6330327d7067",null,null,null,null,null,null,"be4f267223c28e1e5049","GHbca9eborTneyKSD","dce53e8c286f2bb6c947",null,null,null,null,null,null,null,"5716e0be79409b3d5a11",null,null,null,"569a6076a70c8b5339f9",null,null,null,null,null,null,"7rqjn7tDNow4b26b7",null,"59b67fab95bb32f2a502",null,null,null,null,null,null,null,null,"FCS7sKJZk66LN7nyf",null,null,null,null,null,null,null,null,"2304411697a6aa25bfe3",null,"xuaTPmEDfsXhu5NkJ",null,null,null,"ccda761f4df39a465daa",null,"769b2a4dc3a2ae04db4e",null,null,null,null,"w7Lj7kx8X2XicdHiN",null,null,null,null,"SnLY5Tx5BnjvzBCq9","TMFhNT72RS6Bc63vp",null,null,null,"dfe4e8ab2a578c6e5fef",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"3\",\"east\":\"-3.618217003589308\",\"gclid\":\"Cj0KCQjwub-HBhCyARIsAPctr7xfy7KhtULzGgGgNLKcC2O89StKEoiY_6mDUg1ydXtCnxDWTJAIKU0aAq_pEALw_wcB\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113165\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-334789846268\",\"page\":\"1\",\"searchcity\":\"Madrid\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"-3.789363396412\",\"zoom\":\"12\"},\"cnt_apartments\":162,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"3ebc048e0a26af723337\",\"cb684e4448f1bfab86cf\",\"489e907246be4eb9c225\",\"6523546d13a30bc712d2\",\"1e37bc007379aee2e3f1\",\"44096419665ba658fa89\",\"870316a18a40a1b6d352\",\"3488aaa1c645424a6422\",\"5b39ff2ea57259592651\",\"86a37fd707d38f302193\",\"619f4a8c15d98be8b50a\",\"3e17380d9ed047ac154a\",\"22893684132b85908157\",\"2cc8e4975dded7fb2196\",\"a0036e8018800f486388\",\"a0188922e94b1482be32\",\"5656759d7e45985a8f36\",\"613aae1a0c7f15e26ebe\",\"9019354be4bcf31de84e\",\"5dcd64e8ae64a62bd76b\",\"a75846c7df300fa83d99\",\"aeeb3f71a9de6f8911f5\",\"09cc0388df6d079d1cc0\"],\"width\":1280,\"height\":552,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"3\",\"east\":\"-3.618217003589308\",\"gclid\":\"Cj0KCQjwub-HBhCyARIsAPctr7xfy7KhtULzGgGgNLKcC2O89StKEoiY_6mDUg1ydXtCnxDWTJAIKU0aAq_pEALw_wcB\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113165\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-334789846268\",\"page\":\"1\",\"searchcity\":\"Madrid\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"-3.789363396412\",\"zoom\":\"12\"},\"cnt_apartments\":162,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"3ebc048e0a26af723337\",\"cb684e4448f1bfab86cf\",\"489e907246be4eb9c225\",\"6523546d13a30bc712d2\",\"1e37bc007379aee2e3f1\",\"44096419665ba658fa89\",\"870316a18a40a1b6d352\",\"3488aaa1c645424a6422\",\"5b39ff2ea57259592651\",\"86a37fd707d38f302193\",\"619f4a8c15d98be8b50a\",\"3e17380d9ed047ac154a\",\"22893684132b85908157\",\"2cc8e4975dded7fb2196\",\"a0036e8018800f486388\",\"a0188922e94b1482be32\",\"5656759d7e45985a8f36\",\"613aae1a0c7f15e26ebe\",\"9019354be4bcf31de84e\",\"5dcd64e8ae64a62bd76b\",\"a75846c7df300fa83d99\",\"aeeb3f71a9de6f8911f5\",\"09cc0388df6d079d1cc0\"],\"width\":1280,\"height\":552,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"title\":\"First occupancy furnished Studio with balcony in Tempelhof-Schöneberg\",\"apartment_id\":\"bb09b1c9f1d3a9cc8847\",\"city\":\"Berlin\",\"country\":\"DE\",\"price\":999,\"size\":26,\"lat\":52.41864,\"lon\":13.360110099999929,\"currency\":\"EUR\",\"availability\":\"2021-08-01T00:00:00.000Z\",\"last_updated\":\"2021-07-14T10:40:00.231Z\",\"width\":424,\"height\":820,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"page_nr\":2,\"ga\":{\"category\":\"Next_page\",\"action\":2,\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"001bf35c6330327d7067\",\"apartment_city\":\"\",\"apartment_country\":\"GB\",\"price\":2680,\"currency\":\"GBP\",\"size\":\"300 ft²\",\"lat\":0.131062,\"lon\":52.20296219999999,\"availability\":\"2021-08-31T17:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern, new central - flat\",\"apartment_id\":\"001bf35c6330327d7067\",\"city\":\"Cambridge\",\"country\":\"GB\",\"price\":2680,\"size\":27.8709,\"lat\":52.20296219999999,\"lon\":0.131062,\"currency\":\"GBP\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-07-15T05:50:10.982Z\",\"width\":414,\"height\":714,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"city\":\"Mannheim\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"8.597188791991414\",\"lang\":\"en\",\"lat\":\"49.48361\",\"lng\":\"8.46306\",\"locality\":\"Mannheim\",\"north\":\"49.61193087599821\",\"page\":\"1\",\"placeType\":\"place\",\"postalCode\":\"false\",\"searchcity\":\"Mannheim\",\"south\":\"49.3626702514633\",\"west\":\"8.33489020800755\",\"zoom\":\"10.87378228379746\"},\"cnt_apartments\":44,\"apartment_ids\":[\"10647d5291d22312e5d7\",\"Tbvpzp3XLsFkqfMsP\",\"549971c187ab791d4229\",\"88f369e059e3efa4503f\",\"352dc6c26249ee80f8b6\",\"31ecd3e068a8da954628\",\"ZTcSrrmujRKaXSTCJ\",\"5313c83b01311db5e0c6\",\"30fff7d10f45c2d3e789\",\"3969c5fbc36f08e825ec\",\"vQnYubvZDggrif2Rk\",\"NbryoJgCHwRPzWZQC\",\"1740ab152bfd4b910fbb\",\"2668a591341fef72bd6d\",\"79bcd8e9a5eddd5d9ea5\",\"jMqYmquvqjTGDPd3k\",\"84f8e277c1299725e3cf\",\"407838620fb19d05130c\",\"3c8cbac810920b063713\",\"hpLp69zCfTutFq4zt\",\"57ea72ab4560f0128c33\",\"0a0c23576de2bb654afe\",\"005a6a4d247648e507e8\",\"c971e756fe21e4d29e25\"],\"width\":768,\"height\":1024,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"initial_map\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Mannheim\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"8.597188791991414\",\"lang\":\"en\",\"lat\":\"49.48361\",\"lng\":\"8.46306\",\"locality\":\"Mannheim\",\"north\":\"49.61193087599821\",\"page\":\"1\",\"placeType\":\"place\",\"postalCode\":\"false\",\"searchcity\":\"Mannheim\",\"south\":\"49.3626702514633\",\"west\":\"8.33489020800755\",\"zoom\":\"10.87378228379746\"},\"cnt_apartments\":44,\"apartment_ids\":[\"10647d5291d22312e5d7\",\"Tbvpzp3XLsFkqfMsP\",\"549971c187ab791d4229\",\"88f369e059e3efa4503f\",\"352dc6c26249ee80f8b6\",\"31ecd3e068a8da954628\",\"ZTcSrrmujRKaXSTCJ\",\"5313c83b01311db5e0c6\",\"30fff7d10f45c2d3e789\",\"3969c5fbc36f08e825ec\",\"vQnYubvZDggrif2Rk\",\"NbryoJgCHwRPzWZQC\",\"1740ab152bfd4b910fbb\",\"2668a591341fef72bd6d\",\"79bcd8e9a5eddd5d9ea5\",\"jMqYmquvqjTGDPd3k\",\"84f8e277c1299725e3cf\",\"407838620fb19d05130c\",\"3c8cbac810920b063713\",\"hpLp69zCfTutFq4zt\",\"57ea72ab4560f0128c33\",\"0a0c23576de2bb654afe\",\"005a6a4d247648e507e8\",\"c971e756fe21e4d29e25\"],\"width\":768,\"height\":1024,\"page_type\":\"search_page\"}}","{\"event_content\":{\"ga\":{\"category\":\"AptSection\",\"action\":\"Location\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"dce53e8c286f2bb6c947\",\"apartment_city\":\"\",\"apartment_country\":\"ES\",\"price\":1210,\"currency\":\"EUR\",\"size\":\"36 m²\",\"lat\":2.1559902,\"lon\":41.37388139999999,\"availability\":\"2021-08-07T05:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"King-size with garden, parking space &amp;amp; Netflix\",\"apartment_id\":\"be4f267223c28e1e5049\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1250,\"size\":65,\"lat\":49.46416550000001,\"lon\":11.1592974,\"currency\":\"EUR\",\"availability\":\"2022-09-01T00:00:00.000Z\",\"last_updated\":\"2021-06-26T13:08:01.265Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern quiet 1-room apartment near the Meistersingerhalle\",\"apartment_id\":\"GHbca9eborTneyKSD\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":715,\"size\":35,\"lat\":49.4380657,\"lon\":11.0987277,\"currency\":\"EUR\",\"availability\":\"2021-11-01T00:00:00.000Z\",\"last_updated\":\"2021-06-25T14:35:39.086Z\",\"active_long_stay_discount\":\"\",\"highest_long_stay_discount\":\"5%\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"title\":\"Apartamento con encanto junto a Plaza España\",\"apartment_id\":\"dce53e8c286f2bb6c947\",\"city\":\"Barcelona\",\"country\":\"ES\",\"price\":1100,\"size\":36,\"lat\":41.37388139999999,\"lon\":2.1559902,\"currency\":\"EUR\",\"availability\":\"2021-08-07T00:00:00.000Z\",\"last_updated\":\"2021-06-16T17:17:28.610Z\",\"width\":375,\"height\":635,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":201,\"eventLabel\":\"1626566409505-7941208171632\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":201,\"eventLabel\":\"1626566409505-7941208171632\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":201,\"eventLabel\":\"1626566409505-7941208171632\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"page_nr\":2,\"ga\":{\"category\":\"Next_page\",\"action\":2,\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"5716e0be79409b3d5a11\",\"apartment_city\":\"\",\"apartment_country\":\"ES\",\"price\":2488.5,\"currency\":\"EUR\",\"size\":\"105 m²\",\"lat\":-3.6820361,\"lon\":40.4331379,\"availability\":\"2021-09-04T06:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Increíble apartamento de 2 dormitorios en Nuñez de Balboa\",\"apartment_id\":\"5716e0be79409b3d5a11\",\"city\":\"Madrid\",\"country\":\"ES\",\"price\":2048,\"size\":105,\"lat\":40.4331379,\"lon\":-3.6820361,\"currency\":\"EUR\",\"availability\":\"2021-09-04T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:08:44.461Z\",\"width\":1440,\"height\":720,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":188,\"eventLabel\":\"1626566408672-9996597719052\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":188,\"eventLabel\":\"1626566408672-9996597719052\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":188,\"eventLabel\":\"1626566408672-9996597719052\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Beautiful Town House with 165qm, spacious, modern in the center\",\"apartment_id\":\"569a6076a70c8b5339f9\",\"city\":\"Feucht\",\"country\":\"DE\",\"price\":2200,\"size\":165,\"lat\":49.3833729,\"lon\":11.214056000000028,\"currency\":\"EUR\",\"availability\":\"2022-08-01T00:00:00.000Z\",\"last_updated\":\"2021-03-06T02:37:25.788Z\",\"active_long_stay_discount\":\"\",\"highest_long_stay_discount\":\"10%\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"ga\":{\"category\":\"Request_to_book\",\"action\":\"Open_request\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":173,\"eventLabel\":\"1626566413206-6431765158989\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":173,\"eventLabel\":\"1626566413206-6431765158989\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":173,\"eventLabel\":\"1626566413206-6431765158989\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"page_nr\":2,\"ga\":{\"category\":\"Next_page\",\"action\":2,\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"ga\":{\"category\":\"Date Picker\",\"action\":\"Click move-in date\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"1 room feel-good apartment\",\"apartment_id\":\"7rqjn7tDNow4b26b7\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":980,\"size\":54,\"lat\":49.44857,\"lon\":11.057279999999992,\"currency\":\"EUR\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-07-13T16:09:52.610Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"pagination\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Schöne Wohnung in der Altstadt\",\"apartment_id\":\"59b67fab95bb32f2a502\",\"city\":\"Cologne\",\"country\":\"DE\",\"price\":1850,\"size\":55,\"lat\":50.9381442,\"lon\":6.961403300000029,\"currency\":\"EUR\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-05-21T07:31:50.082Z\",\"width\":414,\"height\":715,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":223,\"eventLabel\":\"1626566417053-8313920106453\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":223,\"eventLabel\":\"1626566417053-8313920106453\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":223,\"eventLabel\":\"1626566417053-8313920106453\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"type\":\"price\",\"value\":{\"min\":1790,\"max\":2000},\"ga\":{\"category\":\"Filter_apply\",\"action\":\"Price\",\"label\":\"Search\",\"value\":{\"min\":1790,\"max\":2000}}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Wonderful Serviced Apartment with kitchen\",\"apartment_id\":\"FCS7sKJZk66LN7nyf\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":2100,\"size\":58,\"lat\":49.44872040000001,\"lon\":11.065615600000001,\"currency\":\"EUR\",\"availability\":\"2021-08-13T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:55:02.882Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":1208,\"eventLabel\":\"1626566423788-1401638788821\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":1208,\"eventLabel\":\"1626566423788-1401638788821\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":1208,\"eventLabel\":\"1626566423788-1401638788821\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"apartment_id\":\"2304411697a6aa25bfe3\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"ga\":{\"category\":\"AptSection\",\"action\":\"Location\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"city\":\"Barcelona\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"2.258976696411196\",\"lang\":\"es\",\"lat\":\"41.3850639\",\"lng\":\"2.1734035\",\"locality\":\"Barcelona\",\"north\":\"41.42446313014568\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"9330655561\",\"om_grp\":\"93977128723\",\"om_trg\":\"aud-875201522777:kwd-363997417888\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgphZiH_IIwWyqvYMBG9MEt3FSSAVOesHsteNNhLS9ElK3WPfOJVkbUcaAmIgEALw_wcB\"},\"cnt_apartments\":1401,\"apartment_ids\":[\"01b08eda99b99349486c\",\"15e8d5b73e68510bb529\",\"53fd764f69e4fbbd8c8d\",\"1972f2a43d7a8fc5dd9f\",\"d022198a58d258398aea\",\"b647c4cb5fa663a2050e\",\"085b1bebddc4fa892fb0\",\"3c6ae314af96bdd02161\",\"01043f25aa251aff4862\",\"4c78dc9f8c504c117253\",\"90ee1f4a53463a975452\",\"8df11c4390e2fc855400\",\"dfb045609e8fbf649c39\",\"2717d89476cd12f367f7\",\"73aedb5c1863258786c5\",\"c0ba430ba39b37f63354\",\"28d6b7decb802fac0045\",\"590e4b31085da7e51e5e\",\"cc7029190cdf0ee0e349\",\"59695815ceccf1e2a96b\",\"1c4c3a8f07f51fcfb70e\",\"2fb4573d0f30db528584\",\"0cd8bb4635dcea571bce\",\"9f0ec64d69c2c755e56d\"],\"width\":1280,\"height\":577,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Barcelona\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"2.258976696411196\",\"lang\":\"es\",\"lat\":\"41.3850639\",\"lng\":\"2.1734035\",\"locality\":\"Barcelona\",\"north\":\"41.42446313014568\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"9330655561\",\"om_grp\":\"93977128723\",\"om_trg\":\"aud-875201522777:kwd-363997417888\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgphZiH_IIwWyqvYMBG9MEt3FSSAVOesHsteNNhLS9ElK3WPfOJVkbUcaAmIgEALw_wcB\"},\"cnt_apartments\":1401,\"apartment_ids\":[\"01b08eda99b99349486c\",\"15e8d5b73e68510bb529\",\"53fd764f69e4fbbd8c8d\",\"1972f2a43d7a8fc5dd9f\",\"d022198a58d258398aea\",\"b647c4cb5fa663a2050e\",\"085b1bebddc4fa892fb0\",\"3c6ae314af96bdd02161\",\"01043f25aa251aff4862\",\"4c78dc9f8c504c117253\",\"90ee1f4a53463a975452\",\"8df11c4390e2fc855400\",\"dfb045609e8fbf649c39\",\"2717d89476cd12f367f7\",\"73aedb5c1863258786c5\",\"c0ba430ba39b37f63354\",\"28d6b7decb802fac0045\",\"590e4b31085da7e51e5e\",\"cc7029190cdf0ee0e349\",\"59695815ceccf1e2a96b\",\"1c4c3a8f07f51fcfb70e\",\"2fb4573d0f30db528584\",\"0cd8bb4635dcea571bce\",\"9f0ec64d69c2c755e56d\"],\"width\":1280,\"height\":577,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Apartamento totalmente equipado en Barcelona\",\"apartment_id\":\"2304411697a6aa25bfe3\",\"city\":\"Barcelona\",\"country\":\"ES\",\"price\":1188,\"size\":65,\"lat\":41.4118802,\"lon\":2.1715389,\"currency\":\"EUR\",\"availability\":\"2021-09-01T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:42:52.087Z\",\"width\":360,\"height\":588,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Appartment near to centre\",\"apartment_id\":\"xuaTPmEDfsXhu5NkJ\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1750,\"size\":50,\"lat\":49.4525,\"lon\":11.04943000000003,\"currency\":\"EUR\",\"availability\":\"2021-07-18T00:00:00.000Z\",\"last_updated\":\"2021-03-11T07:03:14.533Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":226,\"eventLabel\":\"1626566431876-4069088972328\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":226,\"eventLabel\":\"1626566431876-4069088972328\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":226,\"eventLabel\":\"1626566431876-4069088972328\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"cozy apartment\",\"apartment_id\":\"ccda761f4df39a465daa\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1750,\"size\":95,\"lat\":49.4573461,\"lon\":11.0390437,\"currency\":\"EUR\",\"availability\":\"2021-08-01T00:00:00.000Z\",\"last_updated\":\"2021-05-27T13:57:43.281Z\",\"active_long_stay_discount\":\"\",\"highest_long_stay_discount\":\"8%\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"apartment_id\":\"769b2a4dc3a2ae04db4e\",\"apartment_city\":\"\",\"apartment_country\":\"ES\",\"price\":950,\"currency\":\"EUR\",\"size\":\"45 m²\",\"lat\":-3.71187,\"lon\":40.4093,\"availability\":\"2021-08-21T21:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Cozy Studio in La Latina \",\"apartment_id\":\"769b2a4dc3a2ae04db4e\",\"city\":\"Madrid\",\"country\":\"ES\",\"price\":950,\"size\":45,\"lat\":40.4093,\"lon\":-3.71187,\"currency\":\"EUR\",\"availability\":\"2021-08-22T00:00:00.000Z\",\"last_updated\":\"2021-07-17T02:01:27.775Z\",\"width\":428,\"height\":751,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":76,\"eventLabel\":\"1626566434080-2899923303017\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":76,\"eventLabel\":\"1626566434080-2899923303017\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":76,\"eventLabel\":\"1626566434080-2899923303017\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"initial_map\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern Serviced Apartment with kitchen\",\"apartment_id\":\"w7Lj7kx8X2XicdHiN\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1300,\"size\":23,\"lat\":49.44872040000001,\"lon\":11.065615600000001,\"currency\":\"EUR\",\"availability\":\"2021-07-21T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:55:05.247Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"apartment_id\":\"SnLY5Tx5BnjvzBCq9\",\"apartment_city\":\"\",\"apartment_country\":\"DE\",\"price\":1470,\"currency\":\"EUR\",\"size\":\"20 m²\",\"lat\":11.523976700000048,\"lon\":48.135515,\"availability\":\"2021-07-19T22:00:00.000Z\",\"last_updated\":\"1970-01-01T00:00:00.000Z\",\"ga\":{\"category\":\"Map\",\"action\":\"Open_apartment\",\"label\":\"Search\",\"value\":\"\"}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":258,\"eventLabel\":\"1626566436617-9806658785929\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":258,\"eventLabel\":\"1626566436617-9806658785929\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":258,\"eventLabel\":\"1626566436617-9806658785929\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Cosy Apartments - studio entièrement équipé avec cuisine\",\"apartment_id\":\"SnLY5Tx5BnjvzBCq9\",\"city\":\"Munich\",\"country\":\"DE\",\"size\":20,\"lat\":48.135515,\"lon\":11.523976700000048,\"currency\":\"EUR\",\"availability\":\"2021-07-21T00:00:00.000Z\",\"last_updated\":\"2021-06-29T07:33:07.499Z\",\"width\":768,\"height\":893,\"page_type\":\"apartment_view\"}}","{\"event_content\":{},\"page\":{\"title\":\"Modern and central Apartment with kitchen\",\"apartment_id\":\"TMFhNT72RS6Bc63vp\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":1800,\"size\":31,\"lat\":49.44872040000001,\"lon\":11.065615600000001,\"currency\":\"EUR\",\"availability\":\"2021-07-21T00:00:00.000Z\",\"last_updated\":\"2021-07-17T23:55:05.362Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":232,\"eventLabel\":\"1626566439694-8461782339630\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":232,\"eventLabel\":\"1626566439694-8461782339630\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":232,\"eventLabel\":\"1626566439694-8461782339630\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"title\":\"Spacious bright 3-room roof apartment\",\"apartment_id\":\"dfe4e8ab2a578c6e5fef\",\"city\":\"Nuremberg\",\"country\":\"DE\",\"price\":2250,\"size\":100,\"lat\":49.43595879999999,\"lon\":11.0978584,\"currency\":\"EUR\",\"availability\":\"2021-08-13T00:00:00.000Z\",\"last_updated\":\"2021-07-13T12:03:39.608Z\",\"width\":1016,\"height\":741,\"page_type\":\"apartment_view\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":25,\"eventLabel\":\"1626566442117-3189646832513\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":25,\"eventLabel\":\"1626566442117-3189646832513\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"eventCategory\":\"apartment-Page-web-vital-metric\",\"eventAction\":\"TTFB\",\"eventValue\":25,\"eventLabel\":\"1626566442117-3189646832513\",\"nonInteraction\":true},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"type\":\"price\",\"value\":{\"min\":580,\"max\":654},\"ga\":{\"category\":\"Filter_apply\",\"action\":\"Price\",\"label\":\"Search\",\"value\":{\"min\":580,\"max\":654}}},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false,\"actionType\":\"filter\"},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"page_type\":\"search_page\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{},\"page\":{\"city\":\"Berlin\",\"filter_combination\":{},\"cnt_apartments\":1147,\"apartment_ids\":[\"a45b349c06eda17f8d8f\",\"65cd9ec1c7b0de70bb9e\",\"952854140f91e292574d\",\"oRWjzrgDB8yhxRvcX\",\"628e03fcb0a99c5965ba\",\"8c32a13fe929816e2346\",\"bb09b1c9f1d3a9cc8847\",\"cd165733f5567f39b5b1\",\"c9326ec3c3501e8aab13\",\"Sq6K6n8LkaKWzm8Zf\",\"b9397c1ea3876a460817\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"d4c35eaf631c5329f271\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\"],\"width\":424,\"height\":820,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Berlin\",\"filter_combination\":{},\"cnt_apartments\":1147,\"apartment_ids\":[\"a45b349c06eda17f8d8f\",\"65cd9ec1c7b0de70bb9e\",\"952854140f91e292574d\",\"oRWjzrgDB8yhxRvcX\",\"628e03fcb0a99c5965ba\",\"8c32a13fe929816e2346\",\"bb09b1c9f1d3a9cc8847\",\"cd165733f5567f39b5b1\",\"c9326ec3c3501e8aab13\",\"Sq6K6n8LkaKWzm8Zf\",\"b9397c1ea3876a460817\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"d4c35eaf631c5329f271\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\"],\"width\":424,\"height\":820,\"page_type\":\"search_page\"}}","{\"event_content\":{\"ga\":{\"category\":\"AptSection\",\"action\":\"Location\",\"label\":\"Apartment_view\",\"value\":\"\"}},\"page\":{\"page_type\":\"apartment_view\",\"country\":\"undefined\",\"city\":\"undefined\",\"apartment_id\":\"undefined\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556112685\",\"om_trg\":\"kwd-3282287321\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"},\"cnt_apartments\":1178,\"apartment_ids\":[\"a2bfac6aa316c2c656ec\",\"7b50264126fcbbd49547\",\"7c64090fbaabe2bf8\",\"8b420c926dfabd604c6b\",\"e68cf31992e6a599e396\",\"cce9ea8ebedfd6ba37d7\",\"7f1463ffacd5d61c2b56\",\"e331f4d94fd27111c\",\"be92c5f01e25c214bc00\",\"a6a4c78d45de7e4b4bab\",\"d6825f669e29c533747b\",\"1f55275215aecec46f58\",\"66b2a362807c7fe2e7f8\",\"27daba898eba2b00e\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"699fd8d83d3e0ca82129\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"355c2326e5f5dabe676d\",\"dfcb3aea3be7076bf3ed\",\"6f331ecfc20bb66da6ff\",\"3ebc048e0a26af723337\"],\"width\":360,\"height\":660,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556112685\",\"om_trg\":\"kwd-3282287321\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"},\"cnt_apartments\":1178,\"apartment_ids\":[\"a2bfac6aa316c2c656ec\",\"7b50264126fcbbd49547\",\"7c64090fbaabe2bf8\",\"8b420c926dfabd604c6b\",\"e68cf31992e6a599e396\",\"cce9ea8ebedfd6ba37d7\",\"7f1463ffacd5d61c2b56\",\"e331f4d94fd27111c\",\"be92c5f01e25c214bc00\",\"a6a4c78d45de7e4b4bab\",\"d6825f669e29c533747b\",\"1f55275215aecec46f58\",\"66b2a362807c7fe2e7f8\",\"27daba898eba2b00e\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"699fd8d83d3e0ca82129\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"355c2326e5f5dabe676d\",\"dfcb3aea3be7076bf3ed\",\"6f331ecfc20bb66da6ff\",\"3ebc048e0a26af723337\"],\"width\":360,\"height\":660,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"2\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113205\",\"om_trg\":\"kwd-297427216240\",\"gclid\":\"EAIaIQobChMIgtCck6jr8QIVigyRCh3SqAMjEAAYASABEgL6PvD_BwE\"},\"cnt_apartments\":553,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"e68cf31992e6a599e396\",\"7f1463ffacd5d61c2b56\",\"d6825f669e29c533747b\",\"66b2a362807c7fe2e7f8\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"3ebc048e0a26af723337\",\"3aaae367655aae2735a0\",\"428cf20152f73336a4bc\",\"30591145503752f5296e\",\"eff52bb0df4157eb3065\",\"b654b43543b72548b09b\",\"2ba279607e06037c9b7e\",\"b6214419c8c02fe016d7\",\"62a321737f77a963823c\",\"7715231fe48373f0bb9b\",\"8d6be5070163714484e7\",\"2693c025cc92beef38f2\",\"76c3bab65bdc4287140f\",\"898a6bb90e949a2baeea\"],\"width\":375,\"height\":628,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":true},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"details.bedrooms\":\"2\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556113205\",\"om_trg\":\"kwd-297427216240\",\"gclid\":\"EAIaIQobChMIgtCck6jr8QIVigyRCh3SqAMjEAAYASABEgL6PvD_BwE\"},\"cnt_apartments\":553,\"apartment_ids\":[\"7b50264126fcbbd49547\",\"e68cf31992e6a599e396\",\"7f1463ffacd5d61c2b56\",\"d6825f669e29c533747b\",\"66b2a362807c7fe2e7f8\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"3ebc048e0a26af723337\",\"3aaae367655aae2735a0\",\"428cf20152f73336a4bc\",\"30591145503752f5296e\",\"eff52bb0df4157eb3065\",\"b654b43543b72548b09b\",\"2ba279607e06037c9b7e\",\"b6214419c8c02fe016d7\",\"62a321737f77a963823c\",\"7715231fe48373f0bb9b\",\"8d6be5070163714484e7\",\"2693c025cc92beef38f2\",\"76c3bab65bdc4287140f\",\"898a6bb90e949a2baeea\"],\"width\":375,\"height\":628,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"south\":\"52.45603468485788\",\"west\":\"13.233807607176459\",\"zoom\":\"11\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_trg\":\"kwd-280776876\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"south\":\"52.45603468485788\",\"west\":\"13.233807607176459\",\"zoom\":\"11\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_trg\":\"kwd-280776876\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-280776876\",\"page\":\"1\",\"searchcity\":\"Berlin\",\"south\":\"52.45603468485788\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"13.233807607176459\",\"zoom\":\"11\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{\"isCached\":false},\"page\":{\"city\":\"Berlin\",\"country\":\"DE\",\"filter_combination\":{\"country\":\"DE\",\"east\":\"13.576100392820678\",\"gclid\":\"EAIaIQobChMItJTyiajr8QIVESitBh16QQ9iEAAYAiAAEgINOfD_BwE\",\"lang\":\"en\",\"lat\":\"52.52000659999999\",\"lng\":\"13.404954\",\"locality\":\"Berlin\",\"north\":\"52.58388549914409\",\"om_cmpgn\":\"12235143748\",\"om_grp\":\"120202391434\",\"om_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_trg\":\"kwd-280776876\",\"page\":\"1\",\"searchcity\":\"Berlin\",\"south\":\"52.45603468485788\",\"utm_medium\":\"cpc\",\"utm_source\":\"google\",\"west\":\"13.233807607176459\",\"zoom\":\"11\"},\"cnt_apartments\":1064,\"apartment_ids\":[\"65cd9ec1c7b0de70bb9e\",\"oRWjzrgDB8yhxRvcX\",\"408b89180c51465c8d7d\",\"8ce459877b778a057d61\",\"4037205558f9490fb883\",\"a42a4d25eab4ea958d3a\",\"d45194dd09c0775fd22c\",\"07230125f2219bcec95b\",\"0ccabf41046f7a1f7760\",\"0cb037d3e3fad2a6da4f\",\"e9ef449a1c6ad76ff333\",\"798d17913a44dc8e8db3\",\"d76db63bf269a9cb16e4\",\"fb1a1722fde8cbf822d5\",\"JcrsdLXC2dAXp7G7z\",\"720e14e984608d380e8c\",\"c47b2a7596ab639e02bc\",\"nn64xrTqK582DWPLW\",\"owk4kcmdMqKC9d2Mj\",\"f7025f0c4e884d3cd667\",\"a5b15eaff9a199d7bf4c\",\"hjdgWqyPEiaszoJpy\",\"3155f357bd7cc8bae832\",\"96bb11136fe7fbe51877\"],\"width\":1180,\"height\":649,\"page_type\":\"search_page\"}}","{\"event_content\":{},\"page\":{\"city\":\"Madrid\",\"country\":\"ES\",\"filter_combination\":{\"country\":\"ES\",\"east\":\"-3.618217003589308\",\"lang\":\"es\",\"lat\":\"40.4167754\",\"lng\":\"-3.7037902\",\"locality\":\"Madrid\",\"north\":\"40.45675591854811\",\"page\":\"1\",\"sort\":\"p-asc\",\"south\":\"40.3767711101178\",\"west\":\"-3.789363396412\",\"zoom\":\"12\",\"utm_source\":\"google\",\"utm_medium\":\"cpc\",\"om_src\":\"adwords\",\"om_medium\":\"cpc\",\"om_cmpgn\":\"12410094176\",\"om_grp\":\"116556112685\",\"om_trg\":\"kwd-3282287321\",\"gclid\":\"Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"},\"cnt_apartments\":1178,\"apartment_ids\":[\"a2bfac6aa316c2c656ec\",\"7b50264126fcbbd49547\",\"7c64090fbaabe2bf8\",\"8b420c926dfabd604c6b\",\"e68cf31992e6a599e396\",\"cce9ea8ebedfd6ba37d7\",\"7f1463ffacd5d61c2b56\",\"e331f4d94fd27111c\",\"be92c5f01e25c214bc00\",\"a6a4c78d45de7e4b4bab\",\"d6825f669e29c533747b\",\"1f55275215aecec46f58\",\"66b2a362807c7fe2e7f8\",\"27daba898eba2b00e\",\"4f4d35bde1e90e816c13\",\"9c30990f44b084d64619\",\"6df4a1723739ffe378a7\",\"699fd8d83d3e0ca82129\",\"061b4886e645f0a0a5a2\",\"d14123cb72c15c8a87a8\",\"355c2326e5f5dabe676d\",\"dfcb3aea3be7076bf3ed\",\"6f331ecfc20bb66da6ff\",\"3ebc048e0a26af723337\"],\"width\":360,\"height\":660,\"page_type\":\"search_page\",\"target_group\":\"For_Business\",\"page_url\":\"https://www.thehomelike.com/search/ES/Madrid?country=ES&amp;amp;east=-3.618217003589308&amp;amp;lang=es&amp;amp;lat=40.4167754&amp;amp;lng=-3.7037902&amp;amp;locality=Madrid&amp;amp;north=40.45675591854811&amp;amp;page=1&amp;amp;sort=p-asc&amp;amp;south=40.3767711101178&amp;amp;west=-3.789363396412&amp;amp;zoom=12&amp;amp;utm_source=google&amp;amp;utm_medium=cpc&amp;amp;om_src=adwords&amp;amp;om_medium=cpc&amp;amp;om_cmpgn=12410094176&amp;amp;om_grp=116556112685&amp;amp;om_trg=kwd-3282287321&amp;amp;gclid=Cj0KCQjw_8mHBhClARIsABfFgpjBnjhr60HsxYXzq_YoGnpqcs0LarI357A8xOQdwi6KlhSi9dtcVmwaAlz2EALw_wcB\"}}"],["production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production","production"],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;datetime&lt;\/th&gt;\n      &lt;th&gt;event_type&lt;\/th&gt;\n      &lt;th&gt;test_groups&lt;\/th&gt;\n      &lt;th&gt;session_id&lt;\/th&gt;\n      &lt;th&gt;visitor_id&lt;\/th&gt;\n      &lt;th&gt;user_location_country&lt;\/th&gt;\n      &lt;th&gt;user_location_city&lt;\/th&gt;\n      &lt;th&gt;device_class&lt;\/th&gt;\n      &lt;th&gt;device_family&lt;\/th&gt;\n      &lt;th&gt;device_browser&lt;\/th&gt;\n      &lt;th&gt;page_type&lt;\/th&gt;\n      &lt;th&gt;page_country&lt;\/th&gt;\n      &lt;th&gt;page_city&lt;\/th&gt;\n      &lt;th&gt;apartment_id&lt;\/th&gt;\n      &lt;th&gt;params&lt;\/th&gt;\n      &lt;th&gt;environemnt&lt;\/th&gt;\n      &lt;th&gt;is_internal_ip&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;I undertook data cleaning and omitted missing vales for the selected variables. Then, I analyzed the total number of unique visitors and sessions using the code below&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#### Total number of unique visitors
unique_visitors_count&amp;lt;- data18 %&amp;gt;%
  dplyr::select(visitor_id)%&amp;gt;%
  na.omit()%&amp;gt;%
  count(visitor_id)

### Total number of unique sessions
unique_session_count &amp;lt;- data18 %&amp;gt;%
  dplyr::select(session_id)%&amp;gt;%
  na.omit() %&amp;gt;%
  count(session_id)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The total number of unique visitors is 17,453 and total number of unique sessions is 18,872.&lt;br /&gt;
The total number of unique sessions is required to calculate the conversion rate which is estimated with the code below;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#############################################  Task 1:  #######################################################
########### What KPIs / Metrics do you recommend for the product team to use?
## Conversion rate
## Conversion occurs when page_type == request/success
# find number of conversions made
request_success_data &amp;lt;- data18 %&amp;gt;%
  dplyr::select(page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  filter(page_type == &amp;quot;request/success&amp;quot;)
## conversion rate
conversion_rate &amp;lt;- (count(request_success_data)/count(unique_session_count)) * 100
conversion_rate$n  ## conversion rate is 0.159 %&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.1589657&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id="therefore-the-overall-conversion-rate-for-2021-07-18-is-0.159"&gt;Therefore, the overall conversion rate for 2021-07-18 is 0.159%&lt;/h5&gt;
&lt;p&gt;Before, proceeding with the next question, I will demonstrate how to estimate some of KPIs I have recommended in my first question using the code below;&lt;/p&gt;
&lt;h4 id="bounce_rate-om-2021-07-18"&gt;Bounce_rate om 2021-07-18&lt;/h4&gt;
&lt;pre class="r"&gt;&lt;code&gt;## Bounce_rate
bounce &amp;lt;- data18%&amp;gt;%
  dplyr::select(session_id, page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(session_id)%&amp;gt;%
  count(page_type)%&amp;gt;%
  tally(wt = n)%&amp;gt;%
  mutate(num_pages = n)%&amp;gt;%
  mutate(bounce_status = case_when(num_pages == 1 ~ &amp;quot;bounce&amp;quot;,
                                   num_pages &amp;gt; 1 ~ &amp;quot;not_bounce&amp;quot;))

bounce_group &amp;lt;- bounce%&amp;gt;%
  group_by(bounce_status)%&amp;gt;%
  count(bounce_status)

## bounce rate
bounce_rate &amp;lt;- (bounce_group[1,2]/sum(bounce_group$n)) * 100
bounce_rate$n  ## 13.54% bounce rate&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 13.53858&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;From the above analysis, it is concluded that bounce rate is 13.54% on 2021-07-18&lt;/p&gt;
&lt;h5 id="customer-acquisition-as-kpi"&gt;Customer acquisition as KPI&lt;/h5&gt;
&lt;p&gt;For the customer acquisition KPI that I recommended, the code below can be used to estimate it.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## Customer acquisition as KPI 
customer_acquisition &amp;lt;- data18%&amp;gt;%
  dplyr::select(event_type) %&amp;gt;%
  na.omit()%&amp;gt;%
  filter(event_type == &amp;quot;user_register_success&amp;quot;)
customer_acquisition_count&amp;lt;- count(customer_acquisition)   ## 76 new users register for our services
customer_acquisition_count$n&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 76&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It is estimated that 76 new users register for our services on 2021-07-18. This represents our customer acquisition.&lt;/p&gt;
&lt;h4 id="what-is-the-conversion-rate-for-users-searching-in-berlin."&gt;●What is the conversion rate for users searching in Berlin.&lt;/h4&gt;
&lt;p&gt;In order to estimate conversion rate for users searching in Berlin, we need to filter the dataset to focus on Berlin users, then estimate the number of sessions and conversion using the code below. This is done for 2021-07-18.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;########## ●What is the conversion rate for users searching in Berlin.
## select users searching in Berlin
berlin_users &amp;lt;- data18%&amp;gt;%
  filter(user_location_city == &amp;quot;Berlin&amp;quot;)%&amp;gt;%
  dplyr::select(session_id, page_type) 
  
  
berlin_conversion &amp;lt;- berlin_users%&amp;gt;%
  filter(page_type == &amp;quot;request/success&amp;quot;)

berlin_session &amp;lt;- berlin_users%&amp;gt;%
#  unique(berlin_users$session_id)%&amp;gt;%
    count(session_id)

berlin_session_count &amp;lt;- count(berlin_session) 
berlin_session_count$n ## Total number of sessions from Berlin is 804&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 804&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;berlin_conversion_rate &amp;lt;- (count(berlin_conversion) / count(berlin_session))
berlin_conversion_rate$n ### conversion rate in Berlin is 0%&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id="from-the-analysis-above-it-is-clear-that-there-were-no-conversions-on-2021-01-18-for-users-searching-in-berlin-despite-804-sessions-were-made."&gt;From the analysis above, it is clear that there were no conversions on 2021-01-18 for users searching in Berlin despite 804 sessions were made.&lt;/h5&gt;
&lt;h3 id="task-2-analyse"&gt;Task 2: Analyse&lt;/h3&gt;
&lt;h4 id="analyse-results-of-our-rcsp-ab-test-and-present-results-to-the-product-team."&gt;●Analyse results of our “rcsp’ A/B test and present results to the product team.&lt;/h4&gt;
&lt;h5 id="background"&gt;Background&lt;/h5&gt;
&lt;p&gt;In order to provide a baseline for the A/B testing, I defined goals for the product. It is assumed that we are striving to assess which of our product user groups will help as achieve our goals better. I translated these goals into KPIs to be measured for the A/B testing.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;KPI compared for the various groups&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I. Conversion rate&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt;II.User journey&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id="data-analysis-1"&gt;Data analysis&lt;/h4&gt;
&lt;h4 id="splitting-of-data-into-test-and-control-group"&gt;Splitting of data into test and control group&lt;/h4&gt;
&lt;p&gt;From the “test_groups” column, I identified “rcsp=ref” as the control group and “rcsp=show” as the test group. The KPI identified for the analysis was used as a benchmark to analyze the test group and control group. The code below was used to analyze the data.&lt;/p&gt;
&lt;h4 id="conversion-rate-based-on-ab-testing"&gt;Conversion rate based on A/B testing&lt;/h4&gt;
&lt;pre class="r"&gt;&lt;code&gt;################################     Task 2: Analyse  ################################################
########## ●Analyse results of our “rcsp’ A/B test and present results to the product team. 
####   ○The “rcsp=show” test users of page_type=search_page experience a faster loading time of the page. 

## divide data into test group and control group
# subset test group
rcsp_show &amp;lt;- subset(data18, grepl(&amp;#39;&amp;quot;rcsp&amp;quot;:&amp;quot;show&amp;quot;&amp;#39;, test_groups))
# subset control group
rcsp_ref &amp;lt;- subset(data18, grepl(pattern = &amp;#39;&amp;quot;rcsp&amp;quot;:&amp;quot;ref&amp;quot;&amp;#39;, test_groups))

######## conversion rate for control
rcsp_ref_conversion &amp;lt;- rcsp_ref%&amp;gt;%
  filter(page_type == &amp;quot;request/success&amp;quot;) %&amp;gt;%
  na.omit()
rcsp_ref_conversion_count &amp;lt;- count(rcsp_ref_conversion) 
rcsp_ref_conversion_count$n   ## Conversions for control group is 19&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 19&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;## number of sessions made by rcsp_ref
rcsp_ref_session &amp;lt;- rcsp_ref%&amp;gt;%
  dplyr::select(session_id)%&amp;gt;%
  na.omit()%&amp;gt;%
  count(session_id)

rcsp_ref_session_count &amp;lt;- count(rcsp_ref_session) 
rcsp_ref_session_count$n # # 9467 sessions for rcsp_ref &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 9467&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;rcsp_ref_conversion_rate &amp;lt;- (count(rcsp_ref_conversion)/count(rcsp_ref_session)) * 100
rcsp_ref_conversion_rate$n ## 0.2% conversion rate for rcsp_ref&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.2006972&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;######### conversion rate for test group rcsp:show
rcsp_show_conversion &amp;lt;- rcsp_show%&amp;gt;%
  dplyr::select(page_type, session_id)%&amp;gt;%
  na.omit()%&amp;gt;%
  filter(page_type == &amp;quot;request/success&amp;quot;)
rcsp_show_conversion_count &amp;lt;- count(rcsp_show_conversion)  
rcsp_show_conversion_count$n  ## conversion for test group is 11&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 11&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;## number of sessions for rcsp_show
rcsp_show_session &amp;lt;- rcsp_show%&amp;gt;%
  dplyr::select(session_id, page_type)%&amp;gt;%
  na.omit() %&amp;gt;%
  count(session_id)
rcsp_show_session_count &amp;lt;- count(rcsp_show_session) 
rcsp_show_session_count$n  ## 9,463 sessions were made by  rcsp_show test group&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 9462&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;## conversion rate rcsp_show
rcsp_show_conversion_rate &amp;lt;- (count(rcsp_show_conversion)/count(rcsp_show_session)) * 100
rcsp_show_conversion_rate$n ## 0.116 % conversion rate for rcsp_show&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.1162545&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;###### Thus the test group ( test_groups == rcsp:show) achieved a lower conversion rate compared to the
## control group (test_groups == rcsp:ref )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;From the above analysis of A/B testing, it was estimated that the control group (rcsp:ref) had 19 conversions and 9467 user sessions which translates into a conversion rate of 0.2%.&lt;/p&gt;
&lt;p&gt;For the test user group (rcsp:show), there were 11 conversions and 9,462 user sessions hence a conversion rate of 0.116%&lt;/p&gt;
&lt;p&gt;Thus, it is concluded that based on conversion rate the test user group had a lower conversion rate (0.116%) compared to the control group (0.2%). Therefore, if we are to solely base our decision on conversion, the new feature which is shown to the test group is not recommended.&lt;/p&gt;
&lt;h4 id="bounce-rate-ab-testing"&gt;Bounce rate (A/B testing)&lt;/h4&gt;
&lt;p&gt;A key concern for the product team will be to ensure that they do not roll out a feature that has detrimental effect on user engagement and experience hence bounce rate. Thus, the A/B testing could also be undertaken based on bounce rate.&lt;/p&gt;
&lt;p&gt;Assessing bounce rate, it was estimated that the control user group (rcsp:ref) had a bounce rate of 13.62% while the test user group (rcsp:show) had 13.59 % bounce rate. Thus, in terms of bounce rate, the test group had a slightly lower bounce rate compared to the control group. The result is however not conclusive of which feature is better as there is the need to conduct further analysis to determine whether the difference is statistically significant.&lt;/p&gt;
&lt;p&gt;The code for this analysis is provided below&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#### bounce rate for A/B testing
## Bounce_rate for rcsp_ref
bounce_rcsp_ref &amp;lt;- rcsp_ref %&amp;gt;%
  dplyr::select(session_id, page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(session_id)%&amp;gt;%
  count(page_type)%&amp;gt;%
  tally(wt = n)%&amp;gt;%
  mutate(num_pages = n)%&amp;gt;%
  mutate(bounce_status = case_when(num_pages == 1 ~ &amp;quot;bounce&amp;quot;,
                                   num_pages &amp;gt; 1 ~ &amp;quot;not_bounce&amp;quot;))

bounce_group_rcsp_ref &amp;lt;- bounce_rcsp_ref%&amp;gt;%
  group_by(bounce_status)%&amp;gt;%
  count(bounce_status)

## bounce rate for rcsp_ref
bounce_rate_rcsp_ref &amp;lt;- (bounce_group_rcsp_ref[1,2]/sum(bounce_group_rcsp_ref$n)) * 100
bounce_rate_rcsp_ref$n  ## 13.61572% bounce rate&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 13.61572&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;#####  Bounce_rate for A/B testing (test group)
## Bounce rate rcsp_show
bounce_rcsp_show &amp;lt;- rcsp_show%&amp;gt;%
  dplyr::select(session_id, page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(session_id)%&amp;gt;%
  count(page_type)%&amp;gt;%
  tally(wt = n)%&amp;gt;%
  mutate(num_pages = n)%&amp;gt;%
  mutate(bounce_status = case_when(num_pages == 1 ~ &amp;quot;bounce&amp;quot;,
                                   num_pages &amp;gt; 1 ~ &amp;quot;not_bounce&amp;quot;))

bounce_group_rcsp_show &amp;lt;- bounce_rcsp_show%&amp;gt;%
  group_by(bounce_status)%&amp;gt;%
  count(bounce_status)

## bounce rate for rcsp_show
bounce_rate_rcsp_show &amp;lt;- (bounce_group_rcsp_show[1,2]/sum(bounce_group_rcsp_show$n)) * 100
bounce_rate_rcsp_show$n  ## 13.59 % bounce rate for rcsp_show&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 13.59121&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id="user-journey-for-ab-testing"&gt;User journey for A/B testing&lt;/h4&gt;
&lt;p&gt;Given that the difference in bounce rate between the two groups is a very small margin, further inquiry will be to analyze the user journey and display the result using a funnel chart. This will enable visualizing pages where users leave Homelike website and get a sense of which group makes is closer to final conversion.&lt;/p&gt;
&lt;p&gt;The code for user journey for A/B testing is provided below.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;####### User journey for A/B testing
##### user journey for user_ref
rcsp_ref_user_jour &amp;lt;- rcsp_ref%&amp;gt;%
  dplyr::select(page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(page_type)%&amp;gt;%
  count()

## user journey rcsp_show 
rcsp_show_user_jour &amp;lt;- rcsp_show%&amp;gt;%
  dplyr::select(page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(page_type)%&amp;gt;%
  count()

rcsp_ref_user_jour.desc&amp;lt;- dplyr::arrange(rcsp_ref_user_jour, desc(n) )
rcsp_show_user_jour.desc &amp;lt;- dplyr::arrange(rcsp_show_user_jour, desc(n))

rcsp_funl &amp;lt;- plot_ly(
  type = &amp;quot;funnel&amp;quot;,
  name = &amp;#39;rcsp:ref (control group)&amp;#39;,
  y = as.vector(rcsp_ref_user_jour.desc$page_type),
  x = as.vector(rcsp_ref_user_jour.desc$n),
  textinfo = &amp;quot;value+percent initial&amp;quot;) &lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;rcsp_funl &amp;lt;- rcsp_funl %&amp;gt;%
  add_trace(
    type = &amp;quot;funnel&amp;quot;,
    name = &amp;#39;rcsp:show (test group)&amp;#39;,
    orientation = &amp;quot;h&amp;quot;,
    y = as.vector(rcsp_show_user_jour.desc$page_type),
    x = as.vector(rcsp_show_user_jour.desc$n),
    textposition = &amp;quot;inside&amp;quot;,
    textinfo = &amp;quot;value+percent initial&amp;quot;) 
rcsp_funl &amp;lt;- rcsp_funl %&amp;gt;%
  layout(yaxis = list(categoryarray = as.vector(rcsp_show_user_jour.desc$page_type)))%&amp;gt;%
  layout(hovermode = &amp;#39;compare&amp;#39;)

rcsp_funl&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-04450f171f14364aa3eb" style="width:672px;height:480px;" class="plotly html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-04450f171f14364aa3eb"&gt;{"x":{"visdat":{"12f2d5013708":["function () ","plotlyVisDat"]},"cur_data":"12f2d5013708","attrs":{"12f2d5013708":{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[107504,43129,1198,73,19,7],"textinfo":"value+percent initial","name":"rcsp:ref (control group)","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"funnel"},"12f2d5013708.1":{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[109197,41958,1323,83,11,6],"textinfo":"value+percent initial","name":"rcsp:show (test group)","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"funnel","orientation":"h","textposition":"inside","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"categoryarray":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"title":[],"type":"category","categoryorder":"array"},"hovermode":"compare","xaxis":{"domain":[0,1],"automargin":true,"title":[]},"showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[107504,43129,1198,73,19,7],"textinfo":"value+percent initial","name":"rcsp:ref (control group)","type":"funnel","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"xaxis":"x","yaxis":"y","frame":null},{"y":["search_page","apartment_view","request/initial","request/checkout","request/success","request/rental-agreement"],"x":[109197,41958,1323,83,11,6],"textinfo":"value+percent initial","name":"rcsp:show (test group)","type":"funnel","orientation":"h","textposition":["inside","inside","inside","inside","inside","inside"],"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h4 id="cluster-our-users-in-logical-groups-based-on-the-data-you-have-in-hand."&gt;●Cluster our users in logical groups based on the data you have in hand.&lt;/h4&gt;
&lt;p&gt;There are a number of ways to segment our users into groups. The first approach will be to simply group users based on features that they have in common and second approach will be to use a clustering algorithm such as k-means clustering to segment them into groups of similarity.&lt;/p&gt;
&lt;p&gt;I will first visualize the simple groupings using the code below. This funnel chart for user journey is based on dataset of 2021-07-18 and not just the A/B testing groups as above. Hover of the funnel chart to display number of users for each page.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;##########   ●Cluster our users in logical groups based on the data you have in hand. 

## funnel charts for user journey
page_type_count &amp;lt;- data18%&amp;gt;%
  dplyr::select(page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(page_type)%&amp;gt;%
  count()%&amp;gt;%
  arrange(desc(n))

user_jour_funnel &amp;lt;- page_type_count %&amp;gt;%
  hchart(
    &amp;quot;funnel&amp;quot;, hcaes(x = page_type, y = n),
    name = &amp;quot;user_journey&amp;quot;
  )
user_jour_funnel&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-edfbfc52d82635d988c6" style="width:100%;height:500px;" class="highchart html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-edfbfc52d82635d988c6"&gt;{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":null},"yAxis":{"title":{"text":"n"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"page_type":"search_page","n":216701,"y":216701,"name":"search_page"},{"page_type":"apartment_view","n":85093,"y":85093,"name":"apartment_view"},{"page_type":"request/initial","n":2521,"y":2521,"name":"request/initial"},{"page_type":"request/checkout","n":156,"y":156,"name":"request/checkout"},{"page_type":"request/success","n":30,"y":30,"name":"request/success"},{"page_type":"request/rental-agreement","n":13,"y":13,"name":"request/rental-agreement"}],"type":"funnel","name":"user_journey"}],"xAxis":{"type":"category","title":{"text":"page_type"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h4 id="grouping-users-based-on-device-type"&gt;Grouping users based on device type&lt;/h4&gt;
&lt;p&gt;For this, I analyzed the number of visitors based on device used to access Homelike website using the code below.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;### clusters users into groups based on device type
users_device_class &amp;lt;- data18%&amp;gt;%
  dplyr::select(visitor_id, device_class)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(device_class)%&amp;gt;%
  distinct(visitor_id)%&amp;gt;%
  count(visitor_id)%&amp;gt;%
  tally(wt = n)%&amp;gt;%
  arrange(desc(n)) %&amp;gt;%
  dplyr::rename(&amp;quot;Number of users&amp;quot; = n)

ggplot(data = users_device_class, mapping = aes(x = reorder(device_class, -`Number of users`), y = `Number of users`)) + geom_col() + ggtitle(label = &amp;quot;Number of users based on devices used&amp;quot;) + xlab(&amp;quot;Device class&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d241dfa01_files/figure-html/unnamed-chunk-14-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h4 id="cluster-users-into-groups-based-on-user-country"&gt;Cluster users into groups based on user country&lt;/h4&gt;
&lt;p&gt;Based on the country users access Homelike page from, the total number of users is analyzed and the top twenty (20) countries with highest number of visitors are visualized.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;### clusters users into groups based on user country 
users_country &amp;lt;- data18%&amp;gt;%
  dplyr::select(visitor_id, user_location_country)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(user_location_country)%&amp;gt;%
  distinct(visitor_id)%&amp;gt;%
  count(visitor_id)%&amp;gt;%
  tally(wt = n)%&amp;gt;%
  arrange(desc(n)) %&amp;gt;%
  dplyr::rename(&amp;quot;Number of users&amp;quot; = n)

top20_users_country &amp;lt;- dplyr::top_n(users_country, n = 20)

ggplot(data = top20_users_country, mapping = aes(x = reorder(user_location_country, -`Number of users`), y = `Number of users`)) + geom_col() + ggtitle(&amp;quot;Top 20 countries with highest number of visitors&amp;quot;) + xlab(&amp;quot;Countries of users&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d241dfa01_files/figure-html/unnamed-chunk-15-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h4 id="cluster-users-into-groups-based-on-device-brower-used"&gt;Cluster users into groups based on device brower used&lt;/h4&gt;
&lt;pre class="r"&gt;&lt;code&gt;### clusters users into groups based on device brower used
users_browser &amp;lt;- data18%&amp;gt;%
  dplyr::select(visitor_id, device_browser)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(device_browser)%&amp;gt;%
  distinct(visitor_id)%&amp;gt;%
  count(visitor_id)%&amp;gt;%
  tally(wt = n)%&amp;gt;%
  arrange(desc(n)) %&amp;gt;%
  dplyr::rename(&amp;quot;Number of users&amp;quot; = n)

ggplot(data = top_n(users_browser, n =5), mapping= aes(x = reorder(device_browser, -`Number of users`), y = `Number of users`)) + geom_col() + ggtitle(&amp;quot;Number of users based on browser used&amp;quot;) + xlab(&amp;quot;Type of brower used&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d241dfa01_files/figure-html/unnamed-chunk-16-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h4 id="k-means-clustering-to-cluster-users-into-groups-of-similarity"&gt;K-means clustering to cluster users into groups of similarity&lt;/h4&gt;
&lt;p&gt;A more robust way to segment users into groups of similarity involves using K-means clustering analysis. This method have been employed here to segment our users to groups. The number of groups to segment users into can vary. In order to choose the optimal number of groups for the clustering, I used average silhouettes method to determine the optimal group number.&lt;/p&gt;
&lt;p&gt;The analysis was undertaken by first assessing the number of page views per user and sessions per users; and using these as the criteria to cluster users into groups of similarity.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;It was assessed that optimal group to clusters into groups of similarity was 2 as deduced from average silhouette method.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The code below was used for the analysis. First, the number of pageview and sessions per user is analyzed.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;####################### cluster analysis
## pageviews per visitor
user_pageviews &amp;lt;- data18%&amp;gt;%
  dplyr::select(visitor_id,page_type)%&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(visitor_id)%&amp;gt;%
  count(page_type)%&amp;gt;%
  tally(wt = n)%&amp;gt;%
  mutate(num_pages = n)%&amp;gt;%
  dplyr::select(-2)

## number of sessions per visitor
user_sess &amp;lt;- data18%&amp;gt;%
  dplyr::select(visitor_id, session_id) %&amp;gt;%
  na.omit()%&amp;gt;%
  group_by(visitor_id)%&amp;gt;%
  distinct(session_id)

user_sess_num &amp;lt;- user_sess%&amp;gt;%
  group_by(visitor_id)%&amp;gt;%
  count()%&amp;gt;%
  mutate(num_sessions = n)%&amp;gt;%
  dplyr::select(-2)

### merge num_pages and num_sessions for visitors
users_all &amp;lt;- merge(user_pageviews, user_sess_num)
visitor_pageviews_sessions_num &amp;lt;- merge(user_pageviews, user_sess_num)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After preparing the variables, they are scaled, their distance measure estimated and clustering analysis undertaken. For this analysis, outliers were not remove and may influence the result even though scaling and standardization was undertaken.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## k-mean clustering
visitor_pageviews_sessions_num &amp;lt;- na.omit(visitor_pageviews_sessions_num)
## scale data
visitor_pageviews_sessions_num &amp;lt;- scale(visitor_pageviews_sessions_num[,c(2:3)])

##### K means clustering
k2_visitor &amp;lt;- kmeans(visitor_pageviews_sessions_num, centers = 2, nstart = 25)

k3_visitor &amp;lt;- kmeans(visitor_pageviews_sessions_num, centers = 3, nstart = 25) ## kmeans with 3 clusters
k4_visitor &amp;lt;- kmeans(visitor_pageviews_sessions_num, centers = 4, nstart = 25) ## kmeans with 4 clusters
k5_visitor &amp;lt;- kmeans(visitor_pageviews_sessions_num, centers = 5, nstart = 25) ## kmeans with 5 clusters

# plots to compare
p1 &amp;lt;- fviz_cluster(k2_visitor, geom = &amp;quot;point&amp;quot;, data = visitor_pageviews_sessions_num) + ggtitle(&amp;quot;k = 2&amp;quot;)
p2 &amp;lt;- fviz_cluster(k3_visitor, geom = &amp;quot;point&amp;quot;, data = visitor_pageviews_sessions_num) + ggtitle(&amp;quot;k = 3&amp;quot;)
p3 &amp;lt;- fviz_cluster(k4_visitor, geom = &amp;quot;point&amp;quot;, data = visitor_pageviews_sessions_num) + ggtitle(&amp;quot;k = 4&amp;quot;)
p4 &amp;lt;- fviz_cluster(k5_visitor, geom = &amp;quot;point&amp;quot;, data = visitor_pageviews_sessions_num) + ggtitle(&amp;quot;k = 5&amp;quot;)

############# plot all graphs together  #######
grid.arrange(p1, p2, p3, p4, nrow = 2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d241dfa01_files/figure-html/unnamed-chunk-18-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h4 id="determining-the-optimal-number-of-clusters-for-grouping-users"&gt;Determining the optimal number of clusters for grouping users&lt;/h4&gt;
&lt;p&gt;The code below was used for the analysis. Inferred from the average silhouette method, the optimal number of clusters for grouping users is 2.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;##Determing optimal number of clusters using average silhouettes method 
silh_visitors &amp;lt;- fviz_nbclust(visitor_pageviews_sessions_num, kmeans, method = &amp;quot;silhouette&amp;quot;)
silh_visitors&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d241dfa01_files/figure-html/unnamed-chunk-19-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h4 id="clustering-users-into-2-groups-as-the-optimal-number-of-cluster-groups-is-shown-below"&gt;Clustering users into 2 groups as the optimal number of cluster groups is shown below&lt;/h4&gt;
&lt;pre class="r"&gt;&lt;code&gt;#####  compute k-means clustering with k = 2  // the optimal clusters according to silhoutte
set.seed(123)
optimal_clusters_visitors &amp;lt;- kmeans(visitor_pageviews_sessions_num, 2, nstart = 25)

optimal_clust_viz &amp;lt;- fviz_cluster(optimal_clusters_visitors, data = visitor_pageviews_sessions_num)
optimal_clust_viz&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d241dfa01_files/figure-html/unnamed-chunk-20-1.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;The cluster group for each user is identified by adding the clustering result to the data. The first 50 users are shown below.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;###extracting clustering and adding to data
user_cluster_groups &amp;lt;- users_all%&amp;gt;%
  mutate(Cluster_group = optimal_clusters_visitors$cluster) %&amp;gt;%
  group_by(Cluster_group) #%&amp;gt;%
#  summarise_all(&amp;quot;mean&amp;quot;)
DT::datatable(user_cluster_groups[1:50,])&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-e12f4c52b7f36e26c300" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-e12f4c52b7f36e26c300"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["000a5ade65304b7c35d73f02fcc502b8d1aac025","000aebd0e48d2f09af16a354fdb8c016de1f1ff5","000fc763fa36f9b6ac994afdab2b5f40f630e463","0014e5c4c60b4a3cea46b76609ad1690fc4c758c","001891d29fb6df46d0c7687266234361c2e67b6b","001b33507a4c3c28f6204d685d69eca40db62e24","001ffcc466abf553650aa72a278f3902cd0b835b","002a8d606a200c797224b2e1ec5523164427c181","002e6ab1a2b236a099580ed2a097d8937d0efdfb","002eec466deb25aefaf4418cb2b8dd30bd5bb391","00328ada30110e6e25978369425e972653a27bb5","00379f08f03309e6092b5e7fa2e5ba74dde6eaad","0038b3e739c8eff30b40eeca5c5cf70c9e58ad74","003fe37685dc5e5e9a916a750f2c2758db287fe4","00459bd2ca95a616624c6c165a7f94865d244378","0045f29e39270ba5b555089ede22fa1b2768d9c1","004b053667fd7a2638ce4917952bb3c111691c12","004f98e7d6fea4260f693e59d0cddf62d2900469","0050553913dccf54a1638e98cdbc3aa38472ebb3","00532a84148804a7c385e7e71280dff932e1720a","00587af77e1ac862ee2fe79e631eecd0c7aa4e86","005decd938772a83e57c45ab637747e1494ead6d","005e7ab6e44580a98e0feae2933669c56050995d","005f9128a6e4dcb83eb29105b916dd389e48dc49","006696640f3db0da837b4646562068977986d1cd","007b203ad27c1a3226065b0b8e7258f5d20a4b88","00825dc6c8ab4b5d206e20f8f52dd287eafb3018","008290c141e73ea02c481dcff07cb9a9c99b04be","00850aca96fca7f842541bb2effd7fe832e5b928","0088fc848a5e77b5d555841027eca54576e06125","008f280db7dc0c77be37ceb02393912d6c9b5a5d","0093a77059d58d8a5c875b171307c1f7a3fb4731","00942c3ab1eaaecabe075b7b77956e6851498248","009b4e472b228394e0345cdd7bc51b96f63b722f","009f35e632237d5591be15ed1e8b15dbab2e3b0e","00a04176deac3b00a39f9123ce9fb4368304ecf8","00a329de77ba1f5002d13ff986683ac4c5315e72","00a34e34b9467c192d64724dd51f8a0380b14d2b","00a3a2ebe5f47aebd3174fb3a11107124e783f42","00a68c1e5be0e00485fe587ab501db31f0c3f2e7","00b029b494701466787065419f15f6dfe98cff8e","00c1c1735cfe6dee3c33fd6b4372500bb693a7c0","00c5a28b04e04ae633bb202200e24d76a320f692","00d130b5a5ad4a11b01b07ca76211c546de203f8","00d72e135ec2473d8ae4e55582929d44dacd595f","00db1affdd0afc70d4261d4df7840014d2cfb888","00dd0ab02ad038223dcf88cb1fd07f6e70ed94ce","00dff447c2af3a36f1db223bbce50b67ae6d4028","00e31c589e9356a227aee9d793ac23cf84a5f17c","00e330458f586864ea19da93b0099d0e2a9f03d4"],[2,7,4,3,22,1,33,21,5,88,1,9,6,14,4,4,10,3,4,20,2,2,13,22,10,11,2,13,10,1,79,40,24,7,2,1,3,2,3,1,9,3,6,4,2,12,1,15,4,4],[1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;visitor_id&lt;\/th&gt;\n      &lt;th&gt;num_pages&lt;\/th&gt;\n      &lt;th&gt;num_sessions&lt;\/th&gt;\n      &lt;th&gt;Cluster_group&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h5 id="note-from-the-data-it-is-deduced-that-most-of-the-first-50-users-are-in-cluster-group-2-and-indeed-only-a-few-users-are-in-cluster-group-one-as-a-whole.-this-is-likely-the-influence-of-outliers-since-outliers-were-not-removed-and-some-users-had-an-extermely-high-number-of-pageviews-and-sessions.-this-could-be-an-error-in-the-data-collection-process."&gt;NOTE: From the data, it is deduced that most of the first 50 users are in cluster group 2 and indeed only a few users are in cluster group one as a whole. This is likely the influence of outliers since outliers were not removed and some users had an extermely high number of pageviews and sessions. This could be an error in the data collection process.&lt;/h5&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>4bed84ab8fe4b481653d21b21437ce3d</distill:md5>
      <category>product analysis</category>
      <guid>https://addurl/posts/2022-09-04-homelikeassignmentcode</guid>
      <pubDate>Sun, 04 Sep 2022 00:00:00 +0000</pubDate>
      <media:content url="https://addurl/posts/2022-09-04-homelikeassignmentcode/homelikeassignmentcode_files/figure-html5/unnamed-chunk-14-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Analyzing the impact of various factors on apartment booking sales</title>
      <dc:creator>Linus Agbleze</dc:creator>
      <link>https://addurl/posts/2022-09-05-linear-regression</link>
      <description>


&lt;pre class="r"&gt;&lt;code&gt;knitr::opts_chunk$set(echo = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id="analyzing-the-impact-of-various-factors-on-apartment-booking-sales"&gt;Analyzing the impact of various factors on apartment booking sales&lt;/h3&gt;
&lt;p&gt;A key question that is likely to be on the minds of the product team is how user interaction with our products will impact sales. This can be understond to be an early stage of trying to forecast sales. The available data can be used to demonstrate this.&lt;/p&gt;
&lt;p&gt;The aim here is not to develop a well optimized model that predict sales considering that the dataset does not provide key indicators needed for such an analysis. Nonetheless, in order to draw a clue to such trend, this analysis proceeds to answer the following key questions&lt;/p&gt;
&lt;ol style="list-style-type: decimal"&gt;
&lt;li&gt;What is the impact of user verification, instant booking, and the rcsp:show feature for the A/B testing on booking sales?&lt;/li&gt;
&lt;li&gt;To what extent does these variables explain booking sales?&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id="data-analysis"&gt;Data analysis&lt;/h4&gt;
&lt;p&gt;For this analysis, the following variables were used&lt;/p&gt;
&lt;h4 id="outcome-variable"&gt;Outcome variable&lt;/h4&gt;
&lt;p&gt;Total booking sales: This variable was extracted from the “params” column in the dataset as indicated by “total”.&lt;/p&gt;
&lt;h4 id="predictors"&gt;Predictors&lt;/h4&gt;
&lt;p&gt;Test status: as a binary predictor is deduced from the A/B testing groupings in the data. All visitors identified with “rcsp:show” in the “params” column were classified as test group and all others as control group. For the analysis, the reference group was designated to be users without “rcsp:show”.&lt;/p&gt;
&lt;p&gt;User verification is a binary predictor indicating whether a user has been verified or not. This is captured as “user_verified” in the “params” column. The reference group for the regression analysis for this variable was users who are not verified.&lt;/p&gt;
&lt;p&gt;Instant booking: is a binary predictor indicating whether or not a customer used the instant booking feature. Customers who used the instant booking feature were designated as the reference group for the analysis&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(readr)
library(tidyverse) # data manipulation and visualization
library(ggplot2)
library(GGally)
library(ggstatsplot)
library(plotly)
library(highcharter)
library(DT)
library(modelr)     # provides easy pipeline modeling functions
library(broom)      # helps to tidy up model outputs
library(car)  ## for regression
library(haven)
library(caret)
library(rsample)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;all_conversions_variables = read_csv(&amp;quot;all_conversions_variables.csv&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;##### Spliting dataset into training and testing samples
set.seed(123)
sample_all_conversions &amp;lt;- sample(c(TRUE, FALSE), nrow(all_conversions_variables), replace = T, prob = c(0.6,0.4))
train_all_convern.lmvar &amp;lt;- all_conversions_variables[sample_all_conversions, ]
test_all_convern.lmvar &amp;lt;- all_conversions_variables[!sample_all_conversions, ]

## regression for qualitative predictors (categorical dataset -- factors) 
options(&amp;#39;contrasts&amp;#39; = c(&amp;#39;contr.treatment&amp;#39;,&amp;#39;contr.treatment&amp;#39;) )
model4_all_convern_factors &amp;lt;- lm(total_paid.EUR ~ test_status + instant_booking +
                                    user_verified, data = train_all_convern.lmvar)


# add model diagnostics to our training data
model4_results &amp;lt;- augment(model4_all_convern_factors, train_all_convern.lmvar)&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id="plot-of-regression-analysis"&gt;Plot of regression analysis&lt;/h4&gt;
&lt;pre class="r"&gt;&lt;code&gt;booking_sales.predictioplot &amp;lt;- ggcoefstats(
  x = stats::lm(formula = total_paid.EUR ~ test_status + instant_booking +
                  user_verified, data = train_all_convern.lmvar),
  ggtheme = ggplot2::theme_gray(), # changing the default theme
  title = &amp;quot;Regression analysis: Predicting the influence of various factors on booking sales&amp;quot;,
) 

booking_sales.predictioplot&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d2cc6a191_files/figure-html/unnamed-chunk-4-1.png" width="672" data-distill-preview=1 /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;rsquare(model4_all_convern_factors, data = train_all_convern.lmvar)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.0416999&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;rsquare(model4_all_convern_factors, data = test_all_convern.lmvar)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.009705932&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id="result-interpretation"&gt;Result interpretation&lt;/h4&gt;
&lt;p&gt;The results shows that visitors in the test group(rcsp:show) made bookings worth 452 EUR less than what is ordered by the control group (not rcsp:show). Also, visitors who did not use instant booking made purchase worth 2,319 EUR more than those who used instant booking. Moreover, users who are verified made bookings worth 1,085 EUR more than those who are not verified. This result however suggests that there is no statistically significant difference in purchases among visitors based on the variables analyzed given that the p-value found was greater than 0.05 in all cases.&lt;/p&gt;
&lt;p&gt;Moreover, the predictors analyzed explains only 4% of variations in booking sales (rsquare = 0.0416). Thus, there is the need to consider other more important variables if we are too develop good models for forecasting booking sales.&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>f98bec1f55ab3dbced49342878ad23cf</distill:md5>
      <category>Linear regression</category>
      <category>revenue impact assessment</category>
      <guid>https://addurl/posts/2022-09-05-linear-regression</guid>
      <pubDate>Sun, 04 Sep 2022 00:00:00 +0000</pubDate>
      <media:content url="https://addurl/posts/2022-09-05-linear-regression/linear-regression_files/figure-html5/unnamed-chunk-4-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Timeseries benchmark models</title>
      <dc:creator>Linus Agbleze</dc:creator>
      <link>https://addurl/posts/2022-07-18-timeseries-benchmark-models</link>
      <description>This post entails timeseries prediction with 
very simple models that serve as benchmark against 
which more advance models .</description>
      <category>Timeseries analysis</category>
      <guid>https://addurl/posts/2022-07-18-timeseries-benchmark-models</guid>
      <pubDate>Mon, 18 Jul 2022 00:00:00 +0000</pubDate>
    </item>
    <item>
      <title>Hierarchical clustering -- Which states in Nigeria have similar expenditure profile?</title>
      <dc:creator>Linus Agbleze</dc:creator>
      <link>https://addurl/posts/2022-07-20-hierarchical-clustering-which-states-in-nigeria-have-similar-expenditure-profile</link>
      <description>


&lt;h2 id="introduction-to-clustering-analysis"&gt;Introduction to clustering analysis&lt;/h2&gt;
&lt;p&gt;Clustering analysis is one of the important exploratory data analysis you will consider undertaking in order to identify groupings in your dataset. It belongs to the segment of unsupervised classification which draws the data into clusters of similarity. Infact, many classification schemes have this underpinning of classifying a large set of individual elements or observations into a small number of classes. Talk of species classification, the periodic table, development index among others. Remember, it is groups of similarity. This notion also runs in business or rather dominates business decisions. Differential pricing, product and market segmentation among others require identifying the different groups present and tailoring policies that best serve each of them. So clustering analysis is important there!&lt;/p&gt;
&lt;p&gt;That being said, there are typically two set of clustering techniques that are use to identify groups of similarity. Namely;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hierarchical clustering&lt;/li&gt;
&lt;li&gt;K-means clustering&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In order to do a little deep dive, we will take them in turns. This tutorial will focus on hierarchical clustering where a tree structure is produce for the clusters – dendrograms.&lt;/p&gt;
&lt;h2 id="hierarchical-clustering-analysis"&gt;Hierarchical clustering analysis&lt;/h2&gt;
&lt;p&gt;Hierarchical clustering is of two types; agglomerative nesting and divisive analysis. The two are oppose in terms of where formation of clusters begin from.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Agglomerative Nesting (AGNES) merges similar clusters beginning from the bottom-most, into nodes and in a sequential manner continue merging them until all clusters form a single root at the top of the tree.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Divisive clustering also known as DIANA (Divise Analysis) runs in opposite direction to AGNES. The algorithm starts by disaggregating the root cluster, which is the single cluster containing all other clusters, into dissimilar clusters at each step (with each cluster being internally similar) until all the dissimilarity between clusters are completely exhausted. Thus, it ends with the leafs, which are clusters at the bottom, entirely dissimilar to each other.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;So AGNES adds up similar cluster leafs to form a cluster node and then a root while DIANA divides a single cluster root into dissimilar cluster nodes and then finally cluster leafs. Thus, AGNES is favoured for finding small clusters while DIANA works well for large clusters.&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id="workflow-for-hierarchical-clustering-analysis"&gt;Workflow for hierarchical clustering analysis&lt;/h4&gt;
&lt;p&gt;In order to undertake hierarchical clustering, the data has to be cleaned and prepared for that purpose such that variables are comparable. This involve the following;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Data wraggling and transformation that results in a tidy data such that;
&lt;ul&gt;
&lt;li&gt;Each column is a variable&lt;/li&gt;
&lt;li&gt;Each row is a recording or observation&lt;/li&gt;
&lt;li&gt;Each cell is a data&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Standardizing / scaling the data&lt;/li&gt;
&lt;li&gt;Calculating dissimilarity measure between clusters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In measuring dissimilarity between clusters, different methods can be use and are required to be specified when using AGNES. The methods are identified as follows;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Maximum / complete linkage: uses the highest dissimilarity found between clusters after pairwise calculation of dissimilarities of elements in different clusters.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Minimum / single linkage: uses the least dissimilarity between clusters following similar method as complete linkage in calculating dissimilarity&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mean / average linkage: as the name suggests, uses average dissimilarity as distance between clusters after computing pairwise dissimilarity between observations in different clusters.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Centroid linkage: based on the dissimilarity between the centroid of clusters.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ward’s minimum variance: focuses on minimizing inward cluster difference by merging groups with least between-cluster distance.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The best way to understand the workflow and methods identified for computing hierarchical clustering is by practicing with a project. We are going to define a simple research that clustering analysis can be used for and go through the complete pipeline required to execute it.&lt;/p&gt;
&lt;p&gt;So let’s take a break from the long discussion and start with practicals.&lt;/p&gt;
&lt;h2 id="research-objective"&gt;Research objective&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;To identify states in Nigeria with similar expenditure profile on petrol, kerosene and health (excluding insurance)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dataset"&gt;Dataset&lt;/h2&gt;
&lt;p&gt;The dataset to be used for this tutorial is Living Standard Measurement Study (LSMS) for Nigeria. Specifically, we will use the General Household Survey, 2015-2016 Panel data which is the Wave 3. The dataset can be accessed from (&lt;a href="https://microdata.worldbank.org/index.php/catalog/2734/related-materials" class="uri"&gt;https://microdata.worldbank.org/index.php/catalog/2734/related-materials&lt;/a&gt;).&lt;/p&gt;
&lt;h4 id="know-the-metadata-of-your-data"&gt;Know the Metadata of your data&lt;/h4&gt;
&lt;p&gt;As part of most data science projects in the real world, background checks has to be done even before data exploration and analysis. We have covered our first step which is accessing the data. The data can even be provided to us by our client or project partner or whoever we are working for. But one thing that we will have to do ourselves is to familiarize ourselves with variable names used, questionnaire administered and its design, how data was collected, units of measurement for the various variables among several others. Understanding these elements will influence how we explore the data, organize it in terms of merging datasets and variables, and analyze it.&lt;/p&gt;
&lt;p&gt;To do this for our dataset, we need to look at the documentation of the dataset which is also available on the site (&lt;a href="https://microdata.worldbank.org/index.php/catalog/2734/data-dictionary" class="uri"&gt;https://microdata.worldbank.org/index.php/catalog/2734/data-dictionary&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;After familiarizing ourselves with the metadata files, it is clear that the variables we want to analyze are in two different files namely sect8b_plantingw3.csv (contains expenditure on various fuels including kerosene and petrol among others) and sect8c_plantingw3.csv (contains expenditure on health). The dataset create opportunity for us to learn key skills of data wrangling and transformation before the actual clustering analysis. This is typical of many projects.&lt;/p&gt;
&lt;h4 id="project-tasks"&gt;Project Tasks&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Data wrangling and transformation
&lt;ul&gt;
&lt;li&gt;Subseting dataset&lt;/li&gt;
&lt;li&gt;filtering dataset&lt;/li&gt;
&lt;li&gt;grouping dataset&lt;/li&gt;
&lt;li&gt;summarizing&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Scaling dataset&lt;/li&gt;
&lt;li&gt;Hierarchical clustering
&lt;ul&gt;
&lt;li&gt;AGNES clustering&lt;/li&gt;
&lt;li&gt;DIANA clustering&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Determining optimal clusters&lt;/li&gt;
&lt;li&gt;Customizing visualization of clusters&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="packages-and-libraries"&gt;Packages and libraries&lt;/h4&gt;
&lt;p&gt;Now that we know the tasks we will be undertaking, we have to install (if not already installed) and load the libraries needed&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## install librabries if not already available
### I have commented the code for installation because I have already installed them
# install.packages(&amp;quot;tidyverse&amp;quot;)
# install.packages(&amp;quot;cluster&amp;quot;)
# install.packages(&amp;quot;factoextra&amp;quot;)
# install.packages(&amp;quot;dendextend&amp;quot;)
# install.packages(&amp;quot;DT&amp;quot;)
# install.packages(&amp;quot;skimr&amp;quot;)
# install.packages(&amp;quot;dplyr&amp;quot;)
# install.packages(&amp;quot;dendextend&amp;quot;)
# install.packages(&amp;quot;ape&amp;quot;)

## load librabries
library(readr)  ## to read csv file
library(tidyverse) ## to tidy the data
library(cluster) ##  for cluster analysis
library(factoextra) ## to visualize clusters
library(dendextend)  ## to compare dendrograms
library(stats)  ## for statistical analysis
library(DT)  ## to present beautiful tables
library(skimr)  ## for quick descriptive view of the dataset
library(ape)  ## to visualize dendrograms&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id="reading-the-dataset"&gt;Reading the dataset&lt;/h4&gt;
&lt;p&gt;The first thing to do is to import the dataset (hopefully you have downloaded them) and get a general understanding of it. This can be achieve with the code below&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;fuel_expenditure &amp;lt;- read_csv(&amp;quot;sect8b_plantingw3.csv&amp;quot;)  ## load the dataset
health_expenditure &amp;lt;- read_csv(&amp;quot;sect8c_plantingw3.csv&amp;quot;) ## load the dataset

skim(fuel_expenditure)  ## get data summary&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;caption&gt;(#tab:data-load)Data summary&lt;/caption&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Name&lt;/td&gt;
&lt;td align="left"&gt;fuel_expenditure&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Number of rows&lt;/td&gt;
&lt;td align="left"&gt;137729&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Number of columns&lt;/td&gt;
&lt;td align="left"&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;_______________________&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Column type frequency:&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;character&lt;/td&gt;
&lt;td align="left"&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;numeric&lt;/td&gt;
&lt;td align="left"&gt;9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;________________________&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Group variables&lt;/td&gt;
&lt;td align="left"&gt;None&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: character&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class="header"&gt;
&lt;th align="left"&gt;skim_variable&lt;/th&gt;
&lt;th align="right"&gt;n_missing&lt;/th&gt;
&lt;th align="right"&gt;complete_rate&lt;/th&gt;
&lt;th align="right"&gt;min&lt;/th&gt;
&lt;th align="right"&gt;max&lt;/th&gt;
&lt;th align="right"&gt;empty&lt;/th&gt;
&lt;th align="right"&gt;n_unique&lt;/th&gt;
&lt;th align="right"&gt;whitespace&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;item_desc&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;3&lt;/td&gt;
&lt;td align="right"&gt;30&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;30&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: numeric&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class="header"&gt;
&lt;th align="left"&gt;skim_variable&lt;/th&gt;
&lt;th align="right"&gt;n_missing&lt;/th&gt;
&lt;th align="right"&gt;complete_rate&lt;/th&gt;
&lt;th align="right"&gt;mean&lt;/th&gt;
&lt;th align="right"&gt;sd&lt;/th&gt;
&lt;th align="right"&gt;p0&lt;/th&gt;
&lt;th align="right"&gt;p25&lt;/th&gt;
&lt;th align="right"&gt;p50&lt;/th&gt;
&lt;th align="right"&gt;p75&lt;/th&gt;
&lt;th align="right"&gt;p100&lt;/th&gt;
&lt;th align="left"&gt;hist&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;zone&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;3.52&lt;/td&gt;
&lt;td align="right"&gt;1.71&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;3&lt;/td&gt;
&lt;td align="right"&gt;5&lt;/td&gt;
&lt;td align="right"&gt;6&lt;/td&gt;
&lt;td align="left"&gt;▇▅▅▅▅&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;state&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;18.57&lt;/td&gt;
&lt;td align="right"&gt;10.36&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;10&lt;/td&gt;
&lt;td align="right"&gt;19&lt;/td&gt;
&lt;td align="right"&gt;28&lt;/td&gt;
&lt;td align="right"&gt;37&lt;/td&gt;
&lt;td align="left"&gt;▇▆▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;lga&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;1868.92&lt;/td&gt;
&lt;td align="right"&gt;1035.81&lt;/td&gt;
&lt;td align="right"&gt;102&lt;/td&gt;
&lt;td align="right"&gt;1001&lt;/td&gt;
&lt;td align="right"&gt;1921&lt;/td&gt;
&lt;td align="right"&gt;2806&lt;/td&gt;
&lt;td align="right"&gt;3706&lt;/td&gt;
&lt;td align="left"&gt;▇▆▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;sector&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;1.68&lt;/td&gt;
&lt;td align="right"&gt;0.47&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;▃▁▁▁▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;ea&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;993.11&lt;/td&gt;
&lt;td align="right"&gt;932.12&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;330&lt;/td&gt;
&lt;td align="right"&gt;760&lt;/td&gt;
&lt;td align="right"&gt;1390&lt;/td&gt;
&lt;td align="right"&gt;7586&lt;/td&gt;
&lt;td align="left"&gt;▇▂▁▁▁&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;hhid&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;185571.19&lt;/td&gt;
&lt;td align="right"&gt;103683.68&lt;/td&gt;
&lt;td align="right"&gt;10001&lt;/td&gt;
&lt;td align="right"&gt;90124&lt;/td&gt;
&lt;td align="right"&gt;190093&lt;/td&gt;
&lt;td align="right"&gt;280038&lt;/td&gt;
&lt;td align="right"&gt;370040&lt;/td&gt;
&lt;td align="left"&gt;▇▆▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;item_cd&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;315.50&lt;/td&gt;
&lt;td align="right"&gt;8.66&lt;/td&gt;
&lt;td align="right"&gt;301&lt;/td&gt;
&lt;td align="right"&gt;308&lt;/td&gt;
&lt;td align="right"&gt;315&lt;/td&gt;
&lt;td align="right"&gt;323&lt;/td&gt;
&lt;td align="right"&gt;330&lt;/td&gt;
&lt;td align="left"&gt;▇▇▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;s8q3&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;1.82&lt;/td&gt;
&lt;td align="right"&gt;0.39&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;▂▁▁▁▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;s8q4&lt;/td&gt;
&lt;td align="right"&gt;112727&lt;/td&gt;
&lt;td align="right"&gt;0.18&lt;/td&gt;
&lt;td align="right"&gt;1911.06&lt;/td&gt;
&lt;td align="right"&gt;43304.31&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;250&lt;/td&gt;
&lt;td align="right"&gt;600&lt;/td&gt;
&lt;td align="right"&gt;1500&lt;/td&gt;
&lt;td align="right"&gt;6584185&lt;/td&gt;
&lt;td align="left"&gt;▇▁▁▁▁&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre class="r"&gt;&lt;code&gt;skim(health_expenditure) ## get data summary&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;caption&gt;(#tab:data-load)Data summary&lt;/caption&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Name&lt;/td&gt;
&lt;td align="left"&gt;health_expenditure&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;Number of rows&lt;/td&gt;
&lt;td align="left"&gt;188230&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Number of columns&lt;/td&gt;
&lt;td align="left"&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;_______________________&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Column type frequency:&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;character&lt;/td&gt;
&lt;td align="left"&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;numeric&lt;/td&gt;
&lt;td align="left"&gt;9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;________________________&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;Group variables&lt;/td&gt;
&lt;td align="left"&gt;None&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: character&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class="header"&gt;
&lt;th align="left"&gt;skim_variable&lt;/th&gt;
&lt;th align="right"&gt;n_missing&lt;/th&gt;
&lt;th align="right"&gt;complete_rate&lt;/th&gt;
&lt;th align="right"&gt;min&lt;/th&gt;
&lt;th align="right"&gt;max&lt;/th&gt;
&lt;th align="right"&gt;empty&lt;/th&gt;
&lt;th align="right"&gt;n_unique&lt;/th&gt;
&lt;th align="right"&gt;whitespace&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;item_desc&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;6&lt;/td&gt;
&lt;td align="right"&gt;30&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;41&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Variable type: numeric&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class="header"&gt;
&lt;th align="left"&gt;skim_variable&lt;/th&gt;
&lt;th align="right"&gt;n_missing&lt;/th&gt;
&lt;th align="right"&gt;complete_rate&lt;/th&gt;
&lt;th align="right"&gt;mean&lt;/th&gt;
&lt;th align="right"&gt;sd&lt;/th&gt;
&lt;th align="right"&gt;p0&lt;/th&gt;
&lt;th align="right"&gt;p25&lt;/th&gt;
&lt;th align="right"&gt;p50&lt;/th&gt;
&lt;th align="right"&gt;p75&lt;/th&gt;
&lt;th align="right"&gt;p100&lt;/th&gt;
&lt;th align="left"&gt;hist&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;zone&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;3.52&lt;/td&gt;
&lt;td align="right"&gt;1.71&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;3&lt;/td&gt;
&lt;td align="right"&gt;5&lt;/td&gt;
&lt;td align="right"&gt;6&lt;/td&gt;
&lt;td align="left"&gt;▇▅▅▅▅&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;state&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;18.57&lt;/td&gt;
&lt;td align="right"&gt;10.36&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;10&lt;/td&gt;
&lt;td align="right"&gt;19&lt;/td&gt;
&lt;td align="right"&gt;28&lt;/td&gt;
&lt;td align="right"&gt;37&lt;/td&gt;
&lt;td align="left"&gt;▇▆▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;lga&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;1868.92&lt;/td&gt;
&lt;td align="right"&gt;1035.80&lt;/td&gt;
&lt;td align="right"&gt;102&lt;/td&gt;
&lt;td align="right"&gt;1001&lt;/td&gt;
&lt;td align="right"&gt;1921&lt;/td&gt;
&lt;td align="right"&gt;2806&lt;/td&gt;
&lt;td align="right"&gt;3706&lt;/td&gt;
&lt;td align="left"&gt;▇▆▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;sector&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;1.68&lt;/td&gt;
&lt;td align="right"&gt;0.47&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;▃▁▁▁▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;ea&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;993.11&lt;/td&gt;
&lt;td align="right"&gt;932.12&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;330&lt;/td&gt;
&lt;td align="right"&gt;760&lt;/td&gt;
&lt;td align="right"&gt;1390&lt;/td&gt;
&lt;td align="right"&gt;7586&lt;/td&gt;
&lt;td align="left"&gt;▇▂▁▁▁&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;hhid&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;185571.20&lt;/td&gt;
&lt;td align="right"&gt;103683.48&lt;/td&gt;
&lt;td align="right"&gt;10001&lt;/td&gt;
&lt;td align="right"&gt;90124&lt;/td&gt;
&lt;td align="right"&gt;190093&lt;/td&gt;
&lt;td align="right"&gt;280038&lt;/td&gt;
&lt;td align="right"&gt;370040&lt;/td&gt;
&lt;td align="left"&gt;▇▆▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;item_cd&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;421.00&lt;/td&gt;
&lt;td align="right"&gt;11.83&lt;/td&gt;
&lt;td align="right"&gt;401&lt;/td&gt;
&lt;td align="right"&gt;411&lt;/td&gt;
&lt;td align="right"&gt;421&lt;/td&gt;
&lt;td align="right"&gt;431&lt;/td&gt;
&lt;td align="right"&gt;441&lt;/td&gt;
&lt;td align="left"&gt;▇▇▇▇▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td align="left"&gt;s8q5&lt;/td&gt;
&lt;td align="right"&gt;0&lt;/td&gt;
&lt;td align="right"&gt;1.00&lt;/td&gt;
&lt;td align="right"&gt;1.84&lt;/td&gt;
&lt;td align="right"&gt;0.36&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="right"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;▂▁▁▁▇&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="odd"&gt;
&lt;td align="left"&gt;s8q6&lt;/td&gt;
&lt;td align="right"&gt;158505&lt;/td&gt;
&lt;td align="right"&gt;0.16&lt;/td&gt;
&lt;td align="right"&gt;2822.90&lt;/td&gt;
&lt;td align="right"&gt;6896.99&lt;/td&gt;
&lt;td align="right"&gt;1&lt;/td&gt;
&lt;td align="right"&gt;580&lt;/td&gt;
&lt;td align="right"&gt;1500&lt;/td&gt;
&lt;td align="right"&gt;3000&lt;/td&gt;
&lt;td align="right"&gt;300000&lt;/td&gt;
&lt;td align="left"&gt;▇▁▁▁▁&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The skim() function gives us an overview of the dataset. It shows that there are 10 columns in both the fuel_expenditure and health_expenditure data objects. Among others, it gives the mean and number of missing cases for each variable. Depending on the type of variable, that is whether character or numeric, we get different type of summary. Some of the variables are not in their right data type format. Example, zone, state and lga are numeric instead of being character but that is not the focus here. The variable s8q4 from fuel_expenditure data object has 112727 missing records.&lt;/p&gt;
&lt;p&gt;We keep saying the variable and that brings up the question, what does the variable actually mean? This is where our earlier exercise of viewing the metadata plays its role. If we indeed went through the various documentations and questionnaire that comes with the data, we will realize that variable s8q4 (fuel_expenditure data) represents household monthly expenditure measured in Naire for various items identified in item_desc variable. Likewise, s8q6 (health_expenditure data) represents expenditure for items but this time round it covers 6 month duration.&lt;/p&gt;
&lt;p&gt;Our dataset is quite large to be viewed in a table nicely and adequately; so we will subset the first 100 rows (remember rows are individual records or observations) and show them in an interactive table using the datatable() function from DT package.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;datatable(fuel_expenditure[1:100, ])  ## view the first 100 observations in fuel_expenditure data&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-a71d5df3d80f5735caaf" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-a71d5df3d80f5735caaf"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670],[10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10004,10004,10004,10004,10004,10004,10004,10004,10004,10004],[301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,301,302,303,304,305,306,307,308,309,310],["KEROSENE","PALM KERNEL OIL","GAS","OTHER LIQUID COOKING FUEL","ELECTRICITY","CANDLES","FIREWOOD","CHARCOAL","PETROL","DIESEL","LIGHT BULBS/GLOBES","WATER","SOAP AND WASHING POWDER","TOILET PAPER","PERSONAL CARE GOODS","VITAMIN SUPLEMENTS","INSECTICIDES, DISINFECTANT AND","POSTAL","RECHARGE CARDS","LANDLINE CHARGES","INTERNET SERVICES","RECREATIONAL","MOTOR VEHICLE SERVICE, REPAIR,","BICYCLE SERVICE, REPAIR, OR","WAGES PAID TO STAFF/MAID/LAWNS","MORTGAGE - REGULAR PAYMENT","REPAIRS &amp;amp; MAINTENANCE TO DWELL","REPAIRS TO HOUSEHOLD AND PERSO","HOUSE RENT","LUBRICANTS","KEROSENE","PALM KERNEL OIL","GAS","OTHER LIQUID COOKING FUEL","ELECTRICITY","CANDLES","FIREWOOD","CHARCOAL","PETROL","DIESEL","LIGHT BULBS/GLOBES","WATER","SOAP AND WASHING POWDER","TOILET PAPER","PERSONAL CARE GOODS","VITAMIN SUPLEMENTS","INSECTICIDES, DISINFECTANT AND","POSTAL","RECHARGE CARDS","LANDLINE CHARGES","INTERNET SERVICES","RECREATIONAL","MOTOR VEHICLE SERVICE, REPAIR,","BICYCLE SERVICE, REPAIR, OR","WAGES PAID TO STAFF/MAID/LAWNS","MORTGAGE - REGULAR PAYMENT","REPAIRS &amp;amp; MAINTENANCE TO DWELL","REPAIRS TO HOUSEHOLD AND PERSO","HOUSE RENT","LUBRICANTS","KEROSENE","PALM KERNEL OIL","GAS","OTHER LIQUID COOKING FUEL","ELECTRICITY","CANDLES","FIREWOOD","CHARCOAL","PETROL","DIESEL","LIGHT BULBS/GLOBES","WATER","SOAP AND WASHING POWDER","TOILET PAPER","PERSONAL CARE GOODS","VITAMIN SUPLEMENTS","INSECTICIDES, DISINFECTANT AND","POSTAL","RECHARGE CARDS","LANDLINE CHARGES","INTERNET SERVICES","RECREATIONAL","MOTOR VEHICLE SERVICE, REPAIR,","BICYCLE SERVICE, REPAIR, OR","WAGES PAID TO STAFF/MAID/LAWNS","MORTGAGE - REGULAR PAYMENT","REPAIRS &amp;amp; MAINTENANCE TO DWELL","REPAIRS TO HOUSEHOLD AND PERSO","HOUSE RENT","LUBRICANTS","KEROSENE","PALM KERNEL OIL","GAS","OTHER LIQUID COOKING FUEL","ELECTRICITY","CANDLES","FIREWOOD","CHARCOAL","PETROL","DIESEL"],[1,2,2,2,1,2,2,2,1,2,2,1,1,1,2,2,1,2,1,2,2,2,2,2,1,2,2,2,2,1,1,2,1,2,1,2,2,2,1,2,1,2,1,1,1,1,1,2,1,2,2,2,1,2,2,2,1,2,2,1,1,2,2,2,1,2,2,2,1,2,2,2,1,1,1,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2],[1700,null,null,null,2200,null,null,null,3200,null,null,200,450,200,null,null,350,null,1200,null,null,null,null,null,12000,null,null,null,null,750,2000,null,4200,null,5200,null,null,null,3500,null,500,null,700,1000,1500,3800,1000,null,3000,null,null,null,25000,null,null,null,10000,null,null,700,3400,null,null,null,4500,null,null,null,4000,null,null,null,2500,1500,2000,null,null,null,5000,null,null,null,null,null,null,null,null,null,null,null,4000,null,null,null,4500,null,null,null,5000,null]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;zone&lt;\/th&gt;\n      &lt;th&gt;state&lt;\/th&gt;\n      &lt;th&gt;lga&lt;\/th&gt;\n      &lt;th&gt;sector&lt;\/th&gt;\n      &lt;th&gt;ea&lt;\/th&gt;\n      &lt;th&gt;hhid&lt;\/th&gt;\n      &lt;th&gt;item_cd&lt;\/th&gt;\n      &lt;th&gt;item_desc&lt;\/th&gt;\n      &lt;th&gt;s8q3&lt;\/th&gt;\n      &lt;th&gt;s8q4&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,9,10]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;The fuel_expenditure table above shows that we have more variables than needed for our analysis as we are only interested in Petrol and Kerosene captured in the item_desc variable. Moreover, the variable names are not understandable. So just by viewing the table, we will realize that some data wrangling tasks await us. The same can be said for the health_expenditure data object.&lt;/p&gt;
&lt;p&gt;Let’s view the first 100 rows of health_expenditure data.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;datatable(health_expenditure[1:100, ]) ## view the health_expenditure data &lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-1367c25ca3336b15b029" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-1367c25ca3336b15b029"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670,670],[10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10001,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10002,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003,10003],[401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418],["INFANT CLOTHING","BABY NAPPIES/DIAPERS","BOYS TAILORED CLOTHES","BOYS DRESS (READY MADE)","GIRLS TAILORED CLOTHES","GIRLS DRESS (READY MADE)","MEN TAILORED CLOTHES","MEN DRESS (READY MADE)","WOMEN TAILORED CLOTHES","WOMEN DRESS (READY MADE)","ANKARA, GEORGE MATERIALS","OTHER CLOTHING MATERIALS","BOY'S SHOES","MEN'S SHOES","GIRL'S SHOES","LADY'S SHOES","TAILORING CHARGES","LAUNDRY AND DRY CLEANING","BOWLS, GLASSWARE, PLATES, SILV","COOKING UTENSILS (COOKPOTS, ST","CLEANING UTENSILS (BROOMS, BRU","TORCH / FLASHLIGHT","UMBRELLA AND RAINCOAT","PARAFFIN LAMP (HURRICANE OR PR","STATIONERY ITEMS (NOT FOR SCHO","BOOKS (NOT FOR SCHOOL)","HOUSE DECORATIONS","NIGHT'S LODGING IN REST HOUSE","DONATIONS TO CHURCH, MOSQUE, O","HEALTH EXPENDITURES (EXCLUDING","HAND LOOMED: ASO-OKE","REPAIRS OF FOOTWEAR","ELECTRIC KETTLE","COAL POT/OTHER NON-ELECTRIC AP","REPAIRS OF APPLIANCES","BED SHEETS, BED COVER, BLANKET","PILLOW","CURTAIN AND OTHER LINEN","CARPET AND OTHER FLOOR COVERIN","CELL PHONE HAND SET","PERSONAL COMPTURE","INFANT CLOTHING","BABY NAPPIES/DIAPERS","BOYS TAILORED CLOTHES","BOYS DRESS (READY MADE)","GIRLS TAILORED CLOTHES","GIRLS DRESS (READY MADE)","MEN TAILORED CLOTHES","MEN DRESS (READY MADE)","WOMEN TAILORED CLOTHES","WOMEN DRESS (READY MADE)","ANKARA, GEORGE MATERIALS","OTHER CLOTHING MATERIALS","BOY'S SHOES","MEN'S SHOES","GIRL'S SHOES","LADY'S SHOES","TAILORING CHARGES","LAUNDRY AND DRY CLEANING","BOWLS, GLASSWARE, PLATES, SILV","COOKING UTENSILS (COOKPOTS, ST","CLEANING UTENSILS (BROOMS, BRU","TORCH / FLASHLIGHT","UMBRELLA AND RAINCOAT","PARAFFIN LAMP (HURRICANE OR PR","STATIONERY ITEMS (NOT FOR SCHO","BOOKS (NOT FOR SCHOOL)","HOUSE DECORATIONS","NIGHT'S LODGING IN REST HOUSE","DONATIONS TO CHURCH, MOSQUE, O","HEALTH EXPENDITURES (EXCLUDING","HAND LOOMED: ASO-OKE","REPAIRS OF FOOTWEAR","ELECTRIC KETTLE","COAL POT/OTHER NON-ELECTRIC AP","REPAIRS OF APPLIANCES","BED SHEETS, BED COVER, BLANKET","PILLOW","CURTAIN AND OTHER LINEN","CARPET AND OTHER FLOOR COVERIN","CELL PHONE HAND SET","PERSONAL COMPTURE","INFANT CLOTHING","BABY NAPPIES/DIAPERS","BOYS TAILORED CLOTHES","BOYS DRESS (READY MADE)","GIRLS TAILORED CLOTHES","GIRLS DRESS (READY MADE)","MEN TAILORED CLOTHES","MEN DRESS (READY MADE)","WOMEN TAILORED CLOTHES","WOMEN DRESS (READY MADE)","ANKARA, GEORGE MATERIALS","OTHER CLOTHING MATERIALS","BOY'S SHOES","MEN'S SHOES","GIRL'S SHOES","LADY'S SHOES","TAILORING CHARGES","LAUNDRY AND DRY CLEANING"],[2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,1,1,2,2,1,2,2,2,2,2,2,1,2,1,1,2,1,2,1,2,2,2,1,1,1,1,1,1,1,2,1,2,2,1,2,2,2,2,2,2,1,1,1,2,1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,1,1],[null,null,null,null,null,null,null,null,null,null,4200,null,null,null,null,null,null,null,null,5000,500,2000,null,null,null,null,null,null,25000,30000,null,null,4500,null,null,null,null,null,null,10000,null,6000,6500,null,4000,null,10000,null,null,null,15000,4200,5000,2000,5000,2000,3500,null,1500,null,null,300,null,null,null,null,null,null,16000,50000,7000,null,500,null,null,null,null,null,null,null,15000,null,null,null,null,null,null,null,4500,null,1500,null,null,null,2000,null,null,null,1000,2000]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;zone&lt;\/th&gt;\n      &lt;th&gt;state&lt;\/th&gt;\n      &lt;th&gt;lga&lt;\/th&gt;\n      &lt;th&gt;sector&lt;\/th&gt;\n      &lt;th&gt;ea&lt;\/th&gt;\n      &lt;th&gt;hhid&lt;\/th&gt;\n      &lt;th&gt;item_cd&lt;\/th&gt;\n      &lt;th&gt;item_desc&lt;\/th&gt;\n      &lt;th&gt;s8q5&lt;\/th&gt;\n      &lt;th&gt;s8q6&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,9,10]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;h2 id="data-wrangling-and-transformation"&gt;Data wrangling and transformation&lt;/h2&gt;
&lt;p&gt;We have imported and viewed our dataset successfully and now we have to clean, and transform our data to the required format for analysis. Data wrangling and transformation activities are not a cast in a stone despite some activities are very common. The type and structure of dataset and analysis we want to perform determines what we need to do.&lt;/p&gt;
&lt;p&gt;Looking at our dataset, we need to reduce it to only columns that we are interested in, add some new columns with transformed data and clean out the missing data. We will be utilizing piping approach (%&amp;gt;%) to harness its benefit of logical and clear flow of analysis. This can be achieve with the code below for fuel_expenditure.&lt;/p&gt;
&lt;div id="htmlwidget-3a530a78b6872d546cc1" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-3a530a78b6872d546cc1"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,24,24,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,24,24,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],["KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","PETROL","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","PETROL","PETROL","PETROL","KEROSENE","KEROSENE","PETROL","PETROL","PETROL","PETROL","PETROL","KEROSENE","KEROSENE","PETROL","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","PETROL","KEROSENE","KEROSENE","PETROL","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE","KEROSENE"],[1700,3200,2000,3500,3400,4000,4000,5000,2700,5000,2000,5000,1200,5000,2000,10000,1000,8000,400,400,2000,2500,2500,700,1000,4000,600,8000,650,200,10000,150,600,500,1000,220,600,150,800,1000,500,2800,3000,3000,1600,1500,1000,1350,2800,3000,6000,1000,2000,4500,2500,500,6400,1500,8000,500,2500,1500,6000,2000,1700,1500,1400,2400,1500,1300,800,700,4000,3000,3000,4000,1700,3000,1040,15000,600,400,1200,200,2500,500,3000,300,2000,1000,2500,2000,500,500,1000,500,1000,100,400,600,700,700,3500,140,800,2600,650,700,150,450,700,200,700,2000,200,150,1700,80,150,500,700,650,500,600,400,900,500,3000,100,200,300,150,500,500,3000,50,300,600,1200,3000,140,750,2750,320,650,500,1200,1200,1500,150,250,4500,2250,1200,3000,200,50,2000,2500,900,500,2000,1500,6000,700,19400,150,3000,500,500,2500,1200,200,2000,10000,1700,700,1300,4200,2800,2000,3000,20000,1500,5000,900,5000,2000,10000,1500,3500,6000,2600,4500,1500,2000,1000,500,2040,1000]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;state&lt;\/th&gt;\n      &lt;th&gt;item_desc&lt;\/th&gt;\n      &lt;th&gt;s8q4&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[1,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;Now, we have reduced the data to only variables needed. Yet, it is obvious there is still work to be done. First of all, the varaible &lt;strong&gt;“state”&lt;/strong&gt; has meaningless numbers instead of names of states in Nigeria. This was useful for data collection and data entry but not our analysis where audience have to know state names explicitely. How do we know exactly what these numbers represent? Again, this is where our metadata exploration comes to our rescue. When we reviewed the documentation that came with the data, we realized that under &lt;strong&gt;“state code”&lt;/strong&gt;, the corresponding state names are provided. With this, we can add a new column that has the corresponding state names.&lt;/p&gt;
&lt;p&gt;Another issue to note, which also influences how to transform our data is that, the number of observations recorded for each state varies. This has to do with the sampling technique used during data collection in order to achieve good representativeness. We want to make sure that, the states are comparable in terms of expenditure. So instead of summarizing base on the total expenditure for each state, we will do so based on the mean. With that, we will see mean expenditure of state and not sum of households. In order to captured this as our labeling when we do the clustering analysis, we will convert the column of state names to row names.&lt;/p&gt;
&lt;p&gt;Now, let’s code all that we have discussed so far.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;fuel_expenditure_transformed &amp;lt;- fuel_expenditure_transformed %&amp;gt;%
  dplyr::mutate(state_names = case_when(  ## add a new column containing state names
     state == 1 ~ &amp;quot;Abia&amp;quot;,
     state == 2 ~ &amp;quot;Adamawa&amp;quot;,
     state == 3 ~ &amp;quot;Akwa Ibom&amp;quot;,
     state == 4 ~ &amp;quot;Anambra&amp;quot;,
     state == 5 ~ &amp;quot;Bauchi&amp;quot;,
     state == 6 ~ &amp;quot;Bayelsa&amp;quot;,
     state == 7 ~ &amp;quot;Benue&amp;quot;,
     state == 8 ~ &amp;quot;Borno&amp;quot;, 
     state == 9 ~ &amp;quot;Cross River&amp;quot;, 
     state == 10 ~ &amp;quot;Delta&amp;quot;, 
     state == 11 ~ &amp;quot;Ebonyi&amp;quot;, 
     state == 12 ~ &amp;quot;Edo&amp;quot;,
     state == 13 ~ &amp;quot;Ekiti&amp;quot;, 
     state == 14 ~ &amp;quot;Enugu&amp;quot;, 
     state == 15 ~ &amp;quot;Gombe&amp;quot;, 
     state == 16 ~ &amp;quot;Imo&amp;quot;, 
     state == 17 ~ &amp;quot;Jigawa&amp;quot;, 
     state == 18 ~ &amp;quot;Kaduna&amp;quot;, 
     state == 19 ~ &amp;quot;Kano&amp;quot;, 
     state == 20 ~ &amp;quot;Katsina&amp;quot;, 
     state == 21 ~ &amp;quot;Kebbi&amp;quot;,
     state ==22 ~ &amp;quot;Kogi&amp;quot;, 
     state == 23 ~ &amp;quot;Kwara&amp;quot;, 
     state == 24 ~ &amp;quot;Lagos&amp;quot;, 
     state == 25 ~ &amp;quot;Nasarawa&amp;quot;,
     state == 26 ~ &amp;quot;Niger&amp;quot;, 
     state == 27 ~ &amp;quot;Ogun&amp;quot;, 
     state == 28 ~ &amp;quot;Ondo&amp;quot;, 
     state == 29 ~ &amp;quot;Osun&amp;quot;, 
     state == 30 ~ &amp;quot;Oyo&amp;quot;,
     state == 31 ~ &amp;quot;Plateau&amp;quot;, 
     state == 32 ~ &amp;quot;Rivers&amp;quot;, 
     state == 33 ~ &amp;quot;Sokoto&amp;quot;, 
     state == 34 ~ &amp;quot;Taraba&amp;quot;,
     state == 35 ~ &amp;quot;Yobe&amp;quot;,
     state == 36 ~ &amp;quot;Zamfara&amp;quot;, 
     state == 37 ~ &amp;quot;FCT Abuja&amp;quot;)
   ) %&amp;gt;%
  tidyr::pivot_wider(names_from = item_desc, values_from = s8q4, values_fn = mean)

datatable(fuel_expenditure_transformed)&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-6a4cadc5f8c7ab9ff923" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-6a4cadc5f8c7ab9ff923"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37"],[1,4,24,3,2,11,9,5,34,31,6,22,7,8,25,10,12,13,14,26,15,16,32,17,23,18,19,36,20,21,29,27,28,33,30,37,35],["Abia","Anambra","Lagos","Akwa Ibom","Adamawa","Ebonyi","Cross River","Bauchi","Taraba","Plateau","Bayelsa","Kogi","Benue","Borno","Nasarawa","Delta","Edo","Ekiti","Enugu","Niger","Gombe","Imo","Rivers","Jigawa","Kwara","Kaduna","Kano","Zamfara","Katsina","Kebbi","Osun","Ogun","Ondo","Sokoto","Oyo","FCT Abuja","Yobe"],[1061.59574468085,1078.50515463918,924.621212121212,1425.44117647059,529.166666666667,523.776978417266,717.173913043478,564.230769230769,456.086956521739,522,1139.18367346939,652.554347826087,348.5,678.571428571429,705,915.097345132743,877.349397590361,734.366666666667,620.630630630631,341.428571428571,689.473684210526,697.183908045977,1274.94505494505,1258.5,630.909090909091,563.378378378378,633.695652173913,361.643835616438,446.666666666667,244.117647058824,819.857142857143,870.210526315789,870.978260869565,219.2,981.875,1825,260],[3781.11111111111,2523.15789473684,4760.30303030303,5087.40740740741,3290,2948.07692307692,4168.18181818182,2161.53846153846,2039.18918918919,4387.74193548387,4690.90909090909,2704.73684210526,2243,3338.63636363636,3622.5,4392.19512195122,2893.47826086957,4342.5,3452.4,2855.2380952381,8012.28571428571,2647.95454545455,3605.61224489796,1865.51724137931,3648.52941176471,2403.22580645161,2691.37931034483,1092.55319148936,3990.71428571429,3073.81395348837,3907.27272727273,4548.97959183673,6020.17543859649,7411.11111111111,6099.775,10010,3400]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;state&lt;\/th&gt;\n      &lt;th&gt;state_names&lt;\/th&gt;\n      &lt;th&gt;KEROSENE&lt;\/th&gt;\n      &lt;th&gt;PETROL&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;After cleaning and transforming fuel_expenditure data, we need to make sure that the second data is also transform to be at the same quality level or format. Remember that health_expenditure is for 6 months which means that in order to analyze both data properly for the same time scale, we need to convert it to monthly data and then calculate the mean.&lt;/p&gt;
&lt;p&gt;The code to transform health expenditure data to required format is below;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;health_expenditure_transformed &amp;lt;- health_expenditure %&amp;gt;%
  dplyr::select(state, item_desc, s8q6)%&amp;gt;%
  dplyr::filter(item_desc %in% &amp;quot;HEALTH EXPENDITURES (EXCLUDING&amp;quot;) %&amp;gt;%
  na.omit() %&amp;gt;%
   dplyr::mutate(state_names = case_when(
     state == 1 ~ &amp;quot;Abia&amp;quot;,
     state == 2 ~ &amp;quot;Adamawa&amp;quot;,
     state == 3 ~ &amp;quot;Akwa Ibom&amp;quot;,
     state == 4 ~ &amp;quot;Anambra&amp;quot;,
     state == 5 ~ &amp;quot;Bauchi&amp;quot;,
     state == 6 ~ &amp;quot;Bayelsa&amp;quot;,
     state == 7 ~ &amp;quot;Benue&amp;quot;,
     state == 8 ~ &amp;quot;Borno&amp;quot;,
     state == 9 ~ &amp;quot;Cross River&amp;quot;,
     state == 10 ~ &amp;quot;Delta&amp;quot;,
     state == 11 ~ &amp;quot;Ebonyi&amp;quot;,
     state == 12 ~ &amp;quot;Edo&amp;quot;,
     state == 13 ~ &amp;quot;Ekiti&amp;quot;,
     state == 14 ~ &amp;quot;Enugu&amp;quot;,
     state == 15 ~ &amp;quot;Gombe&amp;quot;,
     state == 16 ~ &amp;quot;Imo&amp;quot;,
     state == 17 ~ &amp;quot;Jigawa&amp;quot;,
     state == 18 ~ &amp;quot;Kaduna&amp;quot;,
     state == 19 ~ &amp;quot;Kano&amp;quot;,
     state == 20 ~ &amp;quot;Katsina&amp;quot;,
     state == 21 ~ &amp;quot;Kebbi&amp;quot;,
     state ==22 ~ &amp;quot;Kogi&amp;quot;,
     state == 23 ~ &amp;quot;Kwara&amp;quot;,
     state == 24 ~ &amp;quot;Lagos&amp;quot;,
     state == 25 ~ &amp;quot;Nasarawa&amp;quot;,
     state == 26 ~ &amp;quot;Niger&amp;quot;,
     state == 27 ~ &amp;quot;Ogun&amp;quot;,
     state == 28 ~ &amp;quot;Ondo&amp;quot;,
     state == 29 ~ &amp;quot;Osun&amp;quot;,
     state == 30 ~ &amp;quot;Oyo&amp;quot;,
     state == 31 ~ &amp;quot;Plateau&amp;quot;,
     state == 32 ~ &amp;quot;Rivers&amp;quot;,
     state == 33 ~ &amp;quot;Sokoto&amp;quot;,
     state == 34 ~ &amp;quot;Taraba&amp;quot;,
     state == 35 ~ &amp;quot;Yobe&amp;quot;,
     state == 36 ~ &amp;quot;Zamfara&amp;quot;,
     state == 37 ~ &amp;quot;FCT Abuja&amp;quot;)
   ) %&amp;gt;%
  dplyr::group_by(state_names) 

  health_expenditure_transformed &amp;lt;- dplyr::summarize(health_expenditure_transformed, Monthly_mean_health_expenditure = mean(s8q6/6))
 
 datatable(health_expenditure_transformed)&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-acfc8df40fd67c2027a7" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-acfc8df40fd67c2027a7"&gt;{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36"],["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT Abuja","Gombe","Imo","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],[1312.24489795918,425.177304964539,1457.14285714286,607.31981981982,488.032581453634,2423.78787878788,981.971326164875,1757.24637681159,1543.31223628692,501.530612244898,2266.40211640212,617.578125,309.375,1538.81355932203,666.666666666667,605.263157894737,1542.1568627451,914.416666666667,645.963302752294,461.011904761905,1024.44444444444,986.041666666667,1214.06593406593,1175,921.111111111111,671.03825136612,1690.47619047619,670.575396825397,779.651162790698,847.02380952381,670.833333333333,1136.11111111111,467.105263157895,263.541666666667,773.666666666667,182.47619047619]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;state_names&lt;\/th&gt;\n      &lt;th&gt;Monthly_mean_health_expenditure&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;Now, we have transformed both datasets and we need to verify if they are equal in terms of number of rows and columns before joining together for further analysis.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;nrow(fuel_expenditure_transformed)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 37&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;nrow(health_expenditure_transformed)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 36&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will realize that the number of rows are different for fuel_expenditure_transformed (37) and health_expenditure_transformed (36). This is a common occurrence in data exploration and preparation. There is a state without data in health_expenditure_transformed. If we are to inspect the data, we will realize that there is no record for Jigawa state. This is an instance where we face the decision of either employing a data imputation method to provide values for Jigasaw or leaving it out altogether. We will tackle data imputation in a different post. For now, the better choice will be to leave Jigawa state out of the analysis. So we will remove the row for Jigawa state in fuel_expenditure_transformed in order to have 36 rows for both datasets and join them together. Then, we will convert the column &lt;strong&gt;“state_names”&lt;/strong&gt; to row names for labeling the cluster leafs to be more meaningful. The code to achieve that is as follows;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;dataset_all &amp;lt;- subset.data.frame(fuel_expenditure_transformed, fuel_expenditure_transformed$state != 17) %&amp;gt;%
  dplyr::left_join(health_expenditure_transformed) %&amp;gt;%  ## join the two datasets
  tibble::column_to_rownames(var = &amp;quot;state_names&amp;quot;) %&amp;gt;% ## transform variable state_names to rownames
  dplyr::select(-1) ## select all columns except the first one (state) which we don&amp;#39;t need again

datatable(dataset_all)&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-09d8c7d17cf4080686b9" style="width:100%;height:auto;" class="datatables html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-09d8c7d17cf4080686b9"&gt;{"x":{"filter":"none","data":[["Abia","Anambra","Lagos","Akwa Ibom","Adamawa","Ebonyi","Cross River","Bauchi","Taraba","Plateau","Bayelsa","Kogi","Benue","Borno","Nasarawa","Delta","Edo","Ekiti","Enugu","Niger","Gombe","Imo","Rivers","Kwara","Kaduna","Kano","Zamfara","Katsina","Kebbi","Osun","Ogun","Ondo","Sokoto","Oyo","FCT Abuja","Yobe"],[1061.59574468085,1078.50515463918,924.621212121212,1425.44117647059,529.166666666667,523.776978417266,717.173913043478,564.230769230769,456.086956521739,522,1139.18367346939,652.554347826087,348.5,678.571428571429,705,915.097345132743,877.349397590361,734.366666666667,620.630630630631,341.428571428571,689.473684210526,697.183908045977,1274.94505494505,630.909090909091,563.378378378378,633.695652173913,361.643835616438,446.666666666667,244.117647058824,819.857142857143,870.210526315789,870.978260869565,219.2,981.875,1825,260],[3781.11111111111,2523.15789473684,4760.30303030303,5087.40740740741,3290,2948.07692307692,4168.18181818182,2161.53846153846,2039.18918918919,4387.74193548387,4690.90909090909,2704.73684210526,2243,3338.63636363636,3622.5,4392.19512195122,2893.47826086957,4342.5,3452.4,2855.2380952381,8012.28571428571,2647.95454545455,3605.61224489796,3648.52941176471,2403.22580645161,2691.37931034483,1092.55319148936,3990.71428571429,3073.81395348837,3907.27272727273,4548.97959183673,6020.17543859649,7411.11111111111,6099.775,10010,3400],[1312.24489795918,607.31981981982,1175,1457.14285714286,425.177304964539,2266.40211640212,1543.31223628692,488.032581453634,263.541666666667,670.833333333333,2423.78787878788,986.041666666667,981.971326164875,1757.24637681159,921.111111111111,501.530612244898,617.578125,309.375,1538.81355932203,671.03825136612,605.263157894737,1542.1568627451,1136.11111111111,1214.06593406593,914.416666666667,645.963302752294,182.47619047619,461.011904761905,1024.44444444444,779.651162790698,1690.47619047619,670.575396825397,467.105263157895,847.02380952381,666.666666666667,773.666666666667]],"container":"&lt;table class=\"display\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;KEROSENE&lt;\/th&gt;\n      &lt;th&gt;PETROL&lt;\/th&gt;\n      &lt;th&gt;Monthly_mean_health_expenditure&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;Now our data is ready for analysis!. But before then, we have to do clustering relevant data preparation&lt;/p&gt;
&lt;h4 id="clustering-relevant-data-preparation"&gt;Clustering relevant data preparation&lt;/h4&gt;
&lt;p&gt;The data preparation done at this stage is not one that we will do for all types of analysis. We are doing them in order to successfully undertake a clustering analysis that is appropriate.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Data standardization: Before applying various clustering algorithms, we need to standardize the data to have mean zero and standard deviation one. This is done to make our variables have a common scale hence comparable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Computation of dissimilarity measure: This is done to identify observations that belong to the same clusters.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, let’s write our code for that;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## scale the data
 dataset_all_scaled &amp;lt;- scale(dataset_all)
 
 ## calculate dissimilarity 
 dataset_dissimilarity &amp;lt;- dist(dataset_all_scaled, method = &amp;quot;euclidean&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will use all the clustering methods we have discussed above and compare the results.&lt;/p&gt;
&lt;h2 id="agglomerative-nesting-agnes"&gt;Agglomerative Nesting (AGNES)&lt;/h2&gt;
&lt;p&gt;Agglomerative nesting can be undertaken using hclust(), flashClust or agnes()&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## hierarchical clustering wtih complete linkage
hcl_complete&amp;lt;-  hclust(dataset_dissimilarity, method = &amp;quot;complete&amp;quot;)
 
plot(hcl_complete, cex = 0.6, hang = -1) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/hcl-complete-1.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;Using agnes() function gives us the agglomerative co-efficient (ac) which measures the strength of clustering. The higher the ac, the stronger the clustering structure.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## agnes clustering
agnes_complete &amp;lt;- agnes(dataset_dissimilarity, method = &amp;quot;complete&amp;quot;)

plot(agnes_complete)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-comp-1.png" width="672" /&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-comp-2.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;Now, let’s look at other methods we have discussed for AGNES.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## compute agnes clustering with various methods
agnes_single &amp;lt;- agnes(dataset_dissimilarity, method = &amp;quot;single&amp;quot;)
agnes_average &amp;lt;- agnes(dataset_dissimilarity, method = &amp;quot;average&amp;quot;)
agnes_ward &amp;lt;- agnes(dataset_dissimilarity, method = &amp;quot;ward&amp;quot;)

#Plot results
plot(agnes_single)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-method-1.png" width="672" /&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-method-2.png" width="672" /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;plot(agnes_average)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-method-3.png" width="672" /&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-method-4.png" width="672" /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;plot(agnes_ward)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-method-5.png" width="672" /&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/agnes-method-6.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;From the various methods, agnes with the ward method produces an ac of 0.9 which is the highest compared to others hence depicts the strongest structure.&lt;/p&gt;
&lt;p&gt;Before we draw the curtains down on agnes, let’s also note that hcluster() function also accepts other methods&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;hclust_mcquitty &amp;lt;- hclust(dataset_dissimilarity, method = &amp;quot;mcquitty&amp;quot;)
hclust_median &amp;lt;- hclust(dataset_dissimilarity, method = &amp;quot;median&amp;quot;)
hclust_centriod &amp;lt;- hclust(dataset_dissimilarity, method = &amp;quot;centroid&amp;quot;)

plot(hclust_mcquitty, cex = 0.6, hang = -1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/hcl-methods-1.png" width="672" /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;plot(hclust_median, cex = 0.6, hang = -1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/hcl-methods-2.png" width="672" /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;plot(hclust_centriod, cex = 0.6, hang = -1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/hcl-methods-3.png" width="672" /&gt;&lt;/p&gt;
&lt;h2 id="divisive-clustering"&gt;Divisive clustering&lt;/h2&gt;
&lt;p&gt;Divisive clustering does not require a method argument to be specified. let’s analyze the data using diana() function.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;#### divisive clustering
# computes divisive hierarchical clustering
divisive_cluster &amp;lt;- cluster::diana(dataset_dissimilarity)

# divisive coefficient -- amount of clustering structure found
divisive_cluster$dc&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.8510366&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;#plot dendrogram for divisive clustering
pltree(divisive_cluster, cex = 0.6, hang = .2, main = &amp;quot;Dendrogram of diana&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/divisive-hcl-1.png" width="672" /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;divisive_cluster$dc&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.8510366&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The divisive co-efficient (dc) is computed to be 0.85 which indicates strong clustering structure. The ac and dc are measured on a scale of 0 to 1 with lower values close to 0 indicating weak clustering and higher values close to 1 indicating strong cluster structure.&lt;/p&gt;
&lt;h4 id="identifying-clusters-of-subgroups"&gt;Identifying clusters of subgroups&lt;/h4&gt;
&lt;p&gt;We can identify observations that falls into similar groups or otherwise by stating the number of groups we want to cut into. let’s cut our observations into 5 clusters with the code below. This can be done for both agnes and divise&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# CUT TREE INTO 5 GROUPS
hcl_complete_group &amp;lt;- cutree(hcl_complete, k = 5)

### Number of members in each cluster
table(hcl_complete_group)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;hcl_complete_group
 1  2  3  4  5 
 8 20  5  2  1 &lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;##add cluster groupings to data
dataset_all_cluster &amp;lt;- dataset_all%&amp;gt;%
  mutate(cluster = hcl_complete_group) %&amp;gt;%
  head()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can visualize how the various states are grouped when we cut into 5 clusters using the code below&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;## visualize with fviz_cluster
fviz_cluster(list(data = dataset_all_scaled, cluster = hcl_complete_group))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/viz-clust-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h4 id="comparing-dendrograms"&gt;Comparing dendrograms&lt;/h4&gt;
&lt;p&gt;We can compare clustering based on different methods by creating dendrogram objects for them and plotting.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;### create dendrogram object
agnes_complete_dendrogram &amp;lt;- as.dendrogram(agnes_complete)
agnes_ward_dendrogram &amp;lt;- as.dendrogram(agnes_ward)

### plot the dendrograms to compare and match
tanglegram(agnes_complete_dendrogram, agnes_ward_dendrogram)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/tangle-plot-1.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;The dashed lines show cluster combinations different from others.&lt;/p&gt;
&lt;h4 id="customizing-the-dendrogram"&gt;Customizing the dendrogram&lt;/h4&gt;
&lt;p&gt;Visualizing results has never been less important for cluster analysis where observations are grouped and there is the need for more colourful differentiation of groups to better understand the results presented. There are options for this. First, we can chain multiple dendrograms together to customize them easily.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# create a dendlist
dend_list_agnes_complete_ward &amp;lt;- dendlist(agnes_complete_dendrogram, agnes_ward_dendrogram)

tanglegram(dend1 = agnes_complete_dendrogram, dend2 = agnes_ward_dendrogram,
           highlight_distinct_edges = TRUE, # Turn off dashed lines
           common_subtrees_color_lines = TRUE, # turn-off line colors
           common_subtrees_color_branches = TRUE, # color common branches
           highlight_branches_col = TRUE,
           main_left = &amp;quot;Agglomerative Nesting (complete method)&amp;quot;,
           main_right = &amp;quot;Agglomerative Nesting (ward method)&amp;quot;,
           sub = &amp;quot;Expenditure on Petrol, Kerosene and Health -States in Nigeria&amp;quot;,
           cex_main_left = 1.1,
           cex_main = 0.8,
            cex_sub = .6,
           lab.cex = 1,
            margin_inner = 5,
           main = paste(&amp;quot;Entanglement = &amp;quot;, round(entanglement(dend_list_agnes_complete_ward), 2)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/customize-dendro-1.png" width="768" data-distill-preview=1 /&gt;&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;agnes_complete_dendrogram&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&amp;#39;dendrogram&amp;#39; with 2 branches and 36 members total, at height 6.648864 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We have added entanglement co-efficient to the graph. It measures how well-align the trees are on a scale of 0 to 1. The low co-oefficient of 0.17 indicates low entanglement with good alignment.&lt;/p&gt;
&lt;h2 id="determining-optimal-number-of-clusters"&gt;Determining optimal number of clusters&lt;/h2&gt;
&lt;p&gt;A number of methods can be used to determine the optimal number of clusters for grouping&lt;/p&gt;
&lt;h4 id="elbow-method-of-determing-optimal-number-of-clusters"&gt;Elbow method of determing optimal number of clusters&lt;/h4&gt;
&lt;p&gt;To determine optimal number of clusters with elbow method, we need to look at where the bend is located which can be gauged to be 3 from our analysis below&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;fviz_nbclust(dataset_all_scaled, FUN = hcut, method = &amp;quot;wss&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/elbow-method-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h4 id="average-silhouette-method"&gt;Average silhouette method&lt;/h4&gt;
&lt;p&gt;Average silhouette method indicates how well the clusters form with within cluster difference minimized at the optimal cluster number. Thus, the highest average silhouette width corresponds to the optimal number of clusters.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;fviz_nbclust(dataset_all_scaled, FUN = hcut, method = &amp;quot;silhouette&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/silhoutte-method-1.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;From the plot above, the optimal number of clusters is 3.&lt;/p&gt;
&lt;h4 id="gap-statistics-method"&gt;Gap statistics method&lt;/h4&gt;
&lt;pre class="r"&gt;&lt;code&gt;dataset_gapstat &amp;lt;- clusGap(dataset_all_scaled, FUN = hcut, K.max = 10)

fviz_gap_stat(dataset_gapstat)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/gap-stat-method-1.png" width="672" /&gt;&lt;/p&gt;
&lt;p&gt;The gaps method identified 1 to be the optimal number of clusters within a range of 1 to 10 clusters. Well, as we can deduce, different methods can identify different number of optimal clusters. With 2 of the methods suggesting 3 to be the optimal number of clusters, we can go by that.&lt;/p&gt;
&lt;p&gt;Now that we know the optimal number of clusters, let’s use that to visualize the data but in a way different from the previous.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# Cut the dendrogram into 4 clusters
colors = c(&amp;quot;brown&amp;quot;, &amp;quot;orange&amp;quot;, &amp;quot;#1DEfbb&amp;quot;, &amp;quot;yellow&amp;quot;)

ward_cut &amp;lt;- cutree(hcl_complete, k = 3)
plot(as.phylo(hcl_complete), type = &amp;quot;fan&amp;quot;, tip.color = colors[ward_cut], label.offset = .5, cex = 0.7, no.margin = TRUE, use.edge.length = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file12f2d60b36e1f_files/figure-html/fan-dendrogram-1.png" width="672" /&gt;&lt;/p&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;With this simple exercise, we learnt how to undertake hierarchical clustering analysis using a project that is typical of the real world. We went through process of data wrangling and transformation, clustering and determining the optimal number of clusters.&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>ec2458ebc6dbcd5edece58f4b7dded24</distill:md5>
      <category>Unsupervised learning</category>
      <guid>https://addurl/posts/2022-07-20-hierarchical-clustering-which-states-in-nigeria-have-similar-expenditure-profile</guid>
      <pubDate>Mon, 18 Jul 2022 00:00:00 +0000</pubDate>
      <media:content url="https://addurl/posts/2022-07-20-hierarchical-clustering-which-states-in-nigeria-have-similar-expenditure-profile/hierarchical-clustering-which-states-in-nigeria-have-similar-expenditure-profile_files/figure-html5/customize-dendro-1.png" medium="image" type="image/png" width="1536" height="1152"/>
    </item>
    <item>
      <title>Data visualization</title>
      <dc:creator>Linus Agbleze</dc:creator>
      <link>https://addurl/posts/2022-07-17-data-visualization</link>
      <description>This post entails the use of ggplot for data visualization.</description>
      <category>visualization</category>
      <guid>https://addurl/posts/2022-07-17-data-visualization</guid>
      <pubDate>Sun, 17 Jul 2022 00:00:00 +0000</pubDate>
      <media:content url="https://addurl/posts/2022-07-17-data-visualization/data-visualization_files/figure-html5/unnamed-chunk-1-1.png" medium="image" type="image/png" width="1248" height="768"/>
    </item>
    <item>
      <title>Welcome to Datasiast!</title>
      <dc:creator>Linus Agbleze</dc:creator>
      <link>https://addurl/posts/welcome</link>
      <description>Datasiast exists for enthusiatic data science knowledge sharing and practice.</description>
      <guid>https://addurl/posts/welcome</guid>
      <pubDate>Sun, 17 Jul 2022 00:00:00 +0000</pubDate>
    </item>
  </channel>
</rss>
